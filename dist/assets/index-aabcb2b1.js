(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ak(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ik(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Aw={exports:{}},yc={},Iw={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=Symbol.for("react.element"),Rk=Symbol.for("react.portal"),Pk=Symbol.for("react.fragment"),Nk=Symbol.for("react.strict_mode"),Ok=Symbol.for("react.profiler"),Mk=Symbol.for("react.provider"),Lk=Symbol.for("react.context"),jk=Symbol.for("react.forward_ref"),Dk=Symbol.for("react.suspense"),Uk=Symbol.for("react.memo"),Fk=Symbol.for("react.lazy"),Hg=Symbol.iterator;function Hk(t){return t===null||typeof t!="object"?null:(t=Hg&&t[Hg]||t["@@iterator"],typeof t=="function"?t:null)}var Rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pw=Object.assign,Nw={};function Co(t,e,n){this.props=t,this.context=e,this.refs=Nw,this.updater=n||Rw}Co.prototype.isReactComponent={};Co.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Co.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ow(){}Ow.prototype=Co.prototype;function lf(t,e,n){this.props=t,this.context=e,this.refs=Nw,this.updater=n||Rw}var cf=lf.prototype=new Ow;cf.constructor=lf;Pw(cf,Co.prototype);cf.isPureReactComponent=!0;var Bg=Array.isArray,Mw=Object.prototype.hasOwnProperty,uf={current:null},Lw={key:!0,ref:!0,__self:!0,__source:!0};function jw(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Mw.call(e,r)&&!Lw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xs,type:t,key:o,ref:s,props:i,_owner:uf.current}}function Bk(t,e){return{$$typeof:Xs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function df(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xs}function $k(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $g=/\/+/g;function yu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$k(""+t.key):e.toString(36)}function Za(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Xs:case Rk:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+yu(s,0):r,Bg(i)?(n="",t!=null&&(n=t.replace($g,"$&/")+"/"),Za(i,e,n,"",function(c){return c})):i!=null&&(df(i)&&(i=Bk(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace($g,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Bg(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+yu(o,a);s+=Za(o,e,n,l,i)}else if(l=Hk(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+yu(o,a++),s+=Za(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ma(t,e,n){if(t==null)return t;var r=[],i=0;return Za(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Vk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lt={current:null},el={transition:null},zk={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:el,ReactCurrentOwner:uf};function Dw(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ma,forEach:function(t,e,n){ma(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ma(t,function(){e++}),e},toArray:function(t){return ma(t,function(e){return e})||[]},only:function(t){if(!df(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=Co;J.Fragment=Pk;J.Profiler=Ok;J.PureComponent=lf;J.StrictMode=Nk;J.Suspense=Dk;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zk;J.act=Dw;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Pw({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=uf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Mw.call(e,l)&&!Lw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Xs,type:t.type,key:i,ref:o,props:r,_owner:s}};J.createContext=function(t){return t={$$typeof:Lk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mk,_context:t},t.Consumer=t};J.createElement=jw;J.createFactory=function(t){var e=jw.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:jk,render:t}};J.isValidElement=df;J.lazy=function(t){return{$$typeof:Fk,_payload:{_status:-1,_result:t},_init:Vk}};J.memo=function(t,e){return{$$typeof:Uk,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=el.transition;el.transition={};try{t()}finally{el.transition=e}};J.unstable_act=Dw;J.useCallback=function(t,e){return lt.current.useCallback(t,e)};J.useContext=function(t){return lt.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return lt.current.useDeferredValue(t)};J.useEffect=function(t,e){return lt.current.useEffect(t,e)};J.useId=function(){return lt.current.useId()};J.useImperativeHandle=function(t,e,n){return lt.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return lt.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return lt.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return lt.current.useMemo(t,e)};J.useReducer=function(t,e,n){return lt.current.useReducer(t,e,n)};J.useRef=function(t){return lt.current.useRef(t)};J.useState=function(t){return lt.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return lt.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return lt.current.useTransition()};J.version="18.3.1";Iw.exports=J;var C=Iw.exports;const je=Ak(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk=C,Gk=Symbol.for("react.element"),Wk=Symbol.for("react.fragment"),qk=Object.prototype.hasOwnProperty,Qk=Kk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yk={key:!0,ref:!0,__self:!0,__source:!0};function Uw(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)qk.call(e,r)&&!Yk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Gk,type:t,key:o,ref:s,props:i,_owner:Qk.current}}yc.Fragment=Wk;yc.jsx=Uw;yc.jsxs=Uw;Aw.exports=yc;var p=Aw.exports,vd={},Fw={exports:{}},Pt={},Hw={exports:{}},Bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,j){var D=M.length;M.push(j);e:for(;0<D;){var B=D-1>>>1,te=M[B];if(0<i(te,j))M[B]=j,M[D]=te,D=B;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var j=M[0],D=M.pop();if(D!==j){M[0]=D;e:for(var B=0,te=M.length,me=te>>>1;B<me;){var wt=2*(B+1)-1,wi=M[wt],Ct=wt+1,Or=M[Ct];if(0>i(wi,D))Ct<te&&0>i(Or,wi)?(M[B]=Or,M[Ct]=D,B=Ct):(M[B]=wi,M[wt]=D,B=wt);else if(Ct<te&&0>i(Or,D))M[B]=Or,M[Ct]=D,B=Ct;else break e}}return j}function i(M,j){var D=M.sortIndex-j.sortIndex;return D!==0?D:M.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(M){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=M)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function T(M){if(v=!1,m(M),!g)if(n(l)!==null)g=!0,V(x);else{var j=n(c);j!==null&&oe(T,j.startTime-M)}}function x(M,j){g=!1,v&&(v=!1,w(k),k=-1),f=!0;var D=h;try{for(m(j),d=n(l);d!==null&&(!(d.expirationTime>j)||M&&!G());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var te=B(d.expirationTime<=j);j=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),m(j)}else r(l);d=n(l)}if(d!==null)var me=!0;else{var wt=n(c);wt!==null&&oe(T,wt.startTime-j),me=!1}return me}finally{d=null,h=D,f=!1}}var I=!1,_=null,k=-1,R=5,O=-1;function G(){return!(t.unstable_now()-O<R)}function L(){if(_!==null){var M=t.unstable_now();O=M;var j=!0;try{j=_(!0,M)}finally{j?Q():(I=!1,_=null)}}else I=!1}var Q;if(typeof y=="function")Q=function(){y(L)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ie=ee.port2;ee.port1.onmessage=L,Q=function(){ie.postMessage(null)}}else Q=function(){S(L,0)};function V(M){_=M,I||(I=!0,Q())}function oe(M,j){k=S(function(){M(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,V(x))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var D=h;h=j;try{return M()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,j){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=h;h=M;try{return j()}finally{h=D}},t.unstable_scheduleCallback=function(M,j,D){var B=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?B+D:B):D=B,M){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=D+te,M={id:u++,callback:j,priorityLevel:M,startTime:D,expirationTime:te,sortIndex:-1},D>B?(M.sortIndex=D,e(c,M),n(l)===null&&M===n(c)&&(v?(w(k),k=-1):v=!0,oe(T,D-B))):(M.sortIndex=te,e(l,M),g||f||(g=!0,V(x))),M},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(M){var j=h;return function(){var D=h;h=j;try{return M.apply(this,arguments)}finally{h=D}}}})(Bw);Hw.exports=Bw;var Jk=Hw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xk=C,At=Jk;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $w=new Set,xs={};function hi(t,e){oo(t,e),oo(t+"Capture",e)}function oo(t,e){for(xs[t]=e,t=0;t<e.length;t++)$w.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wd=Object.prototype.hasOwnProperty,Zk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vg={},zg={};function e_(t){return wd.call(zg,t)?!0:wd.call(Vg,t)?!1:Zk.test(t)?zg[t]=!0:(Vg[t]=!0,!1)}function t_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n_(t,e,n,r){if(e===null||typeof e>"u"||t_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ct(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var hf=/[\-:]([a-z])/g;function ff(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hf,ff);We[e]=new ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hf,ff);We[e]=new ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hf,ff);We[e]=new ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new ct(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function pf(t,e,n,r){var i=We.hasOwnProperty(e)?We[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n_(e,n,i,r)&&(n=null),r||i===null?e_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vn=Xk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ya=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),gf=Symbol.for("react.strict_mode"),Cd=Symbol.for("react.profiler"),Vw=Symbol.for("react.provider"),zw=Symbol.for("react.context"),mf=Symbol.for("react.forward_ref"),Sd=Symbol.for("react.suspense"),Td=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),Kw=Symbol.for("react.offscreen"),Kg=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=Kg&&t[Kg]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,vu;function Qo(t){if(vu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vu=e&&e[1]||""}return`
`+vu+t}var wu=!1;function Cu(t,e){if(!t||wu)return"";wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{wu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function r_(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=Cu(t.type,!1),t;case 11:return t=Cu(t.type.render,!1),t;case 1:return t=Cu(t.type,!0),t;default:return""}}function Ed(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Pi:return"Portal";case Cd:return"Profiler";case gf:return"StrictMode";case Sd:return"Suspense";case Td:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zw:return(t.displayName||"Context")+".Consumer";case Vw:return(t._context.displayName||"Context")+".Provider";case mf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yf:return e=t.displayName||null,e!==null?e:Ed(t.type)||"Memo";case Xn:e=t._payload,t=t._init;try{return Ed(t(e))}catch{}}return null}function i_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ed(e);case 8:return e===gf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o_(t){var e=Gw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function va(t){t._valueTracker||(t._valueTracker=o_(t))}function Ww(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xd(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qw(t,e){e=e.checked,e!=null&&pf(t,"checked",e,!1)}function kd(t,e){qw(t,e);var n=Tr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_d(t,e.type,n):e.hasOwnProperty("defaultValue")&&_d(t,e.type,Tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _d(t,e,n){(e!=="number"||yl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yo=Array.isArray;function qi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Yo(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tr(n)}}function Qw(t,e){var n=Tr(e.value),r=Tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ad(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wa,Jw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wa=wa||document.createElement("div"),wa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ks(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s_=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(t){s_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rs[e]=rs[t]})});function Xw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rs.hasOwnProperty(t)&&rs[t]?(""+e).trim():e+"px"}function Zw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var a_=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Id(t,e){if(e){if(a_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Rd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=null;function vf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nd=null,Qi=null,Yi=null;function Yg(t){if(t=ta(t)){if(typeof Nd!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Tc(e),Nd(t.stateNode,t.type,e))}}function e0(t){Qi?Yi?Yi.push(t):Yi=[t]:Qi=t}function t0(){if(Qi){var t=Qi,e=Yi;if(Yi=Qi=null,Yg(t),e)for(t=0;t<e.length;t++)Yg(e[t])}}function n0(t,e){return t(e)}function r0(){}var Su=!1;function i0(t,e,n){if(Su)return t(e,n);Su=!0;try{return n0(t,e,n)}finally{Su=!1,(Qi!==null||Yi!==null)&&(r0(),t0())}}function _s(t,e){var n=t.stateNode;if(n===null)return null;var r=Tc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Od=!1;if(jn)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){Od=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{Od=!1}function l_(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var is=!1,vl=null,wl=!1,Md=null,c_={onError:function(t){is=!0,vl=t}};function u_(t,e,n,r,i,o,s,a,l){is=!1,vl=null,l_.apply(c_,arguments)}function d_(t,e,n,r,i,o,s,a,l){if(u_.apply(this,arguments),is){if(is){var c=vl;is=!1,vl=null}else throw Error(N(198));wl||(wl=!0,Md=c)}}function fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jg(t){if(fi(t)!==t)throw Error(N(188))}function h_(t){var e=t.alternate;if(!e){if(e=fi(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jg(i),t;if(o===r)return Jg(i),e;o=o.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function s0(t){return t=h_(t),t!==null?a0(t):null}function a0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=a0(t);if(e!==null)return e;t=t.sibling}return null}var l0=At.unstable_scheduleCallback,Xg=At.unstable_cancelCallback,f_=At.unstable_shouldYield,p_=At.unstable_requestPaint,be=At.unstable_now,g_=At.unstable_getCurrentPriorityLevel,wf=At.unstable_ImmediatePriority,c0=At.unstable_UserBlockingPriority,Cl=At.unstable_NormalPriority,m_=At.unstable_LowPriority,u0=At.unstable_IdlePriority,vc=null,vn=null;function y_(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(vc,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:C_,v_=Math.log,w_=Math.LN2;function C_(t){return t>>>=0,t===0?32:31-(v_(t)/w_|0)|0}var Ca=64,Sa=4194304;function Jo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Jo(a):(o&=s,o!==0&&(r=Jo(o)))}else s=n&~i,s!==0?r=Jo(s):o!==0&&(r=Jo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function S_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Jt(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=S_(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Ld(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function d0(){var t=Ca;return Ca<<=1,!(Ca&4194240)&&(Ca=64),t}function Tu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function E_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Cf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function h0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var f0,Sf,p0,g0,m0,jd=!1,Ta=[],cr=null,ur=null,dr=null,bs=new Map,As=new Map,nr=[],x_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zg(t,e){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":bs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(e.pointerId)}}function Lo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ta(e),e!==null&&Sf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function k_(t,e,n,r,i){switch(e){case"focusin":return cr=Lo(cr,t,e,n,r,i),!0;case"dragenter":return ur=Lo(ur,t,e,n,r,i),!0;case"mouseover":return dr=Lo(dr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return bs.set(o,Lo(bs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,As.set(o,Lo(As.get(o)||null,t,e,n,r,i)),!0}return!1}function y0(t){var e=Kr(t.target);if(e!==null){var n=fi(e);if(n!==null){if(e=n.tag,e===13){if(e=o0(n),e!==null){t.blockedOn=e,m0(t.priority,function(){p0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pd=r,n.target.dispatchEvent(r),Pd=null}else return e=ta(n),e!==null&&Sf(e),t.blockedOn=n,!1;e.shift()}return!0}function em(t,e,n){tl(t)&&n.delete(e)}function __(){jd=!1,cr!==null&&tl(cr)&&(cr=null),ur!==null&&tl(ur)&&(ur=null),dr!==null&&tl(dr)&&(dr=null),bs.forEach(em),As.forEach(em)}function jo(t,e){t.blockedOn===e&&(t.blockedOn=null,jd||(jd=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,__)))}function Is(t){function e(i){return jo(i,t)}if(0<Ta.length){jo(Ta[0],t);for(var n=1;n<Ta.length;n++){var r=Ta[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cr!==null&&jo(cr,t),ur!==null&&jo(ur,t),dr!==null&&jo(dr,t),bs.forEach(e),As.forEach(e),n=0;n<nr.length;n++)r=nr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<nr.length&&(n=nr[0],n.blockedOn===null);)y0(n),n.blockedOn===null&&nr.shift()}var Ji=Vn.ReactCurrentBatchConfig,Tl=!0;function b_(t,e,n,r){var i=ae,o=Ji.transition;Ji.transition=null;try{ae=1,Tf(t,e,n,r)}finally{ae=i,Ji.transition=o}}function A_(t,e,n,r){var i=ae,o=Ji.transition;Ji.transition=null;try{ae=4,Tf(t,e,n,r)}finally{ae=i,Ji.transition=o}}function Tf(t,e,n,r){if(Tl){var i=Dd(t,e,n,r);if(i===null)Nu(t,e,r,El,n),Zg(t,r);else if(k_(i,t,e,n,r))r.stopPropagation();else if(Zg(t,r),e&4&&-1<x_.indexOf(t)){for(;i!==null;){var o=ta(i);if(o!==null&&f0(o),o=Dd(t,e,n,r),o===null&&Nu(t,e,r,El,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Nu(t,e,r,null,n)}}var El=null;function Dd(t,e,n,r){if(El=null,t=vf(r),t=Kr(t),t!==null)if(e=fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=o0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return El=t,null}function v0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g_()){case wf:return 1;case c0:return 4;case Cl:case m_:return 16;case u0:return 536870912;default:return 16}default:return 16}}var sr=null,Ef=null,nl=null;function w0(){if(nl)return nl;var t,e=Ef,n=e.length,r,i="value"in sr?sr.value:sr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return nl=i.slice(t,1<r?1-r:void 0)}function rl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ea(){return!0}function tm(){return!1}function Nt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ea:tm,this.isPropagationStopped=tm,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),e}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xf=Nt(So),ea=xe({},So,{view:0,detail:0}),I_=Nt(ea),Eu,xu,Do,wc=xe({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Do&&(Do&&t.type==="mousemove"?(Eu=t.screenX-Do.screenX,xu=t.screenY-Do.screenY):xu=Eu=0,Do=t),Eu)},movementY:function(t){return"movementY"in t?t.movementY:xu}}),nm=Nt(wc),R_=xe({},wc,{dataTransfer:0}),P_=Nt(R_),N_=xe({},ea,{relatedTarget:0}),ku=Nt(N_),O_=xe({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),M_=Nt(O_),L_=xe({},So,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),j_=Nt(L_),D_=xe({},So,{data:0}),rm=Nt(D_),U_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=H_[t])?!!e[t]:!1}function kf(){return B_}var $_=xe({},ea,{key:function(t){if(t.key){var e=U_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?F_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(t){return t.type==="keypress"?rl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),V_=Nt($_),z_=xe({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=Nt(z_),K_=xe({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),G_=Nt(K_),W_=xe({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),q_=Nt(W_),Q_=xe({},wc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y_=Nt(Q_),J_=[9,13,27,32],_f=jn&&"CompositionEvent"in window,os=null;jn&&"documentMode"in document&&(os=document.documentMode);var X_=jn&&"TextEvent"in window&&!os,C0=jn&&(!_f||os&&8<os&&11>=os),om=String.fromCharCode(32),sm=!1;function S0(t,e){switch(t){case"keyup":return J_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oi=!1;function Z_(t,e){switch(t){case"compositionend":return T0(e);case"keypress":return e.which!==32?null:(sm=!0,om);case"textInput":return t=e.data,t===om&&sm?null:t;default:return null}}function eb(t,e){if(Oi)return t==="compositionend"||!_f&&S0(t,e)?(t=w0(),nl=Ef=sr=null,Oi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return C0&&e.locale!=="ko"?null:e.data;default:return null}}var tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tb[t.type]:e==="textarea"}function E0(t,e,n,r){e0(r),e=xl(e,"onChange"),0<e.length&&(n=new xf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ss=null,Rs=null;function nb(t){M0(t,0)}function Cc(t){var e=ji(t);if(Ww(e))return t}function rb(t,e){if(t==="change")return e}var x0=!1;if(jn){var _u;if(jn){var bu="oninput"in document;if(!bu){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),bu=typeof lm.oninput=="function"}_u=bu}else _u=!1;x0=_u&&(!document.documentMode||9<document.documentMode)}function cm(){ss&&(ss.detachEvent("onpropertychange",k0),Rs=ss=null)}function k0(t){if(t.propertyName==="value"&&Cc(Rs)){var e=[];E0(e,Rs,t,vf(t)),i0(nb,e)}}function ib(t,e,n){t==="focusin"?(cm(),ss=e,Rs=n,ss.attachEvent("onpropertychange",k0)):t==="focusout"&&cm()}function ob(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cc(Rs)}function sb(t,e){if(t==="click")return Cc(e)}function ab(t,e){if(t==="input"||t==="change")return Cc(e)}function lb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:lb;function Ps(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wd.call(e,i)||!en(t[i],e[i]))return!1}return!0}function um(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dm(t,e){var n=um(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=um(n)}}function _0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function b0(){for(var t=window,e=yl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yl(t.document)}return e}function bf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cb(t){var e=b0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_0(n.ownerDocument.documentElement,n)){if(r!==null&&bf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=dm(n,o);var s=dm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ub=jn&&"documentMode"in document&&11>=document.documentMode,Mi=null,Ud=null,as=null,Fd=!1;function hm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fd||Mi==null||Mi!==yl(r)||(r=Mi,"selectionStart"in r&&bf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),as&&Ps(as,r)||(as=r,r=xl(Ud,"onSelect"),0<r.length&&(e=new xf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mi)))}function xa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},Au={},A0={};jn&&(A0=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Sc(t){if(Au[t])return Au[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in A0)return Au[t]=e[n];return t}var I0=Sc("animationend"),R0=Sc("animationiteration"),P0=Sc("animationstart"),N0=Sc("transitionend"),O0=new Map,fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,e){O0.set(t,e),hi(e,[t])}for(var Iu=0;Iu<fm.length;Iu++){var Ru=fm[Iu],db=Ru.toLowerCase(),hb=Ru[0].toUpperCase()+Ru.slice(1);br(db,"on"+hb)}br(I0,"onAnimationEnd");br(R0,"onAnimationIteration");br(P0,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(N0,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function pm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d_(r,e,void 0,t),t.currentTarget=null}function M0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;pm(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;pm(i,a,c),o=l}}}if(wl)throw t=Md,wl=!1,Md=null,t}function pe(t,e){var n=e[zd];n===void 0&&(n=e[zd]=new Set);var r=t+"__bubble";n.has(r)||(L0(e,t,2,!1),n.add(r))}function Pu(t,e,n){var r=0;e&&(r|=4),L0(n,t,r,e)}var ka="_reactListening"+Math.random().toString(36).slice(2);function Ns(t){if(!t[ka]){t[ka]=!0,$w.forEach(function(n){n!=="selectionchange"&&(fb.has(n)||Pu(n,!1,t),Pu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ka]||(e[ka]=!0,Pu("selectionchange",!1,e))}}function L0(t,e,n,r){switch(v0(e)){case 1:var i=b_;break;case 4:i=A_;break;default:i=Tf}n=i.bind(null,e,n,t),i=void 0,!Od||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Nu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Kr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}i0(function(){var c=o,u=vf(n),d=[];e:{var h=O0.get(t);if(h!==void 0){var f=xf,g=t;switch(t){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":f=V_;break;case"focusin":g="focus",f=ku;break;case"focusout":g="blur",f=ku;break;case"beforeblur":case"afterblur":f=ku;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=P_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=G_;break;case I0:case R0:case P0:f=M_;break;case N0:f=q_;break;case"scroll":f=I_;break;case"wheel":f=Y_;break;case"copy":case"cut":case"paste":f=j_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=im}var v=(e&4)!==0,S=!v&&t==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,m;y!==null;){m=y;var T=m.stateNode;if(m.tag===5&&T!==null&&(m=T,w!==null&&(T=_s(y,w),T!=null&&v.push(Os(y,T,m)))),S)break;y=y.return}0<v.length&&(h=new f(h,g,null,n,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Pd&&(g=n.relatedTarget||n.fromElement)&&(Kr(g)||g[Dn]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?Kr(g):null,g!==null&&(S=fi(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(v=nm,T="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=im,T="onPointerLeave",w="onPointerEnter",y="pointer"),S=f==null?h:ji(f),m=g==null?h:ji(g),h=new v(T,y+"leave",f,n,u),h.target=S,h.relatedTarget=m,T=null,Kr(u)===c&&(v=new v(w,y+"enter",g,n,u),v.target=m,v.relatedTarget=S,T=v),S=T,f&&g)t:{for(v=f,w=g,y=0,m=v;m;m=Ci(m))y++;for(m=0,T=w;T;T=Ci(T))m++;for(;0<y-m;)v=Ci(v),y--;for(;0<m-y;)w=Ci(w),m--;for(;y--;){if(v===w||w!==null&&v===w.alternate)break t;v=Ci(v),w=Ci(w)}v=null}else v=null;f!==null&&gm(d,h,f,v,!1),g!==null&&S!==null&&gm(d,S,g,v,!0)}}e:{if(h=c?ji(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=rb;else if(am(h))if(x0)x=ab;else{x=ob;var I=ib}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=sb);if(x&&(x=x(t,c))){E0(d,x,n,u);break e}I&&I(t,h,c),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&_d(h,"number",h.value)}switch(I=c?ji(c):window,t){case"focusin":(am(I)||I.contentEditable==="true")&&(Mi=I,Ud=c,as=null);break;case"focusout":as=Ud=Mi=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,hm(d,n,u);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":hm(d,n,u)}var _;if(_f)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Oi?S0(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(C0&&n.locale!=="ko"&&(Oi||k!=="onCompositionStart"?k==="onCompositionEnd"&&Oi&&(_=w0()):(sr=u,Ef="value"in sr?sr.value:sr.textContent,Oi=!0)),I=xl(c,k),0<I.length&&(k=new rm(k,t,null,n,u),d.push({event:k,listeners:I}),_?k.data=_:(_=T0(n),_!==null&&(k.data=_)))),(_=X_?Z_(t,n):eb(t,n))&&(c=xl(c,"onBeforeInput"),0<c.length&&(u=new rm("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}M0(d,e)})}function Os(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_s(t,n),o!=null&&r.unshift(Os(t,o,i)),o=_s(t,e),o!=null&&r.push(Os(t,o,i))),t=t.return}return r}function Ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gm(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=_s(n,o),l!=null&&s.unshift(Os(n,l,a))):i||(l=_s(n,o),l!=null&&s.push(Os(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var pb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function mm(t){return(typeof t=="string"?t:""+t).replace(pb,`
`).replace(gb,"")}function _a(t,e,n){if(e=mm(e),mm(t)!==e&&n)throw Error(N(425))}function kl(){}var Hd=null,Bd=null;function $d(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vd=typeof setTimeout=="function"?setTimeout:void 0,mb=typeof clearTimeout=="function"?clearTimeout:void 0,ym=typeof Promise=="function"?Promise:void 0,yb=typeof queueMicrotask=="function"?queueMicrotask:typeof ym<"u"?function(t){return ym.resolve(null).then(t).catch(vb)}:Vd;function vb(t){setTimeout(function(){throw t})}function Ou(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Is(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Is(e)}function hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var To=Math.random().toString(36).slice(2),fn="__reactFiber$"+To,Ms="__reactProps$"+To,Dn="__reactContainer$"+To,zd="__reactEvents$"+To,wb="__reactListeners$"+To,Cb="__reactHandles$"+To;function Kr(t){var e=t[fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dn]||n[fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vm(t);t!==null;){if(n=t[fn])return n;t=vm(t)}return e}t=n,n=t.parentNode}return null}function ta(t){return t=t[fn]||t[Dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Tc(t){return t[Ms]||null}var Kd=[],Di=-1;function Ar(t){return{current:t}}function ge(t){0>Di||(t.current=Kd[Di],Kd[Di]=null,Di--)}function de(t,e){Di++,Kd[Di]=t.current,t.current=e}var Er={},et=Ar(Er),gt=Ar(!1),ri=Er;function so(t,e){var n=t.type.contextTypes;if(!n)return Er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function _l(){ge(gt),ge(et)}function wm(t,e,n){if(et.current!==Er)throw Error(N(168));de(et,e),de(gt,n)}function j0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,i_(t)||"Unknown",i));return xe({},n,r)}function bl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Er,ri=et.current,de(et,t),de(gt,gt.current),!0}function Cm(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=j0(t,e,ri),r.__reactInternalMemoizedMergedChildContext=t,ge(gt),ge(et),de(et,t)):ge(gt),de(gt,n)}var bn=null,Ec=!1,Mu=!1;function D0(t){bn===null?bn=[t]:bn.push(t)}function Sb(t){Ec=!0,D0(t)}function Ir(){if(!Mu&&bn!==null){Mu=!0;var t=0,e=ae;try{var n=bn;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bn=null,Ec=!1}catch(i){throw bn!==null&&(bn=bn.slice(t+1)),l0(wf,Ir),i}finally{ae=e,Mu=!1}}return null}var Ui=[],Fi=0,Al=null,Il=0,Lt=[],jt=0,ii=null,An=1,In="";function Dr(t,e){Ui[Fi++]=Il,Ui[Fi++]=Al,Al=t,Il=e}function U0(t,e,n){Lt[jt++]=An,Lt[jt++]=In,Lt[jt++]=ii,ii=t;var r=An;t=In;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var o=32-Jt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,An=1<<32-Jt(e)+i|n<<i|r,In=o+t}else An=1<<o|n<<i|r,In=t}function Af(t){t.return!==null&&(Dr(t,1),U0(t,1,0))}function If(t){for(;t===Al;)Al=Ui[--Fi],Ui[Fi]=null,Il=Ui[--Fi],Ui[Fi]=null;for(;t===ii;)ii=Lt[--jt],Lt[jt]=null,In=Lt[--jt],Lt[jt]=null,An=Lt[--jt],Lt[jt]=null}var _t=null,kt=null,ve=!1,Qt=null;function F0(t,e){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_t=t,kt=hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_t=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ii!==null?{id:An,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_t=t,kt=null,!0):!1;default:return!1}}function Gd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wd(t){if(ve){var e=kt;if(e){var n=e;if(!Sm(t,e)){if(Gd(t))throw Error(N(418));e=hr(n.nextSibling);var r=_t;e&&Sm(t,e)?F0(r,n):(t.flags=t.flags&-4097|2,ve=!1,_t=t)}}else{if(Gd(t))throw Error(N(418));t.flags=t.flags&-4097|2,ve=!1,_t=t}}}function Tm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function ba(t){if(t!==_t)return!1;if(!ve)return Tm(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$d(t.type,t.memoizedProps)),e&&(e=kt)){if(Gd(t))throw H0(),Error(N(418));for(;e;)F0(t,e),e=hr(e.nextSibling)}if(Tm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=_t?hr(t.stateNode.nextSibling):null;return!0}function H0(){for(var t=kt;t;)t=hr(t.nextSibling)}function ao(){kt=_t=null,ve=!1}function Rf(t){Qt===null?Qt=[t]:Qt.push(t)}var Tb=Vn.ReactCurrentBatchConfig;function Uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Aa(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Em(t){var e=t._init;return e(t._payload)}function B0(t){function e(w,y){if(t){var m=w.deletions;m===null?(w.deletions=[y],w.flags|=16):m.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=mr(w,y),w.index=0,w.sibling=null,w}function o(w,y,m){return w.index=m,t?(m=w.alternate,m!==null?(m=m.index,m<y?(w.flags|=2,y):m):(w.flags|=2,y)):(w.flags|=1048576,y)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,m,T){return y===null||y.tag!==6?(y=Bu(m,w.mode,T),y.return=w,y):(y=i(y,m),y.return=w,y)}function l(w,y,m,T){var x=m.type;return x===Ni?u(w,y,m.props.children,T,m.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Xn&&Em(x)===y.type)?(T=i(y,m.props),T.ref=Uo(w,y,m),T.return=w,T):(T=ul(m.type,m.key,m.props,null,w.mode,T),T.ref=Uo(w,y,m),T.return=w,T)}function c(w,y,m,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=$u(m,w.mode,T),y.return=w,y):(y=i(y,m.children||[]),y.return=w,y)}function u(w,y,m,T,x){return y===null||y.tag!==7?(y=Xr(m,w.mode,T,x),y.return=w,y):(y=i(y,m),y.return=w,y)}function d(w,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Bu(""+y,w.mode,m),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ya:return m=ul(y.type,y.key,y.props,null,w.mode,m),m.ref=Uo(w,null,y),m.return=w,m;case Pi:return y=$u(y,w.mode,m),y.return=w,y;case Xn:var T=y._init;return d(w,T(y._payload),m)}if(Yo(y)||Oo(y))return y=Xr(y,w.mode,m,null),y.return=w,y;Aa(w,y)}return null}function h(w,y,m,T){var x=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return x!==null?null:a(w,y,""+m,T);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ya:return m.key===x?l(w,y,m,T):null;case Pi:return m.key===x?c(w,y,m,T):null;case Xn:return x=m._init,h(w,y,x(m._payload),T)}if(Yo(m)||Oo(m))return x!==null?null:u(w,y,m,T,null);Aa(w,m)}return null}function f(w,y,m,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(m)||null,a(y,w,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ya:return w=w.get(T.key===null?m:T.key)||null,l(y,w,T,x);case Pi:return w=w.get(T.key===null?m:T.key)||null,c(y,w,T,x);case Xn:var I=T._init;return f(w,y,m,I(T._payload),x)}if(Yo(T)||Oo(T))return w=w.get(m)||null,u(y,w,T,x,null);Aa(y,T)}return null}function g(w,y,m,T){for(var x=null,I=null,_=y,k=y=0,R=null;_!==null&&k<m.length;k++){_.index>k?(R=_,_=null):R=_.sibling;var O=h(w,_,m[k],T);if(O===null){_===null&&(_=R);break}t&&_&&O.alternate===null&&e(w,_),y=o(O,y,k),I===null?x=O:I.sibling=O,I=O,_=R}if(k===m.length)return n(w,_),ve&&Dr(w,k),x;if(_===null){for(;k<m.length;k++)_=d(w,m[k],T),_!==null&&(y=o(_,y,k),I===null?x=_:I.sibling=_,I=_);return ve&&Dr(w,k),x}for(_=r(w,_);k<m.length;k++)R=f(_,w,k,m[k],T),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?k:R.key),y=o(R,y,k),I===null?x=R:I.sibling=R,I=R);return t&&_.forEach(function(G){return e(w,G)}),ve&&Dr(w,k),x}function v(w,y,m,T){var x=Oo(m);if(typeof x!="function")throw Error(N(150));if(m=x.call(m),m==null)throw Error(N(151));for(var I=x=null,_=y,k=y=0,R=null,O=m.next();_!==null&&!O.done;k++,O=m.next()){_.index>k?(R=_,_=null):R=_.sibling;var G=h(w,_,O.value,T);if(G===null){_===null&&(_=R);break}t&&_&&G.alternate===null&&e(w,_),y=o(G,y,k),I===null?x=G:I.sibling=G,I=G,_=R}if(O.done)return n(w,_),ve&&Dr(w,k),x;if(_===null){for(;!O.done;k++,O=m.next())O=d(w,O.value,T),O!==null&&(y=o(O,y,k),I===null?x=O:I.sibling=O,I=O);return ve&&Dr(w,k),x}for(_=r(w,_);!O.done;k++,O=m.next())O=f(_,w,k,O.value,T),O!==null&&(t&&O.alternate!==null&&_.delete(O.key===null?k:O.key),y=o(O,y,k),I===null?x=O:I.sibling=O,I=O);return t&&_.forEach(function(L){return e(w,L)}),ve&&Dr(w,k),x}function S(w,y,m,T){if(typeof m=="object"&&m!==null&&m.type===Ni&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ya:e:{for(var x=m.key,I=y;I!==null;){if(I.key===x){if(x=m.type,x===Ni){if(I.tag===7){n(w,I.sibling),y=i(I,m.props.children),y.return=w,w=y;break e}}else if(I.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Xn&&Em(x)===I.type){n(w,I.sibling),y=i(I,m.props),y.ref=Uo(w,I,m),y.return=w,w=y;break e}n(w,I);break}else e(w,I);I=I.sibling}m.type===Ni?(y=Xr(m.props.children,w.mode,T,m.key),y.return=w,w=y):(T=ul(m.type,m.key,m.props,null,w.mode,T),T.ref=Uo(w,y,m),T.return=w,w=T)}return s(w);case Pi:e:{for(I=m.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){n(w,y.sibling),y=i(y,m.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=$u(m,w.mode,T),y.return=w,w=y}return s(w);case Xn:return I=m._init,S(w,y,I(m._payload),T)}if(Yo(m))return g(w,y,m,T);if(Oo(m))return v(w,y,m,T);Aa(w,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,m),y.return=w,w=y):(n(w,y),y=Bu(m,w.mode,T),y.return=w,w=y),s(w)):n(w,y)}return S}var lo=B0(!0),$0=B0(!1),Rl=Ar(null),Pl=null,Hi=null,Pf=null;function Nf(){Pf=Hi=Pl=null}function Of(t){var e=Rl.current;ge(Rl),t._currentValue=e}function qd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xi(t,e){Pl=t,Pf=Hi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pt=!0),t.firstContext=null)}function Ht(t){var e=t._currentValue;if(Pf!==t)if(t={context:t,memoizedValue:e,next:null},Hi===null){if(Pl===null)throw Error(N(308));Hi=t,Pl.dependencies={lanes:0,firstContext:t}}else Hi=Hi.next=t;return e}var Gr=null;function Mf(t){Gr===null?Gr=[t]:Gr.push(t)}function V0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Mf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Un(t,r)}function Un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zn=!1;function Lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Un(t,n)}return i=r.interleaved,i===null?(e.next=e,Mf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Un(t,n)}function il(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cf(t,n)}}function xm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nl(t,e,n,r){var i=t.updateQueue;Zn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,f=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=xe({},d,h);break e;case 2:Zn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);si|=s,t.lanes=s,t.memoizedState=d}}function km(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var na={},wn=Ar(na),Ls=Ar(na),js=Ar(na);function Wr(t){if(t===na)throw Error(N(174));return t}function jf(t,e){switch(de(js,e),de(Ls,t),de(wn,na),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ad(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ad(e,t)}ge(wn),de(wn,e)}function co(){ge(wn),ge(Ls),ge(js)}function K0(t){Wr(js.current);var e=Wr(wn.current),n=Ad(e,t.type);e!==n&&(de(Ls,t),de(wn,n))}function Df(t){Ls.current===t&&(ge(wn),ge(Ls))}var Se=Ar(0);function Ol(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lu=[];function Uf(){for(var t=0;t<Lu.length;t++)Lu[t]._workInProgressVersionPrimary=null;Lu.length=0}var ol=Vn.ReactCurrentDispatcher,ju=Vn.ReactCurrentBatchConfig,oi=0,Ee=null,Me=null,He=null,Ml=!1,ls=!1,Ds=0,Eb=0;function qe(){throw Error(N(321))}function Ff(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function Hf(t,e,n,r,i,o){if(oi=o,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ol.current=t===null||t.memoizedState===null?bb:Ab,t=n(r,i),ls){o=0;do{if(ls=!1,Ds=0,25<=o)throw Error(N(301));o+=1,He=Me=null,e.updateQueue=null,ol.current=Ib,t=n(r,i)}while(ls)}if(ol.current=Ll,e=Me!==null&&Me.next!==null,oi=0,He=Me=Ee=null,Ml=!1,e)throw Error(N(300));return t}function Bf(){var t=Ds!==0;return Ds=0,t}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ee.memoizedState=He=t:He=He.next=t,He}function Bt(){if(Me===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=He===null?Ee.memoizedState:He.next;if(e!==null)He=e,Me=t;else{if(t===null)throw Error(N(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},He===null?Ee.memoizedState=He=t:He=He.next=t}return He}function Us(t,e){return typeof e=="function"?e(t):e}function Du(t){var e=Bt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((oi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ee.lanes|=u,si|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,en(r,e.memoizedState)||(pt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ee.lanes|=o,si|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Uu(t){var e=Bt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);en(o,e.memoizedState)||(pt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function G0(){}function W0(t,e){var n=Ee,r=Bt(),i=e(),o=!en(r.memoizedState,i);if(o&&(r.memoizedState=i,pt=!0),r=r.queue,$f(Y0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Fs(9,Q0.bind(null,n,r,i,e),void 0,null),Be===null)throw Error(N(349));oi&30||q0(n,e,i)}return i}function q0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q0(t,e,n,r){e.value=n,e.getSnapshot=r,J0(e)&&X0(t)}function Y0(t,e,n){return n(function(){J0(e)&&X0(t)})}function J0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function X0(t){var e=Un(t,1);e!==null&&Xt(e,t,1,-1)}function _m(t){var e=hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:t},e.queue=t,t=t.dispatch=_b.bind(null,Ee,t),[e.memoizedState,t]}function Fs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Z0(){return Bt().memoizedState}function sl(t,e,n,r){var i=hn();Ee.flags|=t,i.memoizedState=Fs(1|e,n,void 0,r===void 0?null:r)}function xc(t,e,n,r){var i=Bt();r=r===void 0?null:r;var o=void 0;if(Me!==null){var s=Me.memoizedState;if(o=s.destroy,r!==null&&Ff(r,s.deps)){i.memoizedState=Fs(e,n,o,r);return}}Ee.flags|=t,i.memoizedState=Fs(1|e,n,o,r)}function bm(t,e){return sl(8390656,8,t,e)}function $f(t,e){return xc(2048,8,t,e)}function eC(t,e){return xc(4,2,t,e)}function tC(t,e){return xc(4,4,t,e)}function nC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rC(t,e,n){return n=n!=null?n.concat([t]):null,xc(4,4,nC.bind(null,e,t),n)}function Vf(){}function iC(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ff(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oC(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ff(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sC(t,e,n){return oi&21?(en(n,e)||(n=d0(),Ee.lanes|=n,si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pt=!0),t.memoizedState=n)}function xb(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=ju.transition;ju.transition={};try{t(!1),e()}finally{ae=n,ju.transition=r}}function aC(){return Bt().memoizedState}function kb(t,e,n){var r=gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lC(t))cC(e,n);else if(n=V0(t,e,n,r),n!==null){var i=st();Xt(n,t,r,i),uC(n,e,r)}}function _b(t,e,n){var r=gr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lC(t))cC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,en(a,s)){var l=e.interleaved;l===null?(i.next=i,Mf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=V0(t,e,i,r),n!==null&&(i=st(),Xt(n,t,r,i),uC(n,e,r))}}function lC(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function cC(t,e){ls=Ml=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cf(t,n)}}var Ll={readContext:Ht,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},bb={readContext:Ht,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:Ht,useEffect:bm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sl(4194308,4,nC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sl(4194308,4,t,e)},useInsertionEffect:function(t,e){return sl(4,2,t,e)},useMemo:function(t,e){var n=hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kb.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:_m,useDebugValue:Vf,useDeferredValue:function(t){return hn().memoizedState=t},useTransition:function(){var t=_m(!1),e=t[0];return t=xb.bind(null,t[1]),hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=hn();if(ve){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Be===null)throw Error(N(349));oi&30||q0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,bm(Y0.bind(null,r,o,t),[t]),r.flags|=2048,Fs(9,Q0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=hn(),e=Be.identifierPrefix;if(ve){var n=In,r=An;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ds++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Eb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ab={readContext:Ht,useCallback:iC,useContext:Ht,useEffect:$f,useImperativeHandle:rC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:oC,useReducer:Du,useRef:Z0,useState:function(){return Du(Us)},useDebugValue:Vf,useDeferredValue:function(t){var e=Bt();return sC(e,Me.memoizedState,t)},useTransition:function(){var t=Du(Us)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:G0,useSyncExternalStore:W0,useId:aC,unstable_isNewReconciler:!1},Ib={readContext:Ht,useCallback:iC,useContext:Ht,useEffect:$f,useImperativeHandle:rC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:oC,useReducer:Uu,useRef:Z0,useState:function(){return Uu(Us)},useDebugValue:Vf,useDeferredValue:function(t){var e=Bt();return Me===null?e.memoizedState=t:sC(e,Me.memoizedState,t)},useTransition:function(){var t=Uu(Us)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:G0,useSyncExternalStore:W0,useId:aC,unstable_isNewReconciler:!1};function Kt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kc={isMounted:function(t){return(t=t._reactInternals)?fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=st(),i=gr(t),o=Nn(r,i);o.payload=e,n!=null&&(o.callback=n),e=fr(t,o,i),e!==null&&(Xt(e,t,i,r),il(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=st(),i=gr(t),o=Nn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=fr(t,o,i),e!==null&&(Xt(e,t,i,r),il(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=st(),r=gr(t),i=Nn(n,r);i.tag=2,e!=null&&(i.callback=e),e=fr(t,i,r),e!==null&&(Xt(e,t,r,n),il(e,t,r))}};function Am(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ps(n,r)||!Ps(i,o):!0}function dC(t,e,n){var r=!1,i=Er,o=e.contextType;return typeof o=="object"&&o!==null?o=Ht(o):(i=mt(e)?ri:et.current,r=e.contextTypes,o=(r=r!=null)?so(t,i):Er),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Im(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kc.enqueueReplaceState(e,e.state,null)}function Yd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Lf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ht(o):(o=mt(e)?ri:et.current,i.context=so(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Qd(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kc.enqueueReplaceState(i,i.state,null),Nl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uo(t,e){try{var n="",r=e;do n+=r_(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Fu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rb=typeof WeakMap=="function"?WeakMap:Map;function hC(t,e,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dl||(Dl=!0,ah=r),Jd(t,e)},n}function fC(t,e,n){n=Nn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jd(t,e),typeof r!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Rm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Rb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zb.bind(null,t,e,n),e.then(t,t))}function Pm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nn(-1,1),e.tag=2,fr(n,e,1))),n.lanes|=1),t)}var Pb=Vn.ReactCurrentOwner,pt=!1;function it(t,e,n,r){e.child=t===null?$0(e,null,n,r):lo(e,t.child,n,r)}function Om(t,e,n,r,i){n=n.render;var o=e.ref;return Xi(e,i),r=Hf(t,e,n,r,o,i),n=Bf(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fn(t,e,i)):(ve&&n&&Af(e),e.flags|=1,it(t,e,r,i),e.child)}function Mm(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Jf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,pC(t,e,o,r,i)):(t=ul(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ps,n(s,r)&&t.ref===e.ref)return Fn(t,e,i)}return e.flags|=1,t=mr(o,r),t.ref=e.ref,t.return=e,e.child=t}function pC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ps(o,r)&&t.ref===e.ref)if(pt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(pt=!0);else return e.lanes=t.lanes,Fn(t,e,i)}return Xd(t,e,n,r,i)}function gC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de($i,Et),Et|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de($i,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de($i,Et),Et|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,de($i,Et),Et|=r;return it(t,e,i,n),e.child}function mC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xd(t,e,n,r,i){var o=mt(n)?ri:et.current;return o=so(e,o),Xi(e,i),n=Hf(t,e,n,r,o,i),r=Bf(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fn(t,e,i)):(ve&&r&&Af(e),e.flags|=1,it(t,e,n,i),e.child)}function Lm(t,e,n,r,i){if(mt(n)){var o=!0;bl(e)}else o=!1;if(Xi(e,i),e.stateNode===null)al(t,e),dC(e,n,r),Yd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ht(c):(c=mt(n)?ri:et.current,c=so(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Im(e,s,r,c),Zn=!1;var h=e.memoizedState;s.state=h,Nl(e,r,s,i),l=e.memoizedState,a!==r||h!==l||gt.current||Zn?(typeof u=="function"&&(Qd(e,n,u,r),l=e.memoizedState),(a=Zn||Am(e,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,z0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kt(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ht(l):(l=mt(n)?ri:et.current,l=so(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Im(e,s,r,l),Zn=!1,h=e.memoizedState,s.state=h,Nl(e,r,s,i);var g=e.memoizedState;a!==d||h!==g||gt.current||Zn?(typeof f=="function"&&(Qd(e,n,f,r),g=e.memoizedState),(c=Zn||Am(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Zd(t,e,n,r,o,i)}function Zd(t,e,n,r,i,o){mC(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Cm(e,n,!1),Fn(t,e,o);r=e.stateNode,Pb.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=lo(e,t.child,null,o),e.child=lo(e,null,a,o)):it(t,e,a,o),e.memoizedState=r.state,i&&Cm(e,n,!0),e.child}function yC(t){var e=t.stateNode;e.pendingContext?wm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wm(t,e.context,!1),jf(t,e.containerInfo)}function jm(t,e,n,r,i){return ao(),Rf(i),e.flags|=256,it(t,e,n,r),e.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function th(t){return{baseLanes:t,cachePool:null,transitions:null}}function vC(t,e,n){var r=e.pendingProps,i=Se.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),de(Se,i&1),t===null)return Wd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ac(s,r,0,null),t=Xr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=th(n),e.memoizedState=eh,t):zf(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Nb(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=mr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=mr(a,o):(o=Xr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?th(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=eh,r}return o=t.child,t=o.sibling,r=mr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zf(t,e){return e=Ac({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ia(t,e,n,r){return r!==null&&Rf(r),lo(e,t.child,null,n),t=zf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nb(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Fu(Error(N(422))),Ia(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ac({mode:"visible",children:r.children},i,0,null),o=Xr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&lo(e,t.child,null,s),e.child.memoizedState=th(s),e.memoizedState=eh,o);if(!(e.mode&1))return Ia(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(N(419)),r=Fu(o,r,void 0),Ia(t,e,s,r)}if(a=(s&t.childLanes)!==0,pt||a){if(r=Be,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Un(t,i),Xt(r,t,i,-1))}return Yf(),r=Fu(Error(N(421))),Ia(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Kb.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kt=hr(i.nextSibling),_t=e,ve=!0,Qt=null,t!==null&&(Lt[jt++]=An,Lt[jt++]=In,Lt[jt++]=ii,An=t.id,In=t.overflow,ii=e),e=zf(e,r.children),e.flags|=4096,e)}function Dm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qd(t.return,e,n)}function Hu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function wC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(it(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dm(t,n,e);else if(t.tag===19)Dm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(Se,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ol(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ol(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hu(e,!0,n,null,o);break;case"together":Hu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function al(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=mr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ob(t,e,n){switch(e.tag){case 3:yC(e),ao();break;case 5:K0(e);break;case 1:mt(e.type)&&bl(e);break;case 4:jf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;de(Rl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(Se,Se.current&1),e.flags|=128,null):n&e.child.childLanes?vC(t,e,n):(de(Se,Se.current&1),t=Fn(t,e,n),t!==null?t.sibling:null);de(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(Se,Se.current),r)break;return null;case 22:case 23:return e.lanes=0,gC(t,e,n)}return Fn(t,e,n)}var CC,nh,SC,TC;CC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nh=function(){};SC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wr(wn.current);var o=null;switch(n){case"input":i=xd(t,i),r=xd(t,r),o=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),o=[];break;case"textarea":i=bd(t,i),r=bd(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kl)}Id(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};TC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fo(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Mb(t,e,n){var r=e.pendingProps;switch(If(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return mt(e.type)&&_l(),Qe(e),null;case 3:return r=e.stateNode,co(),ge(gt),ge(et),Uf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ba(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qt!==null&&(uh(Qt),Qt=null))),nh(t,e),Qe(e),null;case 5:Df(e);var i=Wr(js.current);if(n=e.type,t!==null&&e.stateNode!=null)SC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return Qe(e),null}if(t=Wr(wn.current),ba(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[fn]=e,r[Ms]=o,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<Xo.length;i++)pe(Xo[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Gg(r,o),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},pe("invalid",r);break;case"textarea":qg(r,o),pe("invalid",r)}Id(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&_a(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&_a(r.textContent,a,t),i=["children",""+a]):xs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&pe("scroll",r)}switch(n){case"input":va(r),Wg(r,o,!0);break;case"textarea":va(r),Qg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[fn]=e,t[Ms]=r,CC(t,e,!1,!1),e.stateNode=t;e:{switch(s=Rd(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xo.length;i++)pe(Xo[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Gg(t,r),i=xd(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),pe("invalid",t);break;case"textarea":qg(t,r),i=bd(t,r),pe("invalid",t);break;default:i=r}Id(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Zw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jw(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ks(t,l):typeof l=="number"&&ks(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&pe("scroll",t):l!=null&&pf(t,o,l,s))}switch(n){case"input":va(t),Wg(t,r,!1);break;case"textarea":va(t),Qg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?qi(t,!!r.multiple,o,!1):r.defaultValue!=null&&qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)TC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Wr(js.current),Wr(wn.current),ba(e)){if(r=e.stateNode,n=e.memoizedProps,r[fn]=e,(o=r.nodeValue!==n)&&(t=_t,t!==null))switch(t.tag){case 3:_a(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_a(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=e,e.stateNode=r}return Qe(e),null;case 13:if(ge(Se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&kt!==null&&e.mode&1&&!(e.flags&128))H0(),ao(),e.flags|=98560,o=!1;else if(o=ba(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(N(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[fn]=e}else ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),o=!1}else Qt!==null&&(uh(Qt),Qt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Se.current&1?Le===0&&(Le=3):Yf())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return co(),nh(t,e),t===null&&Ns(e.stateNode.containerInfo),Qe(e),null;case 10:return Of(e.type._context),Qe(e),null;case 17:return mt(e.type)&&_l(),Qe(e),null;case 19:if(ge(Se),o=e.memoizedState,o===null)return Qe(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Fo(o,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ol(t),s!==null){for(e.flags|=128,Fo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(Se,Se.current&1|2),e.child}t=t.sibling}o.tail!==null&&be()>ho&&(e.flags|=128,r=!0,Fo(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ol(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ve)return Qe(e),null}else 2*be()-o.renderingStartTime>ho&&n!==1073741824&&(e.flags|=128,r=!0,Fo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=be(),e.sibling=null,n=Se.current,de(Se,r?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return Qf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Lb(t,e){switch(If(e),e.tag){case 1:return mt(e.type)&&_l(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return co(),ge(gt),ge(et),Uf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Df(e),null;case 13:if(ge(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(Se),null;case 4:return co(),null;case 10:return Of(e.type._context),null;case 22:case 23:return Qf(),null;case 24:return null;default:return null}}var Ra=!1,Xe=!1,jb=typeof WeakSet=="function"?WeakSet:Set,H=null;function Bi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function rh(t,e,n){try{n()}catch(r){ke(t,e,r)}}var Um=!1;function Db(t,e){if(Hd=Tl,t=b0(),bf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bd={focusedElem:t,selectionRange:n},Tl=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,S=g.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Kt(e.type,v),S);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(T){ke(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return g=Um,Um=!1,g}function cs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&rh(e,n,o)}i=i.next}while(i!==r)}}function _c(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ih(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function EC(t){var e=t.alternate;e!==null&&(t.alternate=null,EC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fn],delete e[Ms],delete e[zd],delete e[wb],delete e[Cb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xC(t){return t.tag===5||t.tag===3||t.tag===4}function Fm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kl));else if(r!==4&&(t=t.child,t!==null))for(oh(t,e,n),t=t.sibling;t!==null;)oh(t,e,n),t=t.sibling}function sh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sh(t,e,n),t=t.sibling;t!==null;)sh(t,e,n),t=t.sibling}var Ve=null,Gt=!1;function Gn(t,e,n){for(n=n.child;n!==null;)kC(t,e,n),n=n.sibling}function kC(t,e,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(vc,n)}catch{}switch(n.tag){case 5:Xe||Bi(n,e);case 6:var r=Ve,i=Gt;Ve=null,Gn(t,e,n),Ve=r,Gt=i,Ve!==null&&(Gt?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Gt?(t=Ve,n=n.stateNode,t.nodeType===8?Ou(t.parentNode,n):t.nodeType===1&&Ou(t,n),Is(t)):Ou(Ve,n.stateNode));break;case 4:r=Ve,i=Gt,Ve=n.stateNode.containerInfo,Gt=!0,Gn(t,e,n),Ve=r,Gt=i;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&rh(n,e,s),i=i.next}while(i!==r)}Gn(t,e,n);break;case 1:if(!Xe&&(Bi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,e,a)}Gn(t,e,n);break;case 21:Gn(t,e,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,Gn(t,e,n),Xe=r):Gn(t,e,n);break;default:Gn(t,e,n)}}function Hm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jb),e.forEach(function(r){var i=Gb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $t(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Gt=!1;break e;case 3:Ve=a.stateNode.containerInfo,Gt=!0;break e;case 4:Ve=a.stateNode.containerInfo,Gt=!0;break e}a=a.return}if(Ve===null)throw Error(N(160));kC(o,s,i),Ve=null,Gt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_C(e,t),e=e.sibling}function _C(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($t(e,t),cn(t),r&4){try{cs(3,t,t.return),_c(3,t)}catch(v){ke(t,t.return,v)}try{cs(5,t,t.return)}catch(v){ke(t,t.return,v)}}break;case 1:$t(e,t),cn(t),r&512&&n!==null&&Bi(n,n.return);break;case 5:if($t(e,t),cn(t),r&512&&n!==null&&Bi(n,n.return),t.flags&32){var i=t.stateNode;try{ks(i,"")}catch(v){ke(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qw(i,o),Rd(a,s);var c=Rd(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?Zw(i,d):u==="dangerouslySetInnerHTML"?Jw(i,d):u==="children"?ks(i,d):pf(i,u,d,c)}switch(a){case"input":kd(i,o);break;case"textarea":Qw(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?qi(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?qi(i,!!o.multiple,o.defaultValue,!0):qi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ms]=o}catch(v){ke(t,t.return,v)}}break;case 6:if($t(e,t),cn(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){ke(t,t.return,v)}}break;case 3:if($t(e,t),cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Is(e.containerInfo)}catch(v){ke(t,t.return,v)}break;case 4:$t(e,t),cn(t);break;case 13:$t(e,t),cn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Wf=be())),r&4&&Hm(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Xe=(c=Xe)||u,$t(e,t),Xe=c):$t(e,t),cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(H=t,u=t.child;u!==null;){for(d=H=u;H!==null;){switch(h=H,f=h.child,h.tag){case 0:case 11:case 14:case 15:cs(4,h,h.return);break;case 1:Bi(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){ke(r,n,v)}}break;case 5:Bi(h,h.return);break;case 22:if(h.memoizedState!==null){$m(d);continue}}f!==null?(f.return=h,H=f):$m(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Xw("display",s))}catch(v){ke(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ke(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:$t(e,t),cn(t),r&4&&Hm(t);break;case 21:break;default:$t(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xC(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ks(i,""),r.flags&=-33);var o=Fm(t);sh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Fm(t);oh(t,a,s);break;default:throw Error(N(161))}}catch(l){ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ub(t,e,n){H=t,bC(t)}function bC(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ra;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xe;a=Ra;var c=Xe;if(Ra=s,(Xe=l)&&!c)for(H=i;H!==null;)s=H,l=s.child,s.tag===22&&s.memoizedState!==null?Vm(i):l!==null?(l.return=s,H=l):Vm(i);for(;o!==null;)H=o,bC(o),o=o.sibling;H=i,Ra=a,Xe=c}Bm(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,H=o):Bm(t)}}function Bm(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||_c(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Kt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&km(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}km(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Is(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Xe||e.flags&512&&ih(e)}catch(h){ke(e,e.return,h)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function $m(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Vm(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_c(4,e)}catch(l){ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ke(e,i,l)}}var o=e.return;try{ih(e)}catch(l){ke(e,o,l)}break;case 5:var s=e.return;try{ih(e)}catch(l){ke(e,s,l)}}}catch(l){ke(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var Fb=Math.ceil,jl=Vn.ReactCurrentDispatcher,Kf=Vn.ReactCurrentOwner,Ut=Vn.ReactCurrentBatchConfig,re=0,Be=null,Ne=null,Ge=0,Et=0,$i=Ar(0),Le=0,Hs=null,si=0,bc=0,Gf=0,us=null,dt=null,Wf=0,ho=1/0,En=null,Dl=!1,ah=null,pr=null,Pa=!1,ar=null,Ul=0,ds=0,lh=null,ll=-1,cl=0;function st(){return re&6?be():ll!==-1?ll:ll=be()}function gr(t){return t.mode&1?re&2&&Ge!==0?Ge&-Ge:Tb.transition!==null?(cl===0&&(cl=d0()),cl):(t=ae,t!==0||(t=window.event,t=t===void 0?16:v0(t.type)),t):1}function Xt(t,e,n,r){if(50<ds)throw ds=0,lh=null,Error(N(185));Zs(t,n,r),(!(re&2)||t!==Be)&&(t===Be&&(!(re&2)&&(bc|=n),Le===4&&rr(t,Ge)),yt(t,r),n===1&&re===0&&!(e.mode&1)&&(ho=be()+500,Ec&&Ir()))}function yt(t,e){var n=t.callbackNode;T_(t,e);var r=Sl(t,t===Be?Ge:0);if(r===0)n!==null&&Xg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xg(n),e===1)t.tag===0?Sb(zm.bind(null,t)):D0(zm.bind(null,t)),yb(function(){!(re&6)&&Ir()}),n=null;else{switch(h0(r)){case 1:n=wf;break;case 4:n=c0;break;case 16:n=Cl;break;case 536870912:n=u0;break;default:n=Cl}n=LC(n,AC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AC(t,e){if(ll=-1,cl=0,re&6)throw Error(N(327));var n=t.callbackNode;if(Zi()&&t.callbackNode!==n)return null;var r=Sl(t,t===Be?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fl(t,r);else{e=r;var i=re;re|=2;var o=RC();(Be!==t||Ge!==e)&&(En=null,ho=be()+500,Jr(t,e));do try{$b();break}catch(a){IC(t,a)}while(1);Nf(),jl.current=o,re=i,Ne!==null?e=0:(Be=null,Ge=0,e=Le)}if(e!==0){if(e===2&&(i=Ld(t),i!==0&&(r=i,e=ch(t,i))),e===1)throw n=Hs,Jr(t,0),rr(t,r),yt(t,be()),n;if(e===6)rr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Hb(i)&&(e=Fl(t,r),e===2&&(o=Ld(t),o!==0&&(r=o,e=ch(t,o))),e===1))throw n=Hs,Jr(t,0),rr(t,r),yt(t,be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Ur(t,dt,En);break;case 3:if(rr(t,r),(r&130023424)===r&&(e=Wf+500-be(),10<e)){if(Sl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){st(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vd(Ur.bind(null,t,dt,En),e);break}Ur(t,dt,En);break;case 4:if(rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Jt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fb(r/1960))-r,10<r){t.timeoutHandle=Vd(Ur.bind(null,t,dt,En),r);break}Ur(t,dt,En);break;case 5:Ur(t,dt,En);break;default:throw Error(N(329))}}}return yt(t,be()),t.callbackNode===n?AC.bind(null,t):null}function ch(t,e){var n=us;return t.current.memoizedState.isDehydrated&&(Jr(t,e).flags|=256),t=Fl(t,e),t!==2&&(e=dt,dt=n,e!==null&&uh(e)),t}function uh(t){dt===null?dt=t:dt.push.apply(dt,t)}function Hb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!en(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rr(t,e){for(e&=~Gf,e&=~bc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function zm(t){if(re&6)throw Error(N(327));Zi();var e=Sl(t,0);if(!(e&1))return yt(t,be()),null;var n=Fl(t,e);if(t.tag!==0&&n===2){var r=Ld(t);r!==0&&(e=r,n=ch(t,r))}if(n===1)throw n=Hs,Jr(t,0),rr(t,e),yt(t,be()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ur(t,dt,En),yt(t,be()),null}function qf(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(ho=be()+500,Ec&&Ir())}}function ai(t){ar!==null&&ar.tag===0&&!(re&6)&&Zi();var e=re;re|=1;var n=Ut.transition,r=ae;try{if(Ut.transition=null,ae=1,t)return t()}finally{ae=r,Ut.transition=n,re=e,!(re&6)&&Ir()}}function Qf(){Et=$i.current,ge($i)}function Jr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mb(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(If(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_l();break;case 3:co(),ge(gt),ge(et),Uf();break;case 5:Df(r);break;case 4:co();break;case 13:ge(Se);break;case 19:ge(Se);break;case 10:Of(r.type._context);break;case 22:case 23:Qf()}n=n.return}if(Be=t,Ne=t=mr(t.current,null),Ge=Et=e,Le=0,Hs=null,Gf=bc=si=0,dt=us=null,Gr!==null){for(e=0;e<Gr.length;e++)if(n=Gr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Gr=null}return t}function IC(t,e){do{var n=Ne;try{if(Nf(),ol.current=Ll,Ml){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ml=!1}if(oi=0,He=Me=Ee=null,ls=!1,Ds=0,Kf.current=null,n===null||n.return===null){Le=1,Hs=e,Ne=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Pm(s);if(f!==null){f.flags&=-257,Nm(f,s,a,o,e),f.mode&1&&Rm(o,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Rm(o,c,e),Yf();break e}l=Error(N(426))}}else if(ve&&a.mode&1){var S=Pm(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Nm(S,s,a,o,e),Rf(uo(l,a));break e}}o=l=uo(l,a),Le!==4&&(Le=2),us===null?us=[o]:us.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=hC(o,l,e);xm(o,w);break e;case 1:a=l;var y=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pr===null||!pr.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=fC(o,a,e);xm(o,T);break e}}o=o.return}while(o!==null)}NC(n)}catch(x){e=x,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(1)}function RC(){var t=jl.current;return jl.current=Ll,t===null?Ll:t}function Yf(){(Le===0||Le===3||Le===2)&&(Le=4),Be===null||!(si&268435455)&&!(bc&268435455)||rr(Be,Ge)}function Fl(t,e){var n=re;re|=2;var r=RC();(Be!==t||Ge!==e)&&(En=null,Jr(t,e));do try{Bb();break}catch(i){IC(t,i)}while(1);if(Nf(),re=n,jl.current=r,Ne!==null)throw Error(N(261));return Be=null,Ge=0,Le}function Bb(){for(;Ne!==null;)PC(Ne)}function $b(){for(;Ne!==null&&!f_();)PC(Ne)}function PC(t){var e=MC(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?NC(t):Ne=e,Kf.current=null}function NC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Lb(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Ne=null;return}}else if(n=Mb(n,e,Et),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Le===0&&(Le=5)}function Ur(t,e,n){var r=ae,i=Ut.transition;try{Ut.transition=null,ae=1,Vb(t,e,n,r)}finally{Ut.transition=i,ae=r}return null}function Vb(t,e,n,r){do Zi();while(ar!==null);if(re&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(E_(t,o),t===Be&&(Ne=Be=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pa||(Pa=!0,LC(Cl,function(){return Zi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ut.transition,Ut.transition=null;var s=ae;ae=1;var a=re;re|=4,Kf.current=null,Db(t,n),_C(n,t),cb(Bd),Tl=!!Hd,Bd=Hd=null,t.current=n,Ub(n),p_(),re=a,ae=s,Ut.transition=o}else t.current=n;if(Pa&&(Pa=!1,ar=t,Ul=i),o=t.pendingLanes,o===0&&(pr=null),y_(n.stateNode),yt(t,be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dl)throw Dl=!1,t=ah,ah=null,t;return Ul&1&&t.tag!==0&&Zi(),o=t.pendingLanes,o&1?t===lh?ds++:(ds=0,lh=t):ds=0,Ir(),null}function Zi(){if(ar!==null){var t=h0(Ul),e=Ut.transition,n=ae;try{if(Ut.transition=null,ae=16>t?16:t,ar===null)var r=!1;else{if(t=ar,ar=null,Ul=0,re&6)throw Error(N(331));var i=re;for(re|=4,H=t.current;H!==null;){var o=H,s=o.child;if(H.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:cs(8,u,o)}var d=u.child;if(d!==null)d.return=u,H=d;else for(;H!==null;){u=H;var h=u.sibling,f=u.return;if(EC(u),u===c){H=null;break}if(h!==null){h.return=f,H=h;break}H=f}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}H=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,H=s;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cs(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,H=w;break e}H=o.return}}var y=t.current;for(H=y;H!==null;){s=H;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,H=m;else e:for(s=y;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_c(9,a)}}catch(x){ke(a,a.return,x)}if(a===s){H=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,H=T;break e}H=a.return}}if(re=i,Ir(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(vc,t)}catch{}r=!0}return r}finally{ae=n,Ut.transition=e}}return!1}function Km(t,e,n){e=uo(n,e),e=hC(t,e,1),t=fr(t,e,1),e=st(),t!==null&&(Zs(t,1,e),yt(t,e))}function ke(t,e,n){if(t.tag===3)Km(t,t,n);else for(;e!==null;){if(e.tag===3){Km(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pr===null||!pr.has(r))){t=uo(n,t),t=fC(e,t,1),e=fr(e,t,1),t=st(),e!==null&&(Zs(e,1,t),yt(e,t));break}}e=e.return}}function zb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=st(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(Ge&n)===n&&(Le===4||Le===3&&(Ge&130023424)===Ge&&500>be()-Wf?Jr(t,0):Gf|=n),yt(t,e)}function OC(t,e){e===0&&(t.mode&1?(e=Sa,Sa<<=1,!(Sa&130023424)&&(Sa=4194304)):e=1);var n=st();t=Un(t,e),t!==null&&(Zs(t,e,n),yt(t,n))}function Kb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),OC(t,n)}function Gb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),OC(t,n)}var MC;MC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gt.current)pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pt=!1,Ob(t,e,n);pt=!!(t.flags&131072)}else pt=!1,ve&&e.flags&1048576&&U0(e,Il,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;al(t,e),t=e.pendingProps;var i=so(e,et.current);Xi(e,n),i=Hf(null,e,r,t,i,n);var o=Bf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(r)?(o=!0,bl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lf(e),i.updater=kc,e.stateNode=i,i._reactInternals=e,Yd(e,r,t,n),e=Zd(null,e,r,!0,o,n)):(e.tag=0,ve&&o&&Af(e),it(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(al(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qb(r),t=Kt(r,t),i){case 0:e=Xd(null,e,r,t,n);break e;case 1:e=Lm(null,e,r,t,n);break e;case 11:e=Om(null,e,r,t,n);break e;case 14:e=Mm(null,e,r,Kt(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Xd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Lm(t,e,r,i,n);case 3:e:{if(yC(e),t===null)throw Error(N(387));r=e.pendingProps,o=e.memoizedState,i=o.element,z0(t,e),Nl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=uo(Error(N(423)),e),e=jm(t,e,r,n,i);break e}else if(r!==i){i=uo(Error(N(424)),e),e=jm(t,e,r,n,i);break e}else for(kt=hr(e.stateNode.containerInfo.firstChild),_t=e,ve=!0,Qt=null,n=$0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),r===i){e=Fn(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return K0(e),t===null&&Wd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,$d(r,i)?s=null:o!==null&&$d(r,o)&&(e.flags|=32),mC(t,e),it(t,e,s,n),e.child;case 6:return t===null&&Wd(e),null;case 13:return vC(t,e,n);case 4:return jf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lo(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Om(t,e,r,i,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,de(Rl,r._currentValue),r._currentValue=s,o!==null)if(en(o.value,s)){if(o.children===i.children&&!gt.current){e=Fn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Nn(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),qd(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),qd(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}it(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xi(e,n),i=Ht(i),r=r(i),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,i=Kt(r,e.pendingProps),i=Kt(r.type,i),Mm(t,e,r,i,n);case 15:return pC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),al(t,e),e.tag=1,mt(r)?(t=!0,bl(e)):t=!1,Xi(e,n),dC(e,r,i),Yd(e,r,i,n),Zd(null,e,r,!0,t,n);case 19:return wC(t,e,n);case 22:return gC(t,e,n)}throw Error(N(156,e.tag))};function LC(t,e){return l0(t,e)}function Wb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,e,n,r){return new Wb(t,e,n,r)}function Jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qb(t){if(typeof t=="function")return Jf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mf)return 11;if(t===yf)return 14}return 2}function mr(t,e){var n=t.alternate;return n===null?(n=Dt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ul(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Jf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ni:return Xr(n.children,i,o,e);case gf:s=8,i|=8;break;case Cd:return t=Dt(12,n,e,i|2),t.elementType=Cd,t.lanes=o,t;case Sd:return t=Dt(13,n,e,i),t.elementType=Sd,t.lanes=o,t;case Td:return t=Dt(19,n,e,i),t.elementType=Td,t.lanes=o,t;case Kw:return Ac(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vw:s=10;break e;case zw:s=9;break e;case mf:s=11;break e;case yf:s=14;break e;case Xn:s=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Dt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Xr(t,e,n,r){return t=Dt(7,t,r,e),t.lanes=n,t}function Ac(t,e,n,r){return t=Dt(22,t,r,e),t.elementType=Kw,t.lanes=n,t.stateNode={isHidden:!1},t}function Bu(t,e,n){return t=Dt(6,t,null,e),t.lanes=n,t}function $u(t,e,n){return e=Dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tu(0),this.expirationTimes=Tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xf(t,e,n,r,i,o,s,a,l){return t=new Qb(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Dt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lf(o),t}function Yb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jC(t){if(!t)return Er;t=t._reactInternals;e:{if(fi(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(mt(n))return j0(t,n,e)}return e}function DC(t,e,n,r,i,o,s,a,l){return t=Xf(n,r,!0,t,i,o,s,a,l),t.context=jC(null),n=t.current,r=st(),i=gr(n),o=Nn(r,i),o.callback=e??null,fr(n,o,i),t.current.lanes=i,Zs(t,i,r),yt(t,r),t}function Ic(t,e,n,r){var i=e.current,o=st(),s=gr(i);return n=jC(n),e.context===null?e.context=n:e.pendingContext=n,e=Nn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fr(i,e,s),t!==null&&(Xt(t,i,s,o),il(t,i,s)),s}function Hl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zf(t,e){Gm(t,e),(t=t.alternate)&&Gm(t,e)}function Jb(){return null}var UC=typeof reportError=="function"?reportError:function(t){console.error(t)};function ep(t){this._internalRoot=t}Rc.prototype.render=ep.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Ic(t,e,null,null)};Rc.prototype.unmount=ep.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ai(function(){Ic(null,t,null,null)}),e[Dn]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var e=g0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<nr.length&&e!==0&&e<nr[n].priority;n++);nr.splice(n,0,t),n===0&&y0(t)}};function tp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wm(){}function Xb(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Hl(s);o.call(c)}}var s=DC(e,r,t,0,null,!1,!1,"",Wm);return t._reactRootContainer=s,t[Dn]=s.current,Ns(t.nodeType===8?t.parentNode:t),ai(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hl(l);a.call(c)}}var l=Xf(t,0,!1,null,null,!1,!1,"",Wm);return t._reactRootContainer=l,t[Dn]=l.current,Ns(t.nodeType===8?t.parentNode:t),ai(function(){Ic(e,l,n,r)}),l}function Nc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Hl(s);a.call(l)}}Ic(e,s,t,i)}else s=Xb(n,e,t,i,r);return Hl(s)}f0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jo(e.pendingLanes);n!==0&&(Cf(e,n|1),yt(e,be()),!(re&6)&&(ho=be()+500,Ir()))}break;case 13:ai(function(){var r=Un(t,1);if(r!==null){var i=st();Xt(r,t,1,i)}}),Zf(t,1)}};Sf=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var n=st();Xt(e,t,134217728,n)}Zf(t,134217728)}};p0=function(t){if(t.tag===13){var e=gr(t),n=Un(t,e);if(n!==null){var r=st();Xt(n,t,e,r)}Zf(t,e)}};g0=function(){return ae};m0=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Nd=function(t,e,n){switch(e){case"input":if(kd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tc(r);if(!i)throw Error(N(90));Ww(r),kd(r,i)}}}break;case"textarea":Qw(t,n);break;case"select":e=n.value,e!=null&&qi(t,!!n.multiple,e,!1)}};n0=qf;r0=ai;var Zb={usingClientEntryPoint:!1,Events:[ta,ji,Tc,e0,t0,qf]},Ho={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eA={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=s0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||Jb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Na.isDisabled&&Na.supportsFiber)try{vc=Na.inject(eA),vn=Na}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zb;Pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tp(e))throw Error(N(200));return Yb(t,e,null,n)};Pt.createRoot=function(t,e){if(!tp(t))throw Error(N(299));var n=!1,r="",i=UC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xf(t,1,!1,null,null,n,!1,r,i),t[Dn]=e.current,Ns(t.nodeType===8?t.parentNode:t),new ep(e)};Pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=s0(e),t=t===null?null:t.stateNode,t};Pt.flushSync=function(t){return ai(t)};Pt.hydrate=function(t,e,n){if(!Pc(e))throw Error(N(200));return Nc(null,t,e,!0,n)};Pt.hydrateRoot=function(t,e,n){if(!tp(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=UC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=DC(e,null,t,1,n??null,i,!1,o,s),t[Dn]=e.current,Ns(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rc(e)};Pt.render=function(t,e,n){if(!Pc(e))throw Error(N(200));return Nc(null,t,e,!1,n)};Pt.unmountComponentAtNode=function(t){if(!Pc(t))throw Error(N(40));return t._reactRootContainer?(ai(function(){Nc(null,null,t,!1,function(){t._reactRootContainer=null,t[Dn]=null})}),!0):!1};Pt.unstable_batchedUpdates=qf;Pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pc(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Nc(t,e,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function FC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FC)}catch(t){console.error(t)}}FC(),Fw.exports=Pt;var tA=Fw.exports,qm=tA;vd.createRoot=qm.createRoot,vd.hydrateRoot=qm.hydrateRoot;const nA="modulepreload",rA=function(t){return"/"+t},Qm={},li=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=rA(o),o in Qm)return;Qm[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":nA,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var np={};Object.defineProperty(np,"__esModule",{value:!0});np.parse=uA;np.serialize=dA;const iA=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,oA=/^[\u0021-\u003A\u003C-\u007E]*$/,sA=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,aA=/^[\u0020-\u003A\u003D-\u007E]*$/,lA=Object.prototype.toString,cA=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function uA(t,e){const n=new cA,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||hA;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const a=t.indexOf(";",o),l=a===-1?r:a;if(s>l){o=t.lastIndexOf(";",s-1)+1;continue}const c=Ym(t,o,s),u=Jm(t,s,c),d=t.slice(c,u);if(n[d]===void 0){let h=Ym(t,s+1,l),f=Jm(t,l,h);const g=i(t.slice(h,f));n[d]=g}o=l+1}while(o<r);return n}function Ym(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Jm(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function dA(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!iA.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!oA.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!sA.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!aA.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!fA(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function hA(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function fA(t){return lA.call(t)==="[object Date]"}var Xm="popstate";function pA(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return dh("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bs(i)}return mA(e,n,null,t)}function Ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gA(){return Math.random().toString(36).substring(2,10)}function Zm(t,e){return{usr:t.state,key:t.key,idx:e}}function dh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||r||gA()}}function Bs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function mA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function d(){a="POP";let S=u(),w=S==null?null:S-c;c=S,l&&l({action:a,location:v.location,delta:w})}function h(S,w){a="PUSH";let y=dh(v.location,S,w);n&&n(y,S),c=u()+1;let m=Zm(y,c),T=v.createHref(y);try{s.pushState(m,"",T)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(T)}o&&l&&l({action:a,location:v.location,delta:1})}function f(S,w){a="REPLACE";let y=dh(v.location,S,w);n&&n(y,S),c=u();let m=Zm(y,c),T=v.createHref(y);s.replaceState(m,"",T),o&&l&&l({action:a,location:v.location,delta:0})}function g(S){return yA(S)}let v={get action(){return a},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Xm,d),l=S,()=>{i.removeEventListener(Xm,d),l=null}},createHref(S){return e(i,S)},createURL:g,encodeLocation(S){let w=g(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:f,go(S){return s.go(S)}};return v}function yA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ce(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bs(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function HC(t,e,n="/"){return vA(t,e,n,!1)}function vA(t,e,n,r){let i=typeof e=="string"?Eo(e):e,o=Hn(i.pathname||"/",n);if(o==null)return null;let s=BC(t);wA(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=RA(o);a=AA(s[l],c,r)}return a}function BC(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ce(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=On([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Ce(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),BC(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:_A(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of $C(o.path))i(o,s,l)}),e}function $C(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=$C(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function wA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var CA=/^:[\w-]+$/,SA=3,TA=2,EA=1,xA=10,kA=-2,ey=t=>t==="*";function _A(t,e){let n=t.split("/"),r=n.length;return n.some(ey)&&(r+=kA),e&&(r+=TA),n.filter(i=>!ey(i)).reduce((i,o)=>i+(CA.test(o)?SA:o===""?EA:xA),r)}function bA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AA(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=Bl({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Bl({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:On([o,d.pathname]),pathnameBase:MA(On([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=On([o,d.pathnameBase]))}return s}function Bl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let g=a[h]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const f=a[h];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function IA(t,e=!1,n=!0){tn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Eo(t):t;return{pathname:n?n.startsWith("/")?n:NA(n,e):e,search:LA(r),hash:jA(i)}}function NA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vu(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rp(t){let e=OA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ip(t,e,n,r=!1){let i;typeof t=="string"?i=Eo(t):(i={...t},Ce(!i.pathname||!i.pathname.includes("?"),Vu("?","pathname","search",i)),Ce(!i.pathname||!i.pathname.includes("#"),Vu("#","pathname","hash",i)),Ce(!i.search||!i.search.includes("#"),Vu("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=PA(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var On=t=>t.join("/").replace(/\/\/+/g,"/"),MA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var VC=["POST","PUT","PATCH","DELETE"];new Set(VC);var UA=["GET",...VC];new Set(UA);var xo=C.createContext(null);xo.displayName="DataRouter";var Oc=C.createContext(null);Oc.displayName="DataRouterState";var zC=C.createContext({isTransitioning:!1});zC.displayName="ViewTransition";var FA=C.createContext(new Map);FA.displayName="Fetchers";var HA=C.createContext(null);HA.displayName="Await";var sn=C.createContext(null);sn.displayName="Navigation";var ra=C.createContext(null);ra.displayName="Location";var an=C.createContext({outlet:null,matches:[],isDataRoute:!1});an.displayName="Route";var op=C.createContext(null);op.displayName="RouteError";function BA(t,{relative:e}={}){Ce(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(sn),{hash:i,pathname:o,search:s}=ia(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:On([n,o])),r.createHref({pathname:a,search:s,hash:i})}function ko(){return C.useContext(ra)!=null}function zn(){return Ce(ko(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(ra).location}var KC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GC(t){C.useContext(sn).static||C.useLayoutEffect(t)}function Kn(){let{isDataRoute:t}=C.useContext(an);return t?nI():$A()}function $A(){Ce(ko(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(xo),{basename:e,navigator:n}=C.useContext(sn),{matches:r}=C.useContext(an),{pathname:i}=zn(),o=JSON.stringify(rp(r)),s=C.useRef(!1);return GC(()=>{s.current=!0}),C.useCallback((l,c={})=>{if(tn(s.current,KC),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=ip(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:On([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}var VA=C.createContext(null);function zA(t){let e=C.useContext(an).outlet;return e&&C.createElement(VA.Provider,{value:t},e)}function ia(t,{relative:e}={}){let{matches:n}=C.useContext(an),{pathname:r}=zn(),i=JSON.stringify(rp(n));return C.useMemo(()=>ip(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function KA(t,e){return WC(t,e)}function WC(t,e,n,r){var y;Ce(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=C.useContext(sn),{matches:s}=C.useContext(an),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let m=d&&d.path||"";qC(c,!d||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let h=zn(),f;if(e){let m=typeof e=="string"?Eo(e):e;Ce(u==="/"||((y=m.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${m.pathname}" was given in the \`location\` prop.`),f=m}else f=h;let g=f.pathname||"/",v=g;if(u!=="/"){let m=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(m.length).join("/")}let S=!o&&n&&n.matches&&n.matches.length>0?n.matches:HC(t,{pathname:v});tn(d||S!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),tn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=YA(S&&S.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:On([u,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:On([u,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,n,r);return e&&w?C.createElement(ra.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},w):w}function GA(){let t=tI(),e=DA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,s)}var WA=C.createElement(GA,null),qA=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(an.Provider,{value:this.props.routeContext},C.createElement(op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QA({routeContext:t,match:e,children:n}){let r=C.useContext(xo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(an.Provider,{value:t},n)}function YA(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Ce(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:d}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let d,h=!1,f=null,g=null;n&&(d=o&&c.route.id?o[c.route.id]:void 0,f=c.route.errorElement||WA,s&&(a<0&&u===0?(qC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):a===u&&(h=!0,g=c.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,u+1)),S=()=>{let w;return d?w=f:h?w=g:c.route.Component?w=C.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,C.createElement(QA,{match:c,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?C.createElement(qA,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}function sp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JA(t){let e=C.useContext(xo);return Ce(e,sp(t)),e}function XA(t){let e=C.useContext(Oc);return Ce(e,sp(t)),e}function ZA(t){let e=C.useContext(an);return Ce(e,sp(t)),e}function ap(t){let e=ZA(t),n=e.matches[e.matches.length-1];return Ce(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function eI(){return ap("useRouteId")}function tI(){var r;let t=C.useContext(op),e=XA("useRouteError"),n=ap("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function nI(){let{router:t}=JA("useNavigate"),e=ap("useNavigate"),n=C.useRef(!1);return GC(()=>{n.current=!0}),C.useCallback(async(i,o={})=>{tn(n.current,KC),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var ty={};function qC(t,e,n){!e&&!ty[t]&&(ty[t]=!0,tn(!1,n))}C.memo(rI);function rI({routes:t,future:e,state:n}){return WC(t,void 0,n,e)}function ny({to:t,replace:e,state:n,relative:r}){Ce(ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(sn);tn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=C.useContext(an),{pathname:s}=zn(),a=Kn(),l=ip(t,rp(o),s,r==="path"),c=JSON.stringify(l);return C.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function iI(t){return zA(t.context)}function qn(t){Ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ce(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=C.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Eo(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,f=C.useMemo(()=>{let g=Hn(l,s);return g==null?null:{location:{pathname:g,search:c,hash:u,state:d,key:h},navigationType:r}},[s,l,c,u,d,h,r]);return tn(f!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:C.createElement(sn.Provider,{value:a},C.createElement(ra.Provider,{children:e,value:f}))}function sI({children:t,location:e}){return KA(hh(t),e)}function hh(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let o=[...e,i];if(r.type===C.Fragment){n.push.apply(n,hh(r.props.children,o));return}Ce(r.type===qn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ce(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=hh(r.props.children,o)),n.push(s)}),n}var dl="get",hl="application/x-www-form-urlencoded";function Mc(t){return t!=null&&typeof t.tagName=="string"}function aI(t){return Mc(t)&&t.tagName.toLowerCase()==="button"}function lI(t){return Mc(t)&&t.tagName.toLowerCase()==="form"}function cI(t){return Mc(t)&&t.tagName.toLowerCase()==="input"}function uI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dI(t,e){return t.button===0&&(!e||e==="_self")&&!uI(t)}var Oa=null;function hI(){if(Oa===null)try{new FormData(document.createElement("form"),0),Oa=!1}catch{Oa=!0}return Oa}var fI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zu(t){return t!=null&&!fI.has(t)?(tn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hl}"`),null):t}function pI(t,e){let n,r,i,o,s;if(lI(t)){let a=t.getAttribute("action");r=a?Hn(a,e):null,n=t.getAttribute("method")||dl,i=zu(t.getAttribute("enctype"))||hl,o=new FormData(t)}else if(aI(t)||cI(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Hn(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||dl,i=zu(t.getAttribute("formenctype"))||zu(a.getAttribute("enctype"))||hl,o=new FormData(a,t),!hI()){let{name:c,type:u,value:d}=t;if(u==="image"){let h=c?`${c}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else c&&o.append(c,d)}}else{if(Mc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dl,r=null,i=hl,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function lp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function gI(t,e){if(t.id in e)return e[t.id];try{let n=await li(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mI(t){return t!=null&&typeof t.page=="string"}function yI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vI(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await gI(o,n);return s.links?s.links():[]}return[]}));return TI(r.flat(1).filter(yI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ry(t,e,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?e.filter((l,c)=>{var d;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function wI(t,e,{includeHydrateFallback:n}={}){return CI(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function CI(t){return[...new Set(t)]}function SI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function TI(t,e){let n=new Set,r=new Set(e);return t.reduce((i,o)=>{if(e&&!mI(o)&&o.as==="script"&&o.href&&r.has(o.href))return i;let a=JSON.stringify(SI(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EI=new Set([100,101,204,205]);function xI(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Hn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function QC(){let t=C.useContext(xo);return lp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kI(){let t=C.useContext(Oc);return lp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cp=C.createContext(void 0);cp.displayName="FrameworkContext";function YC(){let t=C.useContext(cp);return lp(t,"You must render this element inside a <HydratedRouter> element"),t}function _I(t,e){let n=C.useContext(cp),[r,i]=C.useState(!1),[o,s]=C.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,h=C.useRef(null);C.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let v=w=>{w.forEach(y=>{s(y.isIntersecting)})},S=new IntersectionObserver(v,{threshold:.5});return h.current&&S.observe(h.current),()=>{S.disconnect()}}},[t]),C.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let f=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:Bo(a,f),onBlur:Bo(l,g),onMouseEnter:Bo(c,f),onMouseLeave:Bo(u,g),onTouchStart:Bo(d,f)}]:[!1,h,{}]}function Bo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function bI({page:t,...e}){let{router:n}=QC(),r=C.useMemo(()=>HC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(II,{page:t,matches:r,...e}):null}function AI(t){let{manifest:e,routeModules:n}=YC(),[r,i]=C.useState([]);return C.useEffect(()=>{let o=!1;return vI(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function II({page:t,matches:e,...n}){let r=zn(),{manifest:i,routeModules:o}=YC(),{basename:s}=QC(),{loaderData:a,matches:l}=kI(),c=C.useMemo(()=>ry(t,e,l,i,r,"data"),[t,e,l,i,r]),u=C.useMemo(()=>ry(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,v=!1;if(e.forEach(w=>{var m;let y=i.routes[w.route.id];!y||!y.hasLoader||(!c.some(T=>T.route.id===w.route.id)&&w.route.id in a&&((m=o[w.route.id])!=null&&m.shouldRevalidate)||y.hasClientLoader?v=!0:g.add(w.route.id))}),g.size===0)return[];let S=xI(t,s);return v&&g.size>0&&S.searchParams.set("_routes",e.filter(w=>g.has(w.route.id)).map(w=>w.route.id).join(",")),[S.pathname+S.search]},[s,a,r,i,c,e,t,o]),h=C.useMemo(()=>wI(u,i),[u,i]),f=AI(u);return C.createElement(C.Fragment,null,d.map(g=>C.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),h.map(g=>C.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),f.map(({key:g,link:v})=>C.createElement("link",{key:g,...v})))}function RI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JC&&(window.__reactRouterVersion="7.6.0")}catch{}function PI({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=pA({window:n,v5Compat:!0}));let i=r.current,[o,s]=C.useState({action:i.action,location:i.location}),a=C.useCallback(l=>{C.startTransition(()=>s(l))},[s]);return C.useLayoutEffect(()=>i.listen(a),[i,a]),C.createElement(oI,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var XC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},f){let{basename:g}=C.useContext(sn),v=typeof c=="string"&&XC.test(c),S,w=!1;if(typeof c=="string"&&v&&(S=c,JC))try{let R=new URL(window.location.href),O=c.startsWith("//")?new URL(R.protocol+c):new URL(c),G=Hn(O.pathname,g);O.origin===R.origin&&G!=null?c=G+O.search+O.hash:w=!0}catch{tn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=BA(c,{relative:i}),[m,T,x]=_I(r,h),I=LI(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function _(R){e&&e(R),R.defaultPrevented||I(R)}let k=C.createElement("a",{...h,...x,href:S||y,onClick:w||o?e:_,ref:RI(f,T),target:l,"data-discover":!v&&n==="render"?"true":void 0});return m&&!v?C.createElement(C.Fragment,null,k,C.createElement(bI,{page:y})):k});xn.displayName="Link";var NI=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let d=ia(s,{relative:c.relative}),h=zn(),f=C.useContext(Oc),{navigator:g,basename:v}=C.useContext(sn),S=f!=null&&HI(d)&&a===!0,w=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,y=h.pathname,m=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(y=y.toLowerCase(),m=m?m.toLowerCase():null,w=w.toLowerCase()),m&&v&&(m=Hn(m,v)||m);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let x=y===w||!i&&y.startsWith(w)&&y.charAt(T)==="/",I=m!=null&&(m===w||!i&&m.startsWith(w)&&m.charAt(w.length)==="/"),_={isActive:x,isPending:I,isTransitioning:S},k=x?e:void 0,R;typeof r=="function"?R=r(_):R=[r,x?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(_):o;return C.createElement(xn,{...c,"aria-current":k,className:R,ref:u,style:O,to:s,viewTransition:a},typeof l=="function"?l(_):l)});NI.displayName="NavLink";var OI=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=dl,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},f)=>{let g=UI(),v=FI(a,{relative:c}),S=s.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&XC.test(a),y=m=>{if(l&&l(m),m.defaultPrevented)return;m.preventDefault();let T=m.nativeEvent.submitter,x=(T==null?void 0:T.getAttribute("formmethod"))||s;g(T||m.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:d})};return C.createElement("form",{ref:f,method:S,action:v,onSubmit:r?l:y,...h,"data-discover":!w&&t==="render"?"true":void 0})});OI.displayName="Form";function MI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZC(t){let e=C.useContext(xo);return Ce(e,MI(t)),e}function LI(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=Kn(),l=zn(),c=ia(t,{relative:o});return C.useCallback(u=>{if(dI(u,e)){u.preventDefault();let d=n!==void 0?n:Bs(l)===Bs(c);a(t,{replace:d,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,e,t,i,o,s])}var jI=0,DI=()=>`__${String(++jI)}__`;function UI(){let{router:t}=ZC("useSubmit"),{basename:e}=C.useContext(sn),n=eI();return C.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=pI(r,e);if(i.navigate===!1){let u=i.fetcherKey||DI();await t.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function FI(t,{relative:e}={}){let{basename:n}=C.useContext(sn),r=C.useContext(an);Ce(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...ia(t||".",{relative:e})},s=zn();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:On([n,o.pathname])),Bs(o)}function HI(t,e={}){let n=C.useContext(zC);Ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZC("useViewTransitionState"),i=ia(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Hn(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Hn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bl(i.pathname,s)!=null||Bl(i.pathname,o)!=null}[...EI];/*! @azure/msal-common v15.6.0 2025-05-06 */const b={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Ma={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},oa=[b.OPENID_SCOPE,b.PROFILE_SCOPE,b.OFFLINE_ACCESS_SCOPE],iy=[...oa,b.EMAIL_SCOPE],ot={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},oy={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},yr={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},La={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},ze={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},sy={PLAIN:"plain",S256:"S256"},eS={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},Lc={QUERY:"query",FRAGMENT:"fragment"},BI={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},tS={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},ja={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Ze={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},W={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},up="appmetadata",$I="client_info",hs="1",$l={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},St={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},$e={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},le={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},fs={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},ay={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Da={httpSuccess:200,httpBadRequest:400},Si={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Ku={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Fr={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},VI={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},zI=300;/*! @azure/msal-common v15.6.0 2025-05-06 */const dp="unexpected_error",KI="post_request_failed";/*! @azure/msal-common v15.6.0 2025-05-06 */const ly={[dp]:"Unexpected error in authentication.",[KI]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};let we=class nS extends Error{constructor(e,n,r){const i=n?`${e}: ${n}`:e;super(i),Object.setPrototypeOf(this,nS.prototype),this.errorCode=e||b.EMPTY_STRING,this.errorMessage=n||b.EMPTY_STRING,this.subError=r||b.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function rS(t,e){return new we(t,e?`${ly[t]} ${e}`:ly[t])}/*! @azure/msal-common v15.6.0 2025-05-06 */const hp="client_info_decoding_error",iS="client_info_empty_error",fp="token_parsing_error",oS="null_or_empty_token",kn="endpoints_resolution_error",sS="network_error",aS="openid_config_error",lS="hash_not_deserialized",fo="invalid_state",cS="state_mismatch",fh="state_not_found",uS="nonce_mismatch",pp="auth_time_not_found",dS="max_age_transpired",GI="multiple_matching_tokens",WI="multiple_matching_accounts",hS="multiple_matching_appMetadata",fS="request_cannot_be_made",pS="cannot_remove_empty_scope",gS="cannot_append_scopeset",ph="empty_input_scopeset",qI="device_code_polling_cancelled",QI="device_code_expired",YI="device_code_unknown_error",gp="no_account_in_silent_request",mS="invalid_cache_record",mp="invalid_cache_environment",gh="no_account_found",mh="no_crypto_object",yh="unexpected_credential_type",JI="invalid_assertion",XI="invalid_client_credential",vr="token_refresh_required",ZI="user_timeout_reached",yS="token_claims_cnf_required_for_signedjwt",vS="authorization_code_missing_from_server_response",wS="binding_key_not_removed",CS="end_session_endpoint_not_supported",yp="key_id_missing",eR="no_network_connectivity",tR="user_canceled",nR="missing_tenant_id_error",Y="method_not_implemented",rR="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.6.0 2025-05-06 */const cy={[hp]:"The client info could not be parsed/decoded correctly",[iS]:"The client info was empty",[fp]:"Token cannot be parsed",[oS]:"The token is null or empty",[kn]:"Endpoints cannot be resolved",[sS]:"Network request failed",[aS]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[lS]:"The hash parameters could not be deserialized",[fo]:"State was not the expected format",[cS]:"State mismatch error",[fh]:"State not found",[uS]:"Nonce mismatch error",[pp]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[dS]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[GI]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[WI]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[hS]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[fS]:"Token request cannot be made without authorization code or refresh token.",[pS]:"Cannot remove null or empty scope from ScopeSet",[gS]:"Cannot append ScopeSet",[ph]:"Empty input ScopeSet cannot be processed",[qI]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[QI]:"Device code is expired.",[YI]:"Device code stopped polling for unknown reasons.",[gp]:"Please pass an account object, silent flow is not supported without account information",[mS]:"Cache record object was null or undefined.",[mp]:"Invalid environment when attempting to create cache entry",[gh]:"No account found in cache for given key.",[mh]:"No crypto object detected.",[yh]:"Unexpected credential type.",[JI]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[XI]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[vr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[ZI]:"User defined timeout for device code polling reached",[yS]:"Cannot generate a POP jwt if the token_claims are not populated",[vS]:"Server response does not contain an authorization code to proceed",[wS]:"Could not remove the credential's binding key from storage.",[CS]:"The provided authority does not support logout",[yp]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[eR]:"No network connectivity. Check your internet connection.",[tR]:"User cancelled the flow.",[nR]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Y]:"This method has not been implemented",[rR]:"The nested app auth bridge is disabled"};class vp extends we{constructor(e,n){super(e,n?`${cy[e]}: ${n}`:cy[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,vp.prototype)}}function P(t,e){return new vp(t,e)}/*! @azure/msal-common v15.6.0 2025-05-06 */const Vl={createNewGuid:()=>{throw P(Y)},base64Decode:()=>{throw P(Y)},base64Encode:()=>{throw P(Y)},base64UrlEncode:()=>{throw P(Y)},encodeKid:()=>{throw P(Y)},async getPublicKeyThumbprint(){throw P(Y)},async removeTokenBindingKey(){throw P(Y)},async clearKeystore(){throw P(Y)},async signJwt(){throw P(Y)},async hashString(){throw P(Y)}};/*! @azure/msal-common v15.6.0 2025-05-06 */var ye;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(ye||(ye={}));let _o=class vh{constructor(e,n,r){this.level=ye.Info;const i=()=>{},o=e||vh.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:ye.Info,this.correlationId=o.correlationId||b.EMPTY_STRING,this.packageName=n||b.EMPTY_STRING,this.packageVersion=r||b.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ye.Info}}clone(e,n,r){return new vh({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ye[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,o,n.containsPii||!1)}executeCallback(e,n,r){this.localCallback&&this.localCallback(e,n,r)}error(e,n){this.logMessage(e,{logLevel:ye.Error,containsPii:!1,correlationId:n||b.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:ye.Error,containsPii:!0,correlationId:n||b.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:ye.Warning,containsPii:!1,correlationId:n||b.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:ye.Warning,containsPii:!0,correlationId:n||b.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:ye.Info,containsPii:!1,correlationId:n||b.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:ye.Info,containsPii:!0,correlationId:n||b.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:ye.Verbose,containsPii:!1,correlationId:n||b.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:ye.Verbose,containsPii:!0,correlationId:n||b.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:ye.Trace,containsPii:!1,correlationId:n||b.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:ye.Trace,containsPii:!0,correlationId:n||b.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};/*! @azure/msal-common v15.6.0 2025-05-06 */const SS="@azure/msal-common",wp="15.6.0";/*! @azure/msal-common v15.6.0 2025-05-06 */const Cp={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v15.6.0 2025-05-06 */function bo(t,e){const n=iR(t);try{const r=e(n);return JSON.parse(r)}catch{throw P(fp)}}function iR(t){if(!t)throw P(oS);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw P(fp);return n[2]}function TS(t,e){if(e===0||Date.now()-3e5>t+e)throw P(dS)}/*! @azure/msal-common v15.6.0 2025-05-06 */function It(){return Math.round(new Date().getTime()/1e3)}function uy(t){return t.getTime()/1e3}function eo(t){return t?new Date(Number(t)*1e3):new Date}function wh(t,e){const n=Number(t)||0;return It()+e>n}function oR(t){return Number(t)>It()}/*! @azure/msal-common v15.6.0 2025-05-06 */function ps(t){return[cR(t),uR(t),dR(t),hR(t),fR(t)].join(Ze.CACHE_KEY_SEPARATOR).toLowerCase()}function jc(t,e,n,r,i){return{credentialType:W.ID_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n,realm:i}}function Dc(t,e,n,r,i,o,s,a,l,c,u,d,h,f,g){var S,w;const v={homeAccountId:t,credentialType:W.ACCESS_TOKEN,secret:n,cachedAt:It().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:i,target:o,tokenType:u||le.BEARER};if(d&&(v.userAssertionHash=d),c&&(v.refreshOn=c.toString()),f&&(v.requestedClaims=f,v.requestedClaimsHash=g),((S=v.tokenType)==null?void 0:S.toLowerCase())!==le.BEARER.toLowerCase())switch(v.credentialType=W.ACCESS_TOKEN_WITH_AUTH_SCHEME,v.tokenType){case le.POP:const y=bo(n,l);if(!((w=y==null?void 0:y.cnf)!=null&&w.kid))throw P(yS);v.keyId=y.cnf.kid;break;case le.SSH:v.keyId=h}return v}function ES(t,e,n,r,i,o,s){const a={credentialType:W.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function Sp(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function sR(t){return t?Sp(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===W.ACCESS_TOKEN||t.credentialType===W.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function aR(t){return t?Sp(t)&&t.hasOwnProperty("realm")&&t.credentialType===W.ID_TOKEN:!1}function lR(t){return t?Sp(t)&&t.credentialType===W.REFRESH_TOKEN:!1}function cR(t){return[t.homeAccountId,t.environment].join(Ze.CACHE_KEY_SEPARATOR).toLowerCase()}function uR(t){const e=t.credentialType===W.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Ze.CACHE_KEY_SEPARATOR).toLowerCase()}function dR(t){return(t.target||"").toLowerCase()}function hR(t){return(t.requestedClaimsHash||"").toLowerCase()}function fR(t){return t.tokenType&&t.tokenType.toLowerCase()!==le.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}function pR(t,e){const n=t.indexOf($e.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&r}function gR(t,e){let n=!1;t&&(n=t.indexOf(fs.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),n&&r}function mR({environment:t,clientId:e}){return[up,t,e].join(Ze.CACHE_KEY_SEPARATOR).toLowerCase()}function yR(t,e){return e?t.indexOf(up)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function vR(t,e){return e?t.indexOf($l.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function dy(){return It()+$l.REFRESH_TIME_SECONDS}function Ua(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function Gu(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function hy(t){return t.expiresAt<=It()}/*! @azure/msal-common v15.6.0 2025-05-06 */const xS="redirect_uri_empty",wR="claims_request_parsing_error",kS="authority_uri_insecure",Zo="url_parse_error",_S="empty_url_error",bS="empty_input_scopes_error",AS="invalid_prompt_value",Uc="invalid_claims",IS="token_request_empty",RS="logout_request_empty",PS="invalid_code_challenge_method",Fc="pkce_params_missing",Tp="invalid_cloud_discovery_metadata",NS="invalid_authority_metadata",OS="untrusted_authority",Hc="missing_ssh_jwk",MS="missing_ssh_kid",CR="missing_nonce_authentication_header",SR="invalid_authentication_header",LS="cannot_set_OIDCOptions",jS="cannot_allow_platform_broker",DS="authority_mismatch";/*! @azure/msal-common v15.6.0 2025-05-06 */const TR={[xS]:"A redirect URI is required for all calls, and none has been set.",[wR]:"Could not parse the given claims request object.",[kS]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Zo]:"URL could not be parsed into appropriate segments.",[_S]:"URL was empty or null.",[bS]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[AS]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Uc]:"Given claims parameter must be a stringified JSON object.",[IS]:"Token request was empty and not found in cache.",[RS]:"The logout request was null or undefined.",[PS]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Fc]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Tp]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[NS]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[OS]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Hc]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[MS]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[CR]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[SR]:"Invalid authentication header provided",[LS]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[jS]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[DS]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class Ep extends we{constructor(e){super(e,TR[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Ep.prototype)}}function se(t){return new Ep(t)}/*! @azure/msal-common v15.6.0 2025-05-06 */class Cn{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},r=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return r.forEach(o=>{if(o.trim()){const[s,a]=o.split(/=(.+)/g,2);s&&a&&(n[i(s)]=i(a))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class Ae{constructor(e){const n=e?Cn.trimArrayEntries([...e]):[],r=n?Cn.removeEmptyStringsFromArray(n):[];if(!r||!r.length)throw se(bS);this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){const r=(e||b.EMPTY_STRING).split(" ");return new Ae(r)}static createSearchScopes(e){const n=new Ae(e);return n.containsOnlyOIDCScopes()?n.removeScope(b.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}containsScope(e){const n=this.printScopesLowerCase().split(" "),r=new Ae(n);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return iy.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw P(gS)}}removeScope(e){if(!e)throw P(pS);this.scopes.delete(e.trim())}removeOIDCScopes(){iy.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw P(ph);const n=new Set;return e.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw P(ph);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return n.size<i+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):b.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.6.0 2025-05-06 */function zl(t,e){if(!t)throw P(iS);try{const n=e(t);return JSON.parse(n)}catch{throw P(hp)}}function to(t){if(!t)throw P(hp);const e=t.split(Ze.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?b.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.6.0 2025-05-06 */function fy(t,e){return!!t&&!!e&&t===e.split(".")[1]}function xp(t,e,n,r){if(r){const{oid:i,sub:o,tid:s,name:a,tfp:l,acr:c}=r,u=s||l||c||"";return{tenantId:u,localAccountId:i||o||"",name:a,isHomeTenant:fy(u,t)}}else return{tenantId:n,localAccountId:e,isHomeTenant:fy(n,t)}}function kp(t,e,n,r){let i=t;if(e){const{isHomeTenant:o,...s}=e;i={...t,...s}}if(n){const{isHomeTenant:o,...s}=xp(t.homeAccountId,t.localAccountId,t.tenantId,n);return i={...i,...s,idTokenClaims:n,idToken:r},i}return i}/*! @azure/msal-common v15.6.0 2025-05-06 */const Wt={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.6.0 2025-05-06 */function US(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v15.6.0 2025-05-06 */const bt={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.6.0 2025-05-06 */class at{generateAccountId(){return[this.homeAccountId,this.environment].join(Ze.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return at.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const n=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",n||e.tenantId||""].join(Ze.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,n,r){var c,u,d,h,f,g;const i=new at;n.authorityType===Wt.Adfs?i.authorityType=ja.ADFS_ACCOUNT_TYPE:n.protocolMode===bt.OIDC?i.authorityType=ja.GENERIC_ACCOUNT_TYPE:i.authorityType=ja.MSSTS_ACCOUNT_TYPE;let o;e.clientInfo&&r&&(o=zl(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const s=e.environment||n&&n.getPreferredCache();if(!s)throw P(mp);i.environment=s,i.realm=(o==null?void 0:o.utid)||US(e.idTokenClaims)||"",i.localAccountId=(o==null?void 0:o.uid)||((c=e.idTokenClaims)==null?void 0:c.oid)||((u=e.idTokenClaims)==null?void 0:u.sub)||"";const a=((d=e.idTokenClaims)==null?void 0:d.preferred_username)||((h=e.idTokenClaims)==null?void 0:h.upn),l=(f=e.idTokenClaims)!=null&&f.emails?e.idTokenClaims.emails[0]:null;if(i.username=a||l||"",i.name=((g=e.idTokenClaims)==null?void 0:g.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const v=xp(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[v]}return i}static createFromAccountInfo(e,n,r){var o;const i=new at;return i.authorityType=e.authorityType||ja.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=n,i.msGraphHost=r,i.tenantProfiles=Array.from(((o=e.tenantProfiles)==null?void 0:o.values())||[]),i}static generateHomeAccountId(e,n,r,i,o){if(!(n===Wt.Adfs||n===Wt.Dsts)){if(e)try{const s=zl(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,r){if(!e||!n)return!1;let i=!0;if(r){const o=e.idTokenClaims||{},s=n.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&i}}/*! @azure/msal-common v15.6.0 2025-05-06 */function FS(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function Kl(t){if(!t||t.indexOf("=")<0)return null;try{const e=FS(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw P(lS)}return null}function $s(t,e=!0,n){const r=new Array;return t.forEach((i,o)=>{!e&&n&&o in n?r.push(`${o}=${i}`):r.push(`${o}=${encodeURIComponent(i)}`)}),r.join("&")}/*! @azure/msal-common v15.6.0 2025-05-06 */class ne{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw se(_S);e.includes("#")||(this._urlString=ne.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return Cn.endsWith(n,"?")?n=n.slice(0,-1):Cn.endsWith(n,"?/")&&(n=n.slice(0,-2)),Cn.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw se(Zo)}if(!e.HostNameAndPort||!e.PathSegments)throw se(Zo);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw se(kS)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return ne.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),r=n.PathSegments;return e&&r.length!==0&&(r[0]===yr.COMMON||r[0]===yr.ORGANIZATIONS)&&(r[0]=e),ne.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw se(Zo);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let i=r.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(n);if(!r)throw se(Zo);return r[2]}static getAbsoluteUrl(e,n){if(e[0]===b.FORWARD_SLASH){const i=new ne(n).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new ne(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Kl(e)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const HS={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},py=HS.endpointMetadata,_p=HS.instanceDiscoveryMetadata,BS=new Set;_p.metadata.forEach(t=>{t.aliases.forEach(e=>{BS.add(e)})});function ER(t,e){var i;let n;const r=t.canonicalAuthority;if(r){const o=new ne(r).getUrlComponents().HostNameAndPort;n=gy(o,(i=t.cloudDiscoveryMetadata)==null?void 0:i.metadata,St.CONFIG,e)||gy(o,_p.metadata,St.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function gy(t,e,n,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const i=Gl(e,t);if(i)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function xR(t){return Gl(_p.metadata,t)}function Gl(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.6.0 2025-05-06 */const $S="cache_quota_exceeded",bp="cache_error_unknown";/*! @azure/msal-common v15.6.0 2025-05-06 */const Wu={[$S]:"Exceeded cache storage capacity.",[bp]:"Unexpected error occurred when using cache storage."};class no extends Error{constructor(e,n){const r=n||(Wu[e]?Wu[e]:Wu[bp]);super(`${e}: ${r}`),Object.setPrototypeOf(this,no.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}/*! @azure/msal-common v15.6.0 2025-05-06 */class Ch{constructor(e,n,r,i){this.clientId=e,this.cryptoImpl=n,this.commonLogger=r.clone(SS,wp),this.staticAuthorityOptions=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const n=this.getAllAccounts(e);return n.length>1?n.sort(i=>i.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e){const n=this.getAccountsFilteredBy(e);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,n){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,n==null?void 0:n.tenantId,n))}getTenantedAccountInfoByFilter(e,n,r,i){let o=null,s;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;const a=this.getIdToken(e,n,r.tenantId);return a&&(s=bo(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,i))?null:(o=kp(e,r,s,a==null?void 0:a.secret),o)}getTenantProfilesFromAccountEntity(e,n,r){const i=e.getAccountInfo();let o=i.tenantProfiles||new Map;const s=this.getTokenKeys();if(n){const l=o.get(n);if(l)o=new Map([[n,l]]);else return[]}const a=[];return o.forEach(l=>{const c=this.getTenantedAccountInfoByFilter(i,s,l,r);c&&a.push(c)}),a}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,r){var i,o,s,a;if(!e)throw P(mS);try{e.account&&await this.setAccount(e.account,n),e.idToken&&(r==null?void 0:r.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&(r==null?void 0:r.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&(r==null?void 0:r.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(l){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),l instanceof Error?((o=this.commonLogger)==null||o.errorPii(`CacheManager.saveCacheRecord: ${l.message}`,n),l.name==="QuotaExceededError"||l.name==="NS_ERROR_DOM_QUOTA_REACHED"||l.message.includes("exceeded the quota")?((s=this.commonLogger)==null||s.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new no($S)):new no(l.name,l.message)):((a=this.commonLogger)==null||a.errorPii(`CacheManager.saveCacheRecord: ${l}`,n),new no(bp))}}async saveAccessToken(e,n){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},i=this.getTokenKeys(),o=Ae.fromString(e.target),s=[];i.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,r,!1))return;const l=this.getAccessTokenCredential(a);l&&this.credentialMatchesFilter(l,r)&&Ae.fromString(l.target).intersectingScopeSets(o)&&s.push(this.removeAccessToken(a))}),await Promise.all(s),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e){const n=this.getAccountKeys(),r=[];return n.forEach(i=>{var l;if(!this.isAccountKey(i,e.homeAccountId))return;const o=this.getAccount(i,this.commonLogger);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;const s={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},a=(l=o.tenantProfiles)==null?void 0:l.filter(c=>this.tenantProfileMatchesFilter(c,s));a&&a.length===0||r.push(o)}),r}isAccountKey(e,n,r){return!(e.split(Ze.CACHE_KEY_SEPARATOR).length<3||n&&!e.toLowerCase().includes(n.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(Ze.CACHE_KEY_SEPARATOR).length<6)return!1;const n=e.toLowerCase();if(n.indexOf(W.ID_TOKEN.toLowerCase())===-1&&n.indexOf(W.ACCESS_TOKEN.toLowerCase())===-1&&n.indexOf(W.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&n.indexOf(W.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(n.indexOf(W.REFRESH_TOKEN.toLowerCase())>-1){const r=`${W.REFRESH_TOKEN}${Ze.CACHE_KEY_SEPARATOR}${this.clientId}${Ze.CACHE_KEY_SEPARATOR}`,i=`${W.REFRESH_TOKEN}${Ze.CACHE_KEY_SEPARATOR}${hs}${Ze.CACHE_KEY_SEPARATOR}`;if(n.indexOf(r.toLowerCase())===-1&&n.indexOf(i.toLowerCase())===-1)return!1}else if(n.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===W.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===le.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),r={};return n.forEach(i=>{if(!this.isAppMetadata(i))return;const o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(r[i]=o))}),r}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(r=o)}),r}async removeAllAccounts(){const e=this.getAccountKeys(),n=[];e.forEach(r=>{n.push(this.removeAccount(r))}),await Promise.all(n)}async removeAccount(e){const n=this.getAccount(e,this.commonLogger);n&&(await this.removeAccountContext(n),this.removeItem(e))}async removeAccountContext(e){const n=this.getTokenKeys(),r=e.generateAccountId(),i=[];n.idToken.forEach(o=>{o.indexOf(r)===0&&this.removeIdToken(o)}),n.accessToken.forEach(o=>{o.indexOf(r)===0&&i.push(this.removeAccessToken(o))}),n.refreshToken.forEach(o=>{o.indexOf(r)===0&&this.removeRefreshToken(o)}),await Promise.all(i)}async removeAccessToken(e){const n=this.getAccessTokenCredential(e);if(n){if(n.credentialType.toLowerCase()===W.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&n.tokenType===le.POP){const i=n.keyId;if(i)try{await this.cryptoImpl.removeTokenBindingKey(i)}catch{throw P(wS)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n)}),!0}readAccountFromCache(e){const n=at.generateAccountCacheKey(e);return this.getAccount(n,this.commonLogger)}getIdToken(e,n,r,i,o){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:W.ID_TOKEN,clientId:this.clientId,realm:r},a=this.getIdTokensByFilter(s,n),l=a.size;if(l<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(l>1){let c=a;if(!r){const u=new Map;a.forEach((h,f)=>{h.realm===e.tenantId&&u.set(f,h)});const d=u.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(d===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;c=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),c.forEach((u,d)=>{this.removeIdToken(d)}),i&&o&&i.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,n){const r=n&&n.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,{clientId:this.clientId,...e}))return;const s=this.getIdTokenCredential(o);s&&this.credentialMatchesFilter(s,e)&&i.set(o,s)}),i}idTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,n,r,i,o,s){this.commonLogger.trace("CacheManager - getAccessToken called");const a=Ae.createSearchScopes(n.scopes),l=n.authenticationScheme||le.BEARER,c=l&&l.toLowerCase()!==le.BEARER.toLowerCase()?W.ACCESS_TOKEN_WITH_AUTH_SCHEME:W.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:i||e.tenantId,target:a,tokenType:l,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},d=r&&r.accessToken||this.getTokenKeys().accessToken,h=[];d.forEach(g=>{if(this.accessTokenKeyMatchesFilter(g,u,!0)){const v=this.getAccessTokenCredential(g);v&&this.credentialMatchesFilter(v,u)&&h.push(v)}});const f=h.length;return f<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):f>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),h.forEach(g=>{this.removeAccessToken(ps(g))}),o&&s&&o.addFields({multiMatchedAT:h.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),h[0])}accessTokenKeyMatchesFilter(e,n,r){const i=e.toLowerCase();if(n.clientId&&i.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&i.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&i.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&i.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const o=n.target.asArray();for(let s=0;s<o.length;s++){if(r&&!i.includes(o[s].toLowerCase()))return!1;if(!r&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const n=this.getTokenKeys(),r=[];return n.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,e)&&r.push(o)}),r}getRefreshToken(e,n,r,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=n?hs:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:W.REFRESH_TOKEN,clientId:this.clientId,familyId:s},l=r&&r.refreshToken||this.getTokenKeys().refreshToken,c=[];l.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,a)){const h=this.getRefreshTokenCredential(d);h&&this.credentialMatchesFilter(h,a)&&c.push(h)}});const u=c.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&i&&o&&i.addFields({multiMatchedRT:u},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),i=Object.keys(r).map(s=>r[s]),o=i.length;if(o<1)return null;if(o>1)throw P(hS);return i[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===hs)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const r=e.oid||e.sub;return n===r}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var r;return n.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const i=ER(this.staticAuthorityOptions,this.commonLogger);if(i.includes(n)&&i.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==W.ACCESS_TOKEN&&e.credentialType!==W.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Ae.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(up)!==-1}isAuthorityMetadata(e){return e.indexOf($l.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${$l.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const r in n)e[r]=n[r];return e}}class kR extends Ch{async setAccount(){throw P(Y)}getAccount(){throw P(Y)}async setIdTokenCredential(){throw P(Y)}getIdTokenCredential(){throw P(Y)}async setAccessTokenCredential(){throw P(Y)}getAccessTokenCredential(){throw P(Y)}async setRefreshTokenCredential(){throw P(Y)}getRefreshTokenCredential(){throw P(Y)}setAppMetadata(){throw P(Y)}getAppMetadata(){throw P(Y)}setServerTelemetry(){throw P(Y)}getServerTelemetry(){throw P(Y)}setAuthorityMetadata(){throw P(Y)}getAuthorityMetadata(){throw P(Y)}getAuthorityMetadataKeys(){throw P(Y)}setThrottlingCache(){throw P(Y)}getThrottlingCache(){throw P(Y)}removeItem(){throw P(Y)}getKeys(){throw P(Y)}getAccountKeys(){throw P(Y)}getTokenKeys(){throw P(Y)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const VS={tokenRenewalOffsetSeconds:zI,preventCorsPreflight:!1},_R={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ye.Info,correlationId:b.EMPTY_STRING},bR={claimsBasedCachingEnabled:!1},AR={async sendGetRequestAsync(){throw P(Y)},async sendPostRequestAsync(){throw P(Y)}},IR={sku:b.SKU,version:wp,cpu:b.EMPTY_STRING,os:b.EMPTY_STRING},RR={clientSecret:b.EMPTY_STRING,clientAssertion:void 0},PR={azureCloudInstance:Cp.None,tenant:`${b.DEFAULT_COMMON_TENANT}`},NR={application:{appName:"",appVersion:""}};function OR({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:r,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:l,telemetry:c,serverTelemetryManager:u,persistencePlugin:d,serializableCache:h}){const f={..._R,...n};return{authOptions:MR(t),systemOptions:{...VS,...e},loggerOptions:f,cacheOptions:{...bR,...r},storageInterface:i||new kR(t.clientId,Vl,new _o(f)),networkInterface:o||AR,cryptoInterface:s||Vl,clientCredentials:a||RR,libraryInfo:{...IR,...l},telemetry:{...NR,...c},serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:h||null}}function MR(t){return{clientCapabilities:[],azureCloudOptions:PR,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function zS(t){return t.authOptions.authority.options.protocolMode===bt.OIDC}/*! @azure/msal-common v15.6.0 2025-05-06 */const Yt={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.6.0 2025-05-06 */const ci="client_id",KS="redirect_uri",LR="response_type",jR="response_mode",DR="grant_type",UR="claims",FR="scope",HR="refresh_token",BR="state",$R="nonce",VR="prompt",zR="code",KR="code_challenge",GR="code_challenge_method",WR="code_verifier",qR="client-request-id",QR="x-client-SKU",YR="x-client-VER",JR="x-client-OS",XR="x-client-CPU",ZR="x-client-current-telemetry",eP="x-client-last-telemetry",tP="x-ms-lib-capability",nP="x-app-name",rP="x-app-ver",iP="post_logout_redirect_uri",oP="id_token_hint",sP="client_secret",aP="client_assertion",lP="client_assertion_type",GS="token_type",WS="req_cnf",my="return_spa_code",cP="nativebroker",uP="logout_hint",dP="sid",hP="login_hint",fP="domain_hint",pP="x-client-xtra-sku",Wl="brk_client_id",ql="brk_redirect_uri",Sh="instance_aware",gP="ear_jwk",mP="ear_jwe_crypto";/*! @azure/msal-common v15.6.0 2025-05-06 */function Bc(t,e,n){if(!e)return;const r=t.get(ci);r&&t.has(Wl)&&(n==null||n.addFields({embeddedClientId:r,embeddedRedirectUri:t.get(KS)},e))}function qS(t,e){t.set(LR,e)}function yP(t,e){t.set(jR,e||BI.QUERY)}function vP(t){t.set(cP,"1")}function Ap(t,e,n=!0,r=oa){n&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const i=n?[...e||[],...r]:e||[],o=new Ae(i);t.set(FR,o.printScopes())}function Ip(t,e){t.set(ci,e)}function Rp(t,e){t.set(KS,e)}function wP(t,e){t.set(iP,e)}function CP(t,e){t.set(oP,e)}function SP(t,e){t.set(fP,e)}function Fa(t,e){t.set(hP,e)}function Ql(t,e){t.set(ot.CCS_HEADER,`UPN:${e}`)}function gs(t,e){t.set(ot.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function yy(t,e){t.set(dP,e)}function Pp(t,e,n){const r=AP(e,n);try{JSON.parse(r)}catch{throw se(Uc)}t.set(UR,r)}function Np(t,e){t.set(qR,e)}function Op(t,e){t.set(QR,e.sku),t.set(YR,e.version),e.os&&t.set(JR,e.os),e.cpu&&t.set(XR,e.cpu)}function Mp(t,e){e!=null&&e.appName&&t.set(nP,e.appName),e!=null&&e.appVersion&&t.set(rP,e.appVersion)}function TP(t,e){t.set(VR,e)}function QS(t,e){e&&t.set(BR,e)}function EP(t,e){t.set($R,e)}function xP(t,e,n){if(e&&n)t.set(KR,e),t.set(GR,n);else throw se(Fc)}function kP(t,e){t.set(zR,e)}function _P(t,e){t.set(HR,e)}function bP(t,e){t.set(WR,e)}function YS(t,e){t.set(sP,e)}function JS(t,e){e&&t.set(aP,e)}function XS(t,e){e&&t.set(lP,e)}function ZS(t,e){t.set(DR,e)}function Lp(t){t.set($I,"1")}function eT(t){t.has(Sh)||t.set(Sh,"true")}function Zr(t,e){Object.entries(e).forEach(([n,r])=>{!t.has(n)&&r&&t.set(n,r)})}function AP(t,e){let n;if(!t)n={};else try{n=JSON.parse(t)}catch{throw se(Uc)}return e&&e.length>0&&(n.hasOwnProperty(La.ACCESS_TOKEN)||(n[La.ACCESS_TOKEN]={}),n[La.ACCESS_TOKEN][La.XMS_CC]={values:e}),JSON.stringify(n)}function jp(t,e){e&&(t.set(GS,le.POP),t.set(WS,e))}function tT(t,e){e&&(t.set(GS,le.SSH),t.set(WS,e))}function nT(t,e){t.set(ZR,e.generateCurrentRequestHeaderValue()),t.set(eP,e.generateLastRequestHeaderValue())}function rT(t){t.set(tP,fs.X_MS_LIB_CAPABILITY_VALUE)}function IP(t,e){t.set(uP,e)}function $c(t,e,n){t.has(Wl)||t.set(Wl,e),t.has(ql)||t.set(ql,n)}function RP(t,e){t.set(gP,encodeURIComponent(e));const n="eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0";t.set(mP,n)}/*! @azure/msal-common v15.6.0 2025-05-06 */function PP(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.6.0 2025-05-06 */function NP(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v15.6.0 2025-05-06 */function OP(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v15.6.0 2025-05-06 */const E={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},MP={NotStarted:0,InProgress:1,Completed:2};/*! @azure/msal-common v15.6.0 2025-05-06 */const nn=(t,e,n,r,i)=>(...o)=>{n.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,i);if(i){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},i)}try{const a=t(...o);return s==null||s.end({success:!0}),n.trace(`Returning result from ${e}`),a}catch(a){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a}},A=(t,e,n,r,i)=>(...o)=>{n.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,i);if(i){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},i)}return r==null||r.setPreQueueTime(e,i),t(...o).then(a=>(n.trace(`Returning result from ${e}`),s==null||s.end({success:!0}),a)).catch(a=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a})};/*! @azure/msal-common v15.6.0 2025-05-06 */class Vc{constructor(e,n,r,i){this.networkInterface=e,this.logger=n,this.performanceClient=r,this.correlationId=i}async detectRegion(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(E.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)n.region_source=Si.ENVIRONMENT_VARIABLE;else{const o=Vc.IMDS_OPTIONS;try{const s=await A(this.getRegionFromIMDS.bind(this),E.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(b.IMDS_VERSION,o);if(s.status===Da.httpSuccess&&(r=s.body,n.region_source=Si.IMDS),s.status===Da.httpBadRequest){const a=await A(this.getCurrentVersion.bind(this),E.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!a)return n.region_source=Si.FAILED_AUTO_DETECTION,null;const l=await A(this.getRegionFromIMDS.bind(this),E.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,o);l.status===Da.httpSuccess&&(r=l.body,n.region_source=Si.IMDS)}}catch{return n.region_source=Si.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=Si.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,n){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(E.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${b.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,b.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(E.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${b.IMDS_ENDPOINT}?format=json`,e);return r.status===Da.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}Vc.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.6.0 2025-05-06 */class Je{constructor(e,n,r,i,o,s,a,l){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=l||!1,this.regionDiscovery=new Vc(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(b.CIAM_AUTH_URL))return Wt.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case b.ADFS:return Wt.Adfs;case b.DSTS:return Wt.Dsts}return Wt.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new ne(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw P(kn)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw P(kn)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw P(kn)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw P(CS);return this.replacePath(this.metadata.end_session_endpoint)}else throw P(kn)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw P(kn)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw P(kn)}canReplaceTenant(e){return e.PathSegments.length===1&&!Je.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Wt.Default&&this.protocolMode!==bt.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const i=new ne(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,l)=>{let c=o[l];if(l===0&&this.canReplaceTenant(i)){const u=new ne(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];c!==u&&(this.logger.verbose(`Replacing tenant domain name ${c} with id ${u}`),c=u)}a!==c&&(n=n.replace(`/${c}/`,`/${a}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Wt.Adfs||this.protocolMode===bt.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(E.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await A(this.updateCloudDiscoveryMetadata.bind(this),E.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await A(this.updateEndpointMetadata.bind(this),E.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:r}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:dy(),jwks_uri:""}),e}updateCachedMetadata(e,n,r){n!==St.CACHE&&(r==null?void 0:r.source)!==St.CACHE&&(e.expiresAt=dy(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,o,s;(i=this.performanceClient)==null||i.addQueueMeasurement(E.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===St.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&n.metadata){const a=await A(this.updateMetadataWithRegionalInformation.bind(this),E.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);Ua(e,a,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let r=await A(this.getEndpointMetadataFromNetwork.bind(this),E.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(r=await A(this.updateMetadataWithRegionalInformation.bind(this),E.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Ua(e,r,!0),St.NETWORK;throw P(aS,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),Ua(e,n,!1),{source:St.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return Ua(e,i,!1),{source:St.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=hy(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:St.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new ne(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw se(NS)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(E.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const i=await this.networkInterface.sendGetRequestAsync(n,e);return PP(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in py?py[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,i,o;(r=this.performanceClient)==null||r.addQueueMeasurement(E.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(n){if(n!==b.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Ku.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,Je.replaceWithRegionalInformation(e,n);const s=await A(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),E.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=Ku.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,Je.replaceWithRegionalInformation(e,s);this.regionDiscoveryMetadata.region_outcome=Ku.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(E.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await A(this.getCloudDiscoveryMetadataFromNetwork.bind(this),E.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return Gu(e,r,!0),St.NETWORK;throw se(OS)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||b.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||b.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||b.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Gu(e,n,!1),St.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=xR(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Gu(e,i,!1),St.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=hy(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),St.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Wt.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Je.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=Gl(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),se(Tp)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Je.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(E.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${b.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const o=await this.networkInterface.sendGetRequestAsync(e,n);let s,a;if(NP(o.body))s=o.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(OP(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),s=o.body,s.error===b.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Gl(a,this.hostnameAndPort)}catch(o){if(o instanceof we)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const s=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Je.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&ne.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let r;if(n&&n.azureCloudInstance!==Cp.None){const i=n.tenant?n.tenant:b.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${i}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return b.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw P(kn)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return BS.has(e)}static isPublicCloudAuthority(e){return b.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,r){const i=new ne(e);i.validateAsUri();const o=i.getUrlComponents();let s=`${n}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${n}.${b.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=ne.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:s}).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,n){const r={...e};return r.authorization_endpoint=Je.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=Je.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=Je.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(e){let n=e;const i=new ne(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(b.CIAM_AUTH_URL)){const o=i.HostNameAndPort.split(".")[0];n=`${n}${o}${b.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}Je.reservedTenantDomains=new Set(["{tenant}","{tenantid}",yr.COMMON,yr.CONSUMERS,yr.ORGANIZATIONS]);function LP(t){var i;const r=(i=new ne(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(r){case yr.COMMON:case yr.ORGANIZATIONS:case yr.CONSUMERS:return;default:return r}}function iT(t){return t.endsWith(b.FORWARD_SLASH)?t:`${t}${b.FORWARD_SLASH}`}function jP(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw se(Tp)}return{canonicalAuthority:t.authority?iT(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.6.0 2025-05-06 */async function oT(t,e,n,r,i,o,s){s==null||s.addQueueMeasurement(E.AuthorityFactoryCreateDiscoveredInstance,o);const a=Je.transformCIAMAuthority(iT(t)),l=new Je(a,e,n,r,i,o,s);try{return await A(l.resolveEndpointsAsync.bind(l),E.AuthorityResolveEndpointsAsync,i,s,o)(),l}catch{throw P(kn)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class pi extends we{constructor(e,n,r,i,o){super(e,n,r),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,pi.prototype)}}/*! @azure/msal-common v15.6.0 2025-05-06 */function zc(t,e,n){var r;return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r.clientId)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class pn{static generateThrottlingStorageKey(e){return`${fs.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n){var o;const r=pn.generateThrottlingStorageKey(n),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r);return}throw new pi(((o=i.errorCodes)==null?void 0:o.join(" "))||b.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,n,r){if(pn.checkResponseStatus(r)||pn.checkResponseForRetryAfter(r)){const i={throttleTime:pn.calculateThrottleTime(parseInt(r.headers[ot.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(pn.generateThrottlingStorageKey(n),i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(ot.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||fs.DEFAULT_THROTTLE_TIME_SECONDS),r+fs.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,r,i){const o=zc(n,r,i),s=this.generateThrottlingStorageKey(o);e.removeItem(s)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class Kc extends we{constructor(e,n,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Kc.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=r}}function es(t,e,n,r){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${r==null?void 0:r.name}, error.message:${r==null?void 0:r.message}`,new Kc(t,e,n)}/*! @azure/msal-common v15.6.0 2025-05-06 */class Dp{constructor(e,n){this.config=OR(e),this.logger=new _o(this.config.loggerOptions,SS,wp),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[ot.CONTENT_TYPE]=b.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Yt.HOME_ACCOUNT_ID:try{const r=to(e.credential);n[ot.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Yt.UPN:n[ot.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,r,i,o,s){var l;s&&((l=this.performanceClient)==null||l.addQueueMeasurement(s,o));const a=await this.sendPostRequest(i,e,{body:n,headers:r},o);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,n,r,i){var s,a,l;pn.preProcess(this.cacheManager,e);let o;try{o=await A(this.networkClient.sendPostRequestAsync.bind(this.networkClient),E.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(n,r);const c=o.headers||{};(a=this.performanceClient)==null||a.addFields({refreshTokenSize:((s=o.body.refresh_token)==null?void 0:s.length)||0,httpVerToken:c[ot.X_MS_HTTP_VERSION]||"",requestId:c[ot.X_MS_REQUEST_ID]||""},i)}catch(c){if(c instanceof Kc){const u=c.responseHeaders;throw u&&((l=this.performanceClient)==null||l.addFields({httpVerToken:u[ot.X_MS_HTTP_VERSION]||"",requestId:u[ot.X_MS_REQUEST_ID]||"",contentTypeHeader:u[ot.CONTENT_TYPE]||void 0,contentLengthHeader:u[ot.CONTENT_LENGTH]||void 0,httpStatus:c.httpStatus},i)),c.error}throw c instanceof we?c:P(sS)}return pn.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(E.UpdateTokenEndpointAuthority,n);const r=`https://${e}/${this.authority.tenant}/`,i=await oT(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&$c(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Zr(n,e.tokenQueryParameters),Np(n,e.correlationId),Bc(n,e.correlationId,this.performanceClient),$s(n)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const Yl="no_tokens_found",sT="native_account_unavailable",Up="refresh_token_expired",DP="interaction_required",UP="consent_required",FP="login_required",Gc="bad_token";/*! @azure/msal-common v15.6.0 2025-05-06 */const vy=[DP,UP,FP,Gc],HP=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],BP={[Yl]:"No refresh token found in the cache. Please sign-in.",[sT]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Up]:"Refresh token has expired.",[Gc]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class rn extends we{constructor(e,n,r,i,o,s,a,l){super(e,n,r),Object.setPrototypeOf(this,rn.prototype),this.timestamp=i||b.EMPTY_STRING,this.traceId=o||b.EMPTY_STRING,this.correlationId=s||b.EMPTY_STRING,this.claims=a||b.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}}function aT(t,e,n){const r=!!t&&vy.indexOf(t)>-1,i=!!n&&HP.indexOf(n)>-1,o=!!e&&vy.some(s=>e.indexOf(s)>-1);return r||o||i}function Th(t){return new rn(t,BP[t])}/*! @azure/msal-common v15.6.0 2025-05-06 */class Ao{static setRequestState(e,n,r){const i=Ao.generateLibraryState(e,r);return n?`${i}${b.RESOURCE_DELIM}${n}`:i}static generateLibraryState(e,n){if(!e)throw P(mh);const r={id:e.createNewGuid()};n&&(r.meta=n);const i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,n){if(!e)throw P(mh);if(!n)throw P(fo);try{const r=n.split(b.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(b.RESOURCE_DELIM):b.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||b.EMPTY_STRING,libraryState:a}}catch{throw P(fo)}}}/*! @azure/msal-common v15.6.0 2025-05-06 */const $P={SW:"sw",UHW:"uhw"};class po{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(E.PopTokenGenerateCnf,e.correlationId);const r=await A(this.generateKid.bind(this),E.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(E.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:$P.SW}}async signPopToken(e,n,r){return this.signPayload(e,n,r)}async signPayload(e,n,r,i){const{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:l,shrOptions:c}=r,u=s?new ne(s):void 0,d=u==null?void 0:u.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:It(),m:o==null?void 0:o.toUpperCase(),u:d==null?void 0:d.HostNameAndPort,nonce:l||this.cryptoUtils.createNewGuid(),p:d==null?void 0:d.AbsolutePath,q:d!=null&&d.QueryString?[[],d.QueryString]:void 0,client_claims:a||void 0,...i},n,c,r.correlationId)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class VP{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.6.0 2025-05-06 */class ui{constructor(e,n,r,i,o,s,a){this.clientId=e,this.cacheStorage=n,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateTokenResponse(e,n){var r;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||b.NOT_AVAILABLE} - Timestamp: ${e.timestamp||b.NOT_AVAILABLE} - Description: ${e.error_description||b.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||b.NOT_AVAILABLE} - Trace ID: ${e.trace_id||b.NOT_AVAILABLE}`,o=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,s=new pi(e.error,i,e.suberror,o,e.status);if(n&&e.status&&e.status>=Ma.SERVER_ERROR_RANGE_START&&e.status<=Ma.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(n&&e.status&&e.status>=Ma.CLIENT_ERROR_RANGE_START&&e.status<=Ma.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw aT(e.error,e.error_description,e.suberror)?new rn(e.error,e.error_description,e.suberror,e.timestamp||b.EMPTY_STRING,e.trace_id||b.EMPTY_STRING,e.correlation_id||b.EMPTY_STRING,e.claims||b.EMPTY_STRING,o):s}}async handleServerTokenResponse(e,n,r,i,o,s,a,l,c){var g;(g=this.performanceClient)==null||g.addQueueMeasurement(E.HandleServerTokenResponse,e.correlation_id);let u;if(e.id_token){if(u=bo(e.id_token||b.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw P(uS);if(i.maxAge||i.maxAge===0){const v=u.auth_time;if(!v)throw P(pp);TS(v,i.maxAge)}}this.homeAccountIdentifier=at.generateHomeAccountId(e.client_info||b.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,u);let d;o&&o.state&&(d=Ao.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;const h=this.generateCacheRecord(e,n,r,i,u,s,o);let f;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),f=new VP(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(f)),a&&!l&&h.account){const v=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(v))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await ui.generateAuthenticationResult(this.cryptoObj,n,h,!1,i,u,d,void 0,c)}await this.cacheStorage.saveCacheRecord(h,i.correlationId,i.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&f&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(f))}return ui.generateAuthenticationResult(this.cryptoObj,n,h,!1,i,u,d,e,c)}generateCacheRecord(e,n,r,i,o,s,a){const l=n.getPreferredCache();if(!l)throw P(mp);const c=US(o);let u,d;e.id_token&&o&&(u=jc(this.homeAccountIdentifier,l,e.id_token,this.clientId,c||""),d=Fp(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,l,c,a,void 0,this.logger));let h=null;if(e.access_token){const v=e.scope?Ae.fromString(e.scope):new Ae(i.scopes||[]),S=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,w=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,y=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,m=r+S,T=m+w,x=y&&y>0?r+y:void 0;h=Dc(this.homeAccountIdentifier,l,e.access_token,this.clientId,c||n.tenant||"",v.printScopes(),m,T,this.cryptoObj.base64Decode,x,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let f=null;if(e.refresh_token){let v;if(e.refresh_token_expires_in){const S=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;v=r+S}f=ES(this.homeAccountIdentifier,l,e.refresh_token,this.clientId,e.foci,s,v)}let g=null;return e.foci&&(g={clientId:this.clientId,environment:l,familyId:e.foci}),{account:d,idToken:u,accessToken:h,refreshToken:f,appMetadata:g}}static async generateAuthenticationResult(e,n,r,i,o,s,a,l,c){var m,T,x,I,_;let u=b.EMPTY_STRING,d=[],h=null,f,g,v=b.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===le.POP&&!o.popKid){const k=new po(e),{secret:R,keyId:O}=r.accessToken;if(!O)throw P(yp);u=await k.signPopToken(R,O,o)}else u=r.accessToken.secret;d=Ae.fromString(r.accessToken.target).asArray(),h=eo(r.accessToken.expiresOn),f=eo(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(g=eo(r.accessToken.refreshOn))}r.appMetadata&&(v=r.appMetadata.familyId===hs?hs:"");const S=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",w=(s==null?void 0:s.tid)||"";l!=null&&l.spa_accountid&&r.account&&(r.account.nativeAccountId=l==null?void 0:l.spa_accountid);const y=r.account?kp(r.account.getAccountInfo(),void 0,s,(m=r.idToken)==null?void 0:m.secret):null;return{authority:n.canonicalAuthority,uniqueId:S,tenantId:w,scopes:d,account:y,idToken:((T=r==null?void 0:r.idToken)==null?void 0:T.secret)||"",idTokenClaims:s||{},accessToken:u,fromCache:i,expiresOn:h,extExpiresOn:f,refreshOn:g,correlationId:o.correlationId,requestId:c||b.EMPTY_STRING,familyId:v,tokenType:((x=r.accessToken)==null?void 0:x.tokenType)||b.EMPTY_STRING,state:a?a.userRequestState:b.EMPTY_STRING,cloudGraphHostName:((I=r.account)==null?void 0:I.cloudGraphHostName)||b.EMPTY_STRING,msGraphHost:((_=r.account)==null?void 0:_.msGraphHost)||b.EMPTY_STRING,code:l==null?void 0:l.spa_code,fromNativeBroker:!1}}}function Fp(t,e,n,r,i,o,s,a,l,c,u){u==null||u.verbose("setCachedAccount called");const h=t.getAccountKeys().find(w=>w.startsWith(n));let f=null;h&&(f=t.getAccount(h));const g=f||at.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:l==null?void 0:l.cloud_graph_host_name,msGraphHost:l==null?void 0:l.msgraph_host,nativeAccountId:c},e,r),v=g.tenantProfiles||[],S=a||g.realm;if(S&&!v.find(w=>w.tenantId===S)){const w=xp(n,g.localAccountId,S,i);v.push(w)}return g.tenantProfiles=v,g}/*! @azure/msal-common v15.6.0 2025-05-06 */class zP{static validateRedirectUri(e){if(!e)throw se(xS)}static validatePrompt(e){const n=[];for(const r in ze)n.push(ze[r]);if(n.indexOf(e)<0)throw se(AS)}static validateClaims(e){try{JSON.parse(e)}catch{throw se(Uc)}}static validateCodeChallengeParams(e,n){if(!e||!n)throw se(Fc);this.validateCodeChallengeMethod(n)}static validateCodeChallengeMethod(e){if([sy.PLAIN,sy.S256].indexOf(e)<0)throw se(PS)}}/*! @azure/msal-common v15.6.0 2025-05-06 */async function lT(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.6.0 2025-05-06 */class cT extends Dp{constructor(e,n){var r;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async acquireToken(e,n){var a,l;if((a=this.performanceClient)==null||a.addQueueMeasurement(E.AuthClientAcquireToken,e.correlationId),!e.code)throw P(fS);const r=It(),i=await A(this.executeTokenRequest.bind(this),E.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=(l=i.headers)==null?void 0:l[ot.X_MS_REQUEST_ID],s=new ui(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),A(s.handleServerTokenResponse.bind(s),E.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,n,void 0,void 0,void 0,o)}getLogoutUri(e){if(!e)throw se(RS);const n=this.createLogoutUrlQueryString(e);return ne.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(E.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),i=ne.appendQueryString(e.tokenEndpoint,r),o=await A(this.createTokenRequestBody.bind(this),E.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let s;if(n.clientInfo)try{const u=zl(n.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${u.uid}${Ze.CLIENT_INFO_SEPARATOR}${u.utid}`,type:Yt.HOME_ACCOUNT_ID}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}const a=this.createTokenRequestHeaders(s||n.ccsCredential),l=zc(this.config.authOptions.clientId,n);return A(this.executePostToTokenEndpoint.bind(this),E.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(i,o,a,l,n.correlationId,E.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(E.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(Ip(n,e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[ci])||this.config.authOptions.clientId),this.includeRedirectUri?Rp(n,e.redirectUri):zP.validateRedirectUri(e.redirectUri),Ap(n,e.scopes,!0,this.oidcDefaultScopes),kP(n,e.code),Op(n,this.config.libraryInfo),Mp(n,this.config.telemetry.application),rT(n),this.serverTelemetryManager&&!zS(this.config)&&nT(n,this.serverTelemetryManager),e.codeVerifier&&bP(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&YS(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;JS(n,await lT(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),XS(n,s.assertionType)}if(ZS(n,tS.AUTHORIZATION_CODE_GRANT),Lp(n),e.authenticationScheme===le.POP){const s=new po(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await A(s.generateCnf.bind(s),E.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,jp(n,a)}else if(e.authenticationScheme===le.SSH)if(e.sshJwk)tT(n,e.sshJwk);else throw se(Hc);(!Cn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Pp(n,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const s=zl(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${s.uid}${Ze.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Yt.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Yt.HOME_ACCOUNT_ID:try{const s=to(r.credential);gs(n,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Yt.UPN:Ql(n,r.credential);break}return e.embeddedClientId&&$c(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Zr(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[my])&&Zr(n,{[my]:"1"}),Bc(n,e.correlationId,this.performanceClient),$s(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&wP(n,e.postLogoutRedirectUri),e.correlationId&&Np(n,e.correlationId),e.idTokenHint&&CP(n,e.idTokenHint),e.state&&QS(n,e.state),e.logoutHint&&IP(n,e.logoutHint),e.extraQueryParameters&&Zr(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&eT(n),$s(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const KP=300;class GP extends Dp{constructor(e,n){super(e,n)}async acquireToken(e){var s,a;(s=this.performanceClient)==null||s.addQueueMeasurement(E.RefreshTokenClientAcquireToken,e.correlationId);const n=It(),r=await A(this.executeTokenRequest.bind(this),E.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(a=r.headers)==null?void 0:a[ot.X_MS_REQUEST_ID],o=new ui(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(r.body),A(o.handleServerTokenResponse.bind(o),E.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var r;if(!e)throw se(IS);if((r=this.performanceClient)==null||r.addQueueMeasurement(E.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw P(gp);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await A(this.acquireTokenWithCachedRefreshToken.bind(this),E.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const o=i instanceof rn&&i.errorCode===Yl,s=i instanceof pi&&i.errorCode===ay.INVALID_GRANT_ERROR&&i.subError===ay.CLIENT_MISMATCH_ERROR;if(o||s)return A(this.acquireTokenWithCachedRefreshToken.bind(this),E.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return A(this.acquireTokenWithCachedRefreshToken.bind(this),E.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var o,s,a;(o=this.performanceClient)==null||o.addQueueMeasurement(E.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=nn(this.cacheManager.getRefreshToken.bind(this.cacheManager),E.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,void 0,this.performanceClient,e.correlationId);if(!r)throw Th(Yl);if(r.expiresOn&&wh(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||KP))throw(s=this.performanceClient)==null||s.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),Th(Up);const i={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||le.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Yt.HOME_ACCOUNT_ID}};try{return await A(this.acquireToken.bind(this),E.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(l){if(l instanceof rn&&((a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),l.subError===Gc)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const c=ps(r);this.cacheManager.removeRefreshToken(c)}throw l}}async executeTokenRequest(e,n){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(E.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),i=ne.appendQueryString(n.tokenEndpoint,r),o=await A(this.createTokenRequestBody.bind(this),E.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a=zc(this.config.authOptions.clientId,e);return A(this.executePostToTokenEndpoint.bind(this),E.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,s,a,e.correlationId,E.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,i,o;(r=this.performanceClient)==null||r.addQueueMeasurement(E.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(Ip(n,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[ci])||this.config.authOptions.clientId),e.redirectUri&&Rp(n,e.redirectUri),Ap(n,e.scopes,!0,(o=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:o.defaultScopes),ZS(n,tS.REFRESH_TOKEN_GRANT),Lp(n),Op(n,this.config.libraryInfo),Mp(n,this.config.telemetry.application),rT(n),this.serverTelemetryManager&&!zS(this.config)&&nT(n,this.serverTelemetryManager),_P(n,e.refreshToken),this.config.clientCredentials.clientSecret&&YS(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;JS(n,await lT(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),XS(n,s.assertionType)}if(e.authenticationScheme===le.POP){const s=new po(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await A(s.generateCnf.bind(s),E.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,jp(n,a)}else if(e.authenticationScheme===le.SSH)if(e.sshJwk)tT(n,e.sshJwk);else throw se(Hc);if((!Cn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Pp(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Yt.HOME_ACCOUNT_ID:try{const s=to(e.ccsCredential.credential);gs(n,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Yt.UPN:Ql(n,e.ccsCredential.credential);break}return e.embeddedClientId&&$c(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Zr(n,e.tokenBodyParameters),Bc(n,e.correlationId,this.performanceClient),$s(n)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class WP extends Dp{constructor(e,n){super(e,n)}async acquireCachedToken(e){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(E.SilentFlowClientAcquireCachedToken,e.correlationId);let n=Fr.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Cn.isEmptyObj(e.claims))throw this.setCacheOutcome(Fr.FORCE_REFRESH_OR_CLAIMS,e.correlationId),P(vr);if(!e.account)throw P(gp);const r=e.account.tenantId||LP(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,r,this.performanceClient,e.correlationId);if(o){if(oR(o.cachedAt)||wh(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Fr.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),P(vr);o.refreshOn&&wh(o.refreshOn,0)&&(n=Fr.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Fr.NO_CACHED_ACCESS_TOKEN,e.correlationId),P(vr);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,i,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await A(this.generateResultFromCacheRecord.bind(this),E.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),n]}setCacheOutcome(e,n){var r,i;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},n),e!==Fr.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(E.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(e.idToken&&(r=bo(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const o=r==null?void 0:r.auth_time;if(!o)throw P(pp);TS(o,n.maxAge)}return ui.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,r)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const qP={sendGetRequestAsync:()=>Promise.reject(P(Y)),sendPostRequestAsync:()=>Promise.reject(P(Y))};/*! @azure/msal-common v15.6.0 2025-05-06 */function QP(t,e,n,r){var a,l;const i=e.correlationId,o=new Map;Ip(o,e.embeddedClientId||((a=e.extraQueryParameters)==null?void 0:a[ci])||t.clientId);const s=[...e.scopes||[],...e.extraScopesToConsent||[]];if(Ap(o,s,!0,(l=t.authority.options.OIDCOptions)==null?void 0:l.defaultScopes),Rp(o,e.redirectUri),Np(o,i),yP(o,e.responseMode),Lp(o),e.prompt&&(TP(o,e.prompt),r==null||r.addFields({prompt:e.prompt},i)),e.domainHint&&(SP(o,e.domainHint),r==null||r.addFields({domainHintFromRequest:!0},i)),e.prompt!==ze.SELECT_ACCOUNT)if(e.sid&&e.prompt===ze.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),yy(o,e.sid),r==null||r.addFields({sidFromRequest:!0},i);else if(e.account){const c=XP(e.account);let u=ZP(e.account);if(u&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),u=null),u){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Fa(o,u),r==null||r.addFields({loginHintFromClaim:!0},i);try{const d=to(e.account.homeAccountId);gs(o,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(c&&e.prompt===ze.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),yy(o,c),r==null||r.addFields({sidFromClaim:!0},i);try{const d=to(e.account.homeAccountId);gs(o,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Fa(o,e.loginHint),Ql(o,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},i);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Fa(o,e.account.username),r==null||r.addFields({loginHintFromUpn:!0},i);try{const d=to(e.account.homeAccountId);gs(o,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Fa(o,e.loginHint),Ql(o,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},i));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&EP(o,e.nonce),e.state&&QS(o,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&Pp(o,e.claims,t.clientCapabilities),e.embeddedClientId&&$c(o,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Sh))&&eT(o),o}function uT(t,e,n,r){const i=$s(e,n,r);return ne.appendQueryString(t.authorizationEndpoint,i)}function YP(t,e){if(dT(t,e),!t.code)throw P(vS);return t}function dT(t,e){if(!t.state||!e)throw t.state?P(fh,"Cached State"):P(fh,"Server State");let n,r;try{n=decodeURIComponent(t.state)}catch{throw P(fo,t.state)}try{r=decodeURIComponent(e)}catch{throw P(fo,t.state)}if(n!==r)throw P(cS);if(t.error||t.error_description||t.suberror){const i=JP(t);throw aT(t.error,t.error_description,t.suberror)?new rn(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",i):new pi(t.error||"",t.error_description,t.suberror,i)}}function JP(t){var r,i;const e="code=",n=(r=t.error_uri)==null?void 0:r.lastIndexOf(e);return n&&n>=0?(i=t.error_uri)==null?void 0:i.substring(n+e.length):void 0}function XP(t){var e;return((e=t.idTokenClaims)==null?void 0:e.sid)||null}function ZP(t){var e;return((e=t.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.6.0 2025-05-06 */const wy=",",hT="|";function e1(t){const{skus:e,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:o}=t,s=new Map([[0,[n,r]],[2,[i,o]]]);let a=[];if(e!=null&&e.length){if(a=e.split(wy),a.length<4)return e}else a=Array.from({length:4},()=>hT);return s.forEach((l,c)=>{var u,d;l.length===2&&((u=l[0])!=null&&u.length)&&((d=l[1])!=null&&d.length)&&t1({skuArr:a,index:c,skuName:l[0],skuVersion:l[1]})}),a.join(wy)}function t1(t){const{skuArr:e,index:n,skuName:r,skuVersion:i}=t;n>=e.length||(e[n]=[r,i].join(hT))}class Vs{constructor(e,n){this.cacheOutcome=Fr.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||b.EMPTY_STRING,this.wrapperVer=e.wrapperVer||b.EMPTY_STRING,this.telemetryCacheKey=$e.CACHE_KEY+Ze.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${$e.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&n.push(`broker_error=${r}`);const i=n.join($e.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[e,o].join($e.VALUE_SEPARATOR);return[$e.SCHEMA_VERSION,s,i].join($e.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=Vs.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*n).join($e.VALUE_SEPARATOR),i=e.errors.slice(0,n).join($e.VALUE_SEPARATOR),o=e.errors.length,s=n<o?$e.OVERFLOW_TRUE:$e.OVERFLOW_FALSE,a=[o,s].join($e.VALUE_SEPARATOR);return[$e.SCHEMA_VERSION,e.cacheHits,r,i,a].join($e.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=$e.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof we?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push($e.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=Vs.maxErrorsToSend(e),r=e.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{const i={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let n,r=0,i=0;const o=e.errors.length;for(n=0;n<o;n++){const s=e.failedRequests[2*n]||b.EMPTY_STRING,a=e.failedRequests[2*n+1]||b.EMPTY_STRING,l=e.errors[n]||b.EMPTY_STRING;if(i+=s.toString().length+a.toString().length+l.length+3,i<$e.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||b.EMPTY_STRING),e.push(this.regionSource||b.EMPTY_STRING),e.push(this.regionOutcome||b.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return e1(e)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const fT="missing_kid_error",pT="missing_alg_error";/*! @azure/msal-common v15.6.0 2025-05-06 */const n1={[fT]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[pT]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Hp extends we{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,Hp.prototype)}}function Cy(t){return new Hp(t,n1[t])}/*! @azure/msal-common v15.6.0 2025-05-06 */class Bp{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Cy(fT);if(!e.alg)throw Cy(pT);const n=new Bp({typ:e.typ||VI.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class Sy{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class r1{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:MP.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new Sy}}startPerformanceMeasurement(){return new Sy}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const $p="pkce_not_created",Vp="ear_jwk_empty",gT="ear_jwe_empty",Eh="crypto_nonexistent",Wc="empty_navigate_uri",mT="hash_empty_error",zp="no_state_in_hash",yT="hash_does_not_contain_known_properties",vT="unable_to_parse_state",wT="state_interaction_type_mismatch",CT="interaction_in_progress",ST="popup_window_error",TT="empty_window_error",zs="user_cancelled",i1="monitor_popup_timeout",ET="monitor_window_timeout",xT="redirect_in_iframe",kT="block_iframe_reload",_T="block_nested_popups",o1="iframe_closed_prematurely",qc="silent_logout_unsupported",bT="no_account_error",s1="silent_prompt_value_error",AT="no_token_request_cache_error",IT="unable_to_parse_token_request_cache_error",a1="auth_request_not_set_error",l1="invalid_cache_type",Qc="non_browser_environment",Ai="database_not_open",Jl="no_network_connectivity",RT="post_request_failed",PT="get_request_failed",xh="failed_to_parse_response",NT="unable_to_load_token",Kp="crypto_key_not_found",OT="auth_code_required",MT="auth_code_or_nativeAccountId_required",LT="spa_code_and_nativeAccountId_present",Gp="database_unavailable",jT="unable_to_acquire_token_from_native_platform",DT="native_handshake_timeout",UT="native_extension_not_installed",Wp="native_connection_not_established",Xl="uninitialized_public_client_application",FT="native_prompt_not_supported",HT="invalid_base64_string",BT="invalid_pop_token_request",$T="failed_to_build_headers",VT="failed_to_parse_headers",fl="failed_to_decrypt_ear_response";/*! @azure/msal-browser v4.12.0 2025-05-06 */const Tn="For more visit: aka.ms/msaljs/browser-errors",c1={[$p]:"The PKCE code challenge and verifier could not be generated.",[Vp]:"No EAR encryption key provided. This is unexpected.",[gT]:"Server response does not contain ear_jwe property. This is unexpected.",[Eh]:"The crypto object or function is not available.",[Wc]:"Navigation URI is empty. Please check stack trace for more info.",[mT]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Tn}`,[zp]:"Hash does not contain state. Please verify that the request originated from msal.",[yT]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Tn}`,[vT]:"Unable to parse state. Please verify that the request originated from msal.",[wT]:"Hash contains state but the interaction type does not match the caller.",[CT]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Tn}`,[ST]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[TT]:"window.open returned null or undefined window object.",[zs]:"User cancelled the flow.",[i1]:`Token acquisition in popup failed due to timeout.  ${Tn}`,[ET]:`Token acquisition in iframe failed due to timeout.  ${Tn}`,[xT]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[kT]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Tn}`,[_T]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[o1]:"The iframe being monitored was closed prematurely.",[qc]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[bT]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[s1]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[AT]:"No token request found in cache.",[IT]:"The cached token request could not be parsed.",[a1]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[l1]:"Invalid cache type",[Qc]:"Login and token requests are not supported in non-browser environments.",[Ai]:"Database is not open!",[Jl]:"No network connectivity. Check your internet connection.",[RT]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[PT]:"Network request failed. Please check the network trace to determine root cause.",[xh]:"Failed to parse network response. Check network trace.",[NT]:"Error loading token to cache.",[Kp]:"Cryptographic Key or Keypair not found in browser storage.",[OT]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[MT]:"An authorization code or nativeAccountId must be provided to this flow.",[LT]:"Request cannot contain both spa code and native account id.",[Gp]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[jT]:`Unable to acquire token from native platform.  ${Tn}`,[DT]:"Timed out while attempting to establish connection to browser extension",[UT]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Wp]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Tn}`,[Xl]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Tn}`,[FT]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[HT]:"Invalid base64 encoded string.",[BT]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[$T]:"Failed to build request headers object.",[VT]:"Failed to parse response headers",[fl]:"Failed to decrypt ear response"};class sa extends we{constructor(e,n){super(e,c1[e],n),Object.setPrototypeOf(this,sa.prototype),this.name="BrowserAuthError"}}function U(t,e){return new sa(t,e)}/*! @azure/msal-browser v4.12.0 2025-05-06 */const ht={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Vi={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},qr={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Ke={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Ty={GET:"GET",POST:"POST"},ir={SIGNIN:"signin",SIGNOUT:"signout"},Pe={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},lr={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},Ha={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},ce={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var $;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})($||($={}));const Oe={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},Ey={scopes:oa},zT="jwk",u1={React:"@azure/msal-react",Angular:"@azure/msal-angular"},kh="msal.db",d1=1,h1=`${kh}.keys`,nt={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},f1=[nt.Default,nt.Skip,nt.RefreshTokenAndNetwork],p1="msal.browser.log.level",g1="msal.browser.log.pii";/*! @azure/msal-browser v4.12.0 2025-05-06 */function Ba(t){return encodeURIComponent(Ks(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function xr(t){return KT(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ks(t){return KT(new TextEncoder().encode(t))}function KT(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.12.0 2025-05-06 */function Zt(t){return new TextDecoder().decode(wr(t))}function wr(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw U(HT)}const n=atob(e);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.12.0 2025-05-06 */const m1="RSASSA-PKCS1-v1_5",Io="AES-GCM",GT="HKDF",qp="SHA-256",y1=2048,v1=new Uint8Array([1,0,1]),xy="0123456789abcdef",ky=new Uint32Array(1),Qp="raw",WT="encrypt",Yp="decrypt",w1="deriveKey",C1="crypto_subtle_undefined",Jp={name:m1,hash:qp,modulusLength:y1,publicExponent:v1};function S1(t){if(!window)throw U(Qc);if(!window.crypto)throw U(Eh);if(!t&&!window.crypto.subtle)throw U(Eh,C1)}async function qT(t,e,n){e==null||e.addQueueMeasurement(E.Sha256Digest,n);const i=new TextEncoder().encode(t);return window.crypto.subtle.digest(qp,i)}function T1(t){return window.crypto.getRandomValues(t)}function qu(){return window.crypto.getRandomValues(ky),ky[0]}function on(){const t=Date.now(),e=qu()*1024+(qu()&1023),n=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,o=qu();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=o>>>24,n[13]=o>>>16,n[14]=o>>>8,n[15]=o;let s="";for(let a=0;a<n.length;a++)s+=xy.charAt(n[a]>>>4),s+=xy.charAt(n[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}async function E1(t,e){return window.crypto.subtle.generateKey(Jp,t,e)}async function Qu(t){return window.crypto.subtle.exportKey(zT,t)}async function x1(t,e,n){return window.crypto.subtle.importKey(zT,t,Jp,e,n)}async function k1(t,e){return window.crypto.subtle.sign(Jp,t,e)}async function Xp(){const t=await QT(),n={alg:"dir",kty:"oct",k:xr(new Uint8Array(t))};return Ks(JSON.stringify(n))}async function _1(t){const e=Zt(t),r=JSON.parse(e).k,i=wr(r);return window.crypto.subtle.importKey(Qp,i,Io,!1,[Yp])}async function b1(t,e){const n=e.split(".");if(n.length!==5)throw U(fl,"jwe_length");const r=await _1(t).catch(()=>{throw U(fl,"import_key")});try{const i=new TextEncoder().encode(n[0]),o=wr(n[2]),s=wr(n[3]),a=wr(n[4]),l=a.byteLength*8,c=new Uint8Array(s.length+a.length);c.set(s),c.set(a,s.length);const u=await window.crypto.subtle.decrypt({name:Io,iv:o,tagLength:l,additionalData:i},r,c);return new TextDecoder().decode(u)}catch{throw U(fl,"decrypt")}}async function QT(){const t=await window.crypto.subtle.generateKey({name:Io,length:256},!0,[WT,Yp]);return window.crypto.subtle.exportKey(Qp,t)}async function _y(t){return window.crypto.subtle.importKey(Qp,t,GT,!1,[w1])}async function YT(t,e,n){return window.crypto.subtle.deriveKey({name:GT,salt:e,hash:qp,info:new TextEncoder().encode(n)},t,{name:Io,length:256},!1,[WT,Yp])}async function A1(t,e,n){const r=new TextEncoder().encode(e),i=window.crypto.getRandomValues(new Uint8Array(16)),o=await YT(t,i,n),s=await window.crypto.subtle.encrypt({name:Io,iv:new Uint8Array(12)},o,r);return{data:xr(new Uint8Array(s)),nonce:xr(i)}}async function I1(t,e,n,r){const i=wr(r),o=await YT(t,wr(e),n),s=await window.crypto.subtle.decrypt({name:Io,iv:new Uint8Array(12)},o,i);return new TextDecoder().decode(s)}async function JT(t){const e=await qT(t),n=new Uint8Array(e);return xr(n)}/*! @azure/msal-browser v4.12.0 2025-05-06 */const Zp="storage_not_supported",Ue="stubbed_public_client_application_called",XT="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.12.0 2025-05-06 */const R1={[Zp]:"Given storage configuration option was not supported.",[Ue]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[XT]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class eg extends we{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,eg.prototype)}}function Ie(t){return new eg(t,R1[t])}/*! @azure/msal-browser v4.12.0 2025-05-06 */function ZT(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function P1(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function tg(){return window.parent!==window}function N1(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${ht.POPUP_NAME_PREFIX}.`)===0}function Rn(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function O1(){const e=new ne(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function M1(){if(ne.hashContainsKnownProperties(window.location.hash)&&tg())throw U(kT)}function L1(t){if(tg()&&!t)throw U(xT)}function j1(){if(N1())throw U(_T)}function eE(){if(typeof window>"u")throw U(Qc)}function tE(t){if(!t)throw U(Xl)}function ng(t){eE(),M1(),j1(),tE(t)}function by(t,e){if(ng(t),L1(e.system.allowRedirectInIframe),e.cache.cacheLocation===Ke.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw Ie(XT)}function nE(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function D1(){return on()}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Zl{navigateInternal(e,n){return Zl.defaultNavigateWindow(e,n)}navigateExternal(e,n){return Zl.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},n.timeout)})}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class U1{async sendGetRequestAsync(e,n){let r,i={},o=0;const s=Ay(n);try{r=await fetch(e,{method:Ty.GET,headers:s})}catch(a){throw es(U(window.navigator.onLine?PT:Jl),void 0,void 0,a)}i=Iy(r.headers);try{return o=r.status,{headers:i,body:await r.json(),status:o}}catch(a){throw es(U(xh),o,i,a)}}async sendPostRequestAsync(e,n){const r=n&&n.body||"",i=Ay(n);let o,s=0,a={};try{o=await fetch(e,{method:Ty.POST,headers:i,body:r})}catch(l){throw es(U(window.navigator.onLine?RT:Jl),void 0,void 0,l)}a=Iy(o.headers);try{return s=o.status,{headers:a,body:await o.json(),status:s}}catch(l){throw es(U(xh),s,a,l)}}}function Ay(t){try{const e=new Headers;if(!(t&&t.headers))return e;const n=t.headers;return Object.entries(n).forEach(([r,i])=>{e.append(r,i)}),e}catch(e){throw es(U($T),void 0,void 0,e)}}function Iy(t){try{const e={};return t.forEach((n,r)=>{e[r]=n}),e}catch{throw U(VT)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const F1=6e4,_h=1e4,H1=3e4,B1=2e3;function $1({auth:t,cache:e,system:n,telemetry:r},i){const o={clientId:b.EMPTY_STRING,authority:`${b.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:b.EMPTY_STRING,authorityMetadata:b.EMPTY_STRING,redirectUri:typeof window<"u"?Rn():"",postLogoutRedirectUri:b.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:bt.AAD,OIDCOptions:{serverResponseType:Lc.FRAGMENT,defaultScopes:[b.OPENID_SCOPE,b.PROFILE_SCOPE,b.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Cp.None,tenant:b.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},s={cacheLocation:Ke.SessionStorage,temporaryCacheLocation:Ke.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===Ke.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:ye.Info,piiLoggingEnabled:!1},c={...{...VS,loggerOptions:a,networkClient:i?new U1:qP,navigationClient:new Zl,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||F1,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||_h,navigateFrameWait:0,redirectNavigationTimeout:H1,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||B1,pollIntervalMilliseconds:ht.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||a},u={application:{appName:b.EMPTY_STRING,appVersion:b.EMPTY_STRING},client:new r1};if((t==null?void 0:t.protocolMode)!==bt.OIDC&&(t!=null&&t.OIDCOptions)&&new _o(c.loggerOptions).warning(JSON.stringify(se(LS))),t!=null&&t.protocolMode&&t.protocolMode===bt.OIDC&&(c!=null&&c.allowPlatformBroker))throw se(jS);return{auth:{...o,...t,OIDCOptions:{...o.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...s,...e},system:c,telemetry:{...u,...r}}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const V1="@azure/msal-browser",aa="4.12.0";/*! @azure/msal-browser v4.12.0 2025-05-06 */class rg{static loggerCallback(e,n){switch(e){case ye.Error:console.error(n);return;case ye.Info:console.info(n);return;case ye.Verbose:console.debug(n);return;case ye.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var l;this.browserEnvironment=typeof window<"u",this.config=$1(e,this.browserEnvironment);let n;try{n=window[Ke.SessionStorage]}catch{}const r=n==null?void 0:n.getItem(p1),i=(l=n==null?void 0:n.getItem(g1))==null?void 0:l.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,s={...this.config.system.loggerOptions},a=r&&Object.keys(ye).includes(r)?ye[r]:void 0;a&&(s.loggerCallback=rg.loggerCallback,s.logLevel=a),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new _o(s,V1,aa),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class di extends rg{getModuleName(){return di.MODULE_NAME}getId(){return di.ID}async initialize(){return this.available=typeof window<"u",this.available}}di.MODULE_NAME="";di.ID="StandardOperatingContext";/*! @azure/msal-browser v4.12.0 2025-05-06 */class z1{constructor(){this.dbName=kh,this.version=d1,this.tableName=h1,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{const o=i;this.db=o.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>n(U(Gp)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(U(Ai));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{const l=a;this.closeConnection(),n(l.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(U(Ai));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",l=>{this.closeConnection(),i(l)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(U(Ai));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),n()}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(U(Ai));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{const a=s;this.closeConnection(),e(a.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),n(s)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(U(Ai));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{const l=a;this.closeConnection(),n(l.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const r=window.indexedDB.deleteDatabase(kh),i=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(i),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),r.addEventListener("error",()=>(clearTimeout(i),n(!1)))})}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Yc{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class K1{constructor(e){this.inMemoryCache=new Yc,this.indexedDBCache=new z1,this.logger=e}handleDatabaseAccessError(e){if(e instanceof sa&&e.errorCode===Gp)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Bn{constructor(e,n,r){this.logger=e,S1(r??!1),this.cache=new K1(this.logger),this.performanceClient=n}createNewGuid(){return on()}base64Encode(e){return Ks(e)}base64Decode(e){return Zt(e)}base64UrlEncode(e){return Ba(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var u;const n=(u=this.performanceClient)==null?void 0:u.startMeasurement(E.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await E1(Bn.EXTRACTABLE,Bn.POP_KEY_USAGES),i=await Qu(r.publicKey),o={e:i.e,kty:i.kty,n:i.n},s=Ry(o),a=await this.hashString(s),l=await Qu(r.privateKey),c=await x1(l,!1,["sign"]);return await this.cache.setItem(a,{privateKey:c,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),a}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,r,i){var m;const o=(m=this.performanceClient)==null?void 0:m.startMeasurement(E.CryptoOptsSignJwt,i),s=await this.cache.getItem(n);if(!s)throw U(Kp);const a=await Qu(s.publicKey),l=Ry(a),c=Ba(JSON.stringify({kid:n})),u=Bp.getShrHeaderString({...r==null?void 0:r.header,alg:a.alg,kid:c}),d=Ba(u);e.cnf={jwk:JSON.parse(l)};const h=Ba(JSON.stringify(e)),f=`${d}.${h}`,v=new TextEncoder().encode(f),S=await k1(s.privateKey,v),w=xr(new Uint8Array(S)),y=`${f}.${w}`;return o&&o.end({success:!0}),y}async hashString(e){return JT(e)}}Bn.POP_KEY_USAGES=["sign","verify"];Bn.EXTRACTABLE=!0;function Ry(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v4.12.0 2025-05-06 */const G1=24*60*60*1e3,bh={Lax:"Lax",None:"None"};class rE{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){const o=r[i],[s,...a]=decodeURIComponent(o).trim().split("="),l=a.join("=");if(s===n)return l}return""}getUserData(){throw P(Y)}setItem(e,n,r,i=!0,o=bh.Lax){let s=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${o};`;if(r){const a=W1(r);s+=`expires=${a};`}(i||o===bh.None)&&(s+="Secure;"),document.cookie=s}async setUserData(){return Promise.reject(P(Y))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(r=>{const i=decodeURIComponent(r).trim().split("=");n.push(i[0])}),n}containsKey(e){return this.getKeys().includes(e)}}function W1(t){const e=new Date;return new Date(e.getTime()+t*G1).toUTCString()}/*! @azure/msal-browser v4.12.0 2025-05-06 */function Ah(t){const e=t.getItem(lr.ACCOUNT_KEYS);return e?JSON.parse(e):[]}function Ih(t,e){const n=e.getItem(`${lr.TOKEN_KEYS}.${t}`);if(n){const r=JSON.parse(n);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const Py="msal.cache.encryption",q1="msal.broadcast.cache";class Q1{constructor(e,n,r){if(!window.localStorage)throw Ie(Zp);this.memoryStorage=new Yc,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=r,this.broadcast=new BroadcastChannel(q1)}async initialize(e){const n=new rE,r=n.getItem(Py);let i={key:"",id:""};if(r)try{i=JSON.parse(r)}catch{}if(i.key&&i.id){const o=nn(wr,E.Base64Decode,this.logger,this.performanceClient,e)(i.key);this.encryptionCookie={id:i.id,key:await A(_y,E.GenerateHKDF,this.logger,this.performanceClient,e)(o)},await A(this.importExistingCache.bind(this),E.ImportExistingCache,this.logger,this.performanceClient,e)(e)}else{this.clear();const o=on(),s=await A(QT,E.GenerateBaseKey,this.logger,this.performanceClient,e)(),a=nn(xr,E.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(s));this.encryptionCookie={id:o,key:await A(_y,E.GenerateHKDF,this.logger,this.performanceClient,e)(s)};const l={id:o,key:a};n.setItem(Py,JSON.stringify(l),0,!0,bh.None)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw U(Xl);return this.memoryStorage.getItem(e)}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,r){if(!this.initialized||!this.encryptionCookie)throw U(Xl);const{data:i,nonce:o}=await A(A1,E.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n,this.getContext(e)),s={id:this.encryptionCookie.id,nonce:o,data:i};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(s)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),Ah(this).forEach(r=>this.removeItem(r));const n=Ih(this.clientId,this);n.idToken.forEach(r=>this.removeItem(r)),n.accessToken.forEach(r=>this.removeItem(r)),n.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(b.CACHE_PREFIX)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=Ah(this);n=await this.importArray(n,e),this.setItem(lr.ACCOUNT_KEYS,JSON.stringify(n));const r=Ih(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),this.setItem(`${lr.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let i;try{i=JSON.parse(r)}catch{return null}return!i.id||!i.nonce||!i.data?(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),null):i.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):A(I1,E.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,i.nonce,this.getContext(e),i.data)}async importArray(e,n){const r=[],i=[];return e.forEach(o=>{const s=this.getItemFromEncryptedCache(o,n).then(a=>{a?(this.memoryStorage.setItem(o,a),r.push(o)):this.removeItem(o)});i.push(s)}),await Promise.all(i),r}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(E.LocalStorageUpdated);n.add({isBackground:!0});const{key:r,value:i,context:o}=e.data;if(!r){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(o&&o!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),n.end({success:!1,errorCode:"contextMismatch"});return}i?(this.memoryStorage.setItem(r,i),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Y1{constructor(){if(!window.sessionStorage)throw Ie(Zp)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const F={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v4.12.0 2025-05-06 */class Rh extends Ch{constructor(e,n,r,i,o,s,a){super(e,r,i,a),this.cacheConfig=n,this.logger=i,this.internalStorage=new Yc,this.browserStorage=Ny(e,n.cacheLocation,i,o),this.temporaryCacheStorage=Ny(e,n.temporaryCacheLocation,i,o),this.cookieStorage=new rE,this.performanceClient=o,this.eventHandler=s}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.browserStorage.getUserData(e);if(!n)return this.removeAccountKeyFromMap(e),null;const r=this.validateAndParseJson(n);return!r||!at.isAccountEntity(r)?(this.removeAccountKeyFromMap(e),null):Ch.toObject(new at,r)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const r=e.generateAccountKey();await A(this.browserStorage.setUserData.bind(this.browserStorage),E.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),n);const i=this.addAccountKeyToMap(r);this.cacheConfig.cacheLocation===Ke.LocalStorage&&i&&this.eventHandler.emitEvent(F.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return Ah(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const n=this.getAccountKeys();return n.indexOf(e)===-1?(n.push(e),this.browserStorage.setItem(lr.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const n=this.getAccountKeys(),r=n.indexOf(e);r>-1?(n.splice(r,1),this.browserStorage.setItem(lr.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===Ke.LocalStorage&&this.eventHandler.emitEvent(F.ACCOUNT_REMOVED,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,W.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,W.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,W.REFRESH_TOKEN)}getTokenKeys(){return Ih(this.clientId,this.browserStorage)}addTokenKey(e,n){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(n){case W.ID_TOKEN:r.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case W.ACCESS_TOKEN:r.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case W.REFRESH_TOKEN:r.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${n}`),P(yh)}this.browserStorage.setItem(`${lr.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,n){this.logger.trace("BrowserCacheManager removeTokenKey called");const r=this.getTokenKeys();switch(n){case W.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const i=r.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case W.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=r.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case W.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const s=r.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${n}`),P(yh)}this.browserStorage.setItem(`${lr.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,W.ID_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!aR(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,W.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=ps(e);await A(this.browserStorage.setUserData.bind(this.browserStorage),E.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),n),this.addTokenKey(r,W.ID_TOKEN)}getAccessTokenCredential(e){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,W.ACCESS_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!sR(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,W.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=ps(e);await A(this.browserStorage.setUserData.bind(this.browserStorage),E.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),n),this.addTokenKey(r,W.ACCESS_TOKEN)}getRefreshTokenCredential(e){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,W.REFRESH_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!lR(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,W.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=ps(e);await A(this.browserStorage.setUserData.bind(this.browserStorage),E.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),n),this.addTokenKey(r,W.REFRESH_TOKEN)}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!yR(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const n=mR(e);this.browserStorage.setItem(n,JSON.stringify(e))}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!pR(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,n){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(n))}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&vR(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(Ha.WRAPPER_SKU,e),this.internalStorage.setItem(Ha.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(Ha.WRAPPER_SKU)||b.EMPTY_STRING,n=this.internalStorage.getItem(Ha.WRAPPER_VER)||b.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(){const e=this.generateCacheKey(oy.ACTIVE_ACCOUNT_FILTERS),n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const r=this.validateAndParseJson(n);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const n=this.generateCacheKey(oy.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(n,JSON.stringify(r))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(n);this.eventHandler.emitEvent(F.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!gR(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,n){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(n))}getTemporaryCache(e,n){const r=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===Ke.LocalStorage){const o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,n,r){const i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(b.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(b.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,n){e.addQueueMeasurement(E.ClearTokensAndKeysWithClaims,n);const r=this.getTokenKeys(),i=[];r.accessToken.forEach(o=>{const s=this.getAccessTokenCredential(o);s!=null&&s.requestedClaimsHash&&o.includes(s.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(o))}),await Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Cn.startsWith(e,b.CACHE_PREFIX)?e:`${b.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(Pe.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Pe.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(Pe.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Pe.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Pe.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=Ks(JSON.stringify(e));if(this.setTemporaryCache(Pe.REQUEST_PARAMS,r,!0),n){const i=Ks(n);this.setTemporaryCache(Pe.VERIFIER,i,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(Pe.REQUEST_PARAMS,!0);if(!e)throw U(AT);const n=this.getTemporaryCache(Pe.VERIFIER,!0);let r,i="";try{r=JSON.parse(Zt(e)),n&&(i=Zt(n))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),U(IT)}return[r,i]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Pe.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var r;const n=(r=this.getInteractionInProgress())==null?void 0:r.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${b.CACHE_PREFIX}.${Pe.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),ZT(window),null}}setInteractionInProgress(e,n=ir.SIGNIN){var i;const r=`${b.CACHE_PREFIX}.${Pe.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw U(CT);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&((i=this.getInteractionInProgress())==null?void 0:i.clientId)===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,n){var a,l,c;const r=jc((a=e.account)==null?void 0:a.homeAccountId,(l=e.account)==null?void 0:l.environment,e.idToken,this.clientId,e.tenantId);let i;n.claims&&(i=await this.cryptoImpl.hashString(n.claims));const o=Dc((c=e.account)==null?void 0:c.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?uy(e.expiresOn):0,e.extExpiresOn?uy(e.extExpiresOn):0,Zt,void 0,e.tokenType,void 0,n.sshKid,n.claims,i),s={idToken:r,accessToken:o};return this.saveCacheRecord(s,e.correlationId)}async saveCacheRecord(e,n,r){try{await super.saveCacheRecord(e,n,r)}catch(i){if(i instanceof no&&this.performanceClient&&n)try{const o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},n)}catch{}throw i}}}function Ny(t,e,n,r){try{switch(e){case Ke.LocalStorage:return new Q1(t,n,r);case Ke.SessionStorage:return new Y1;case Ke.MemoryStorage:default:break}}catch(i){n.error(i)}return new Yc}const J1=(t,e,n,r)=>{const i={cacheLocation:Ke.MemoryStorage,temporaryCacheLocation:Ke.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Rh(t,i,Vl,e,n,r)};/*! @azure/msal-browser v4.12.0 2025-05-06 */function X1(t,e,n,r){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(r):[]}function Z1(t,e,n){if(e.trace("getAccount called"),Object.keys(t).length===0)return e.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(t);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function eN(t,e,n){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:t});return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function tN(t,e,n){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:t});return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function nN(t,e,n){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:t});return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function rN(t,e){e.setActiveAccount(t)}function iN(t){return t.getActiveAccount()}/*! @azure/msal-browser v4.12.0 2025-05-06 */const oN="msal.broadcast.event";class sN{constructor(e){this.eventCallbacks=new Map,this.logger=e||new _o({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(oN)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,r){if(typeof window<"u"){const i=r||D1();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,r,i){var s;const o={eventType:e,interactionType:n||null,payload:r||null,error:i||null,timestamp:Date.now()};switch(e){case F.ACCOUNT_ADDED:case F.ACCOUNT_REMOVED:case F.ACTIVE_ACCOUNT_CHANGED:(s=this.broadcastChannel)==null||s.postMessage(o);break;default:this.invokeCallbacks(o);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,r],i)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${i}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class iE{constructor(e,n,r,i,o,s,a,l,c){this.config=e,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=l,this.correlationId=c||on(),this.logger=i.clone(ht.MSAL_SKU,aa,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){at.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(at.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return ne.getAbsoluteUrl(n,Rn())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Vs(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(E.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,s=r!=null&&r.length?r==="true":this.config.auth.instanceAware,a=n&&s?this.config.auth.authority.replace(ne.getDomainFromUrl(o),n.environment):o,l=Je.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await A(oT,E.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(l,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(n&&!c.isAlias(n.environment))throw se(DS);return c}}/*! @azure/msal-browser v4.12.0 2025-05-06 */async function ig(t,e,n,r){n.addQueueMeasurement(E.InitializeBaseRequest,t.correlationId);const i=t.authority||e.auth.authority,o=[...t&&t.scopes||[]],s={...t,correlationId:t.correlationId,authority:i,scopes:o};if(!s.authenticationScheme)s.authenticationScheme=le.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===le.SSH){if(!t.sshJwk)throw se(Hc);if(!t.sshKid)throw se(MS)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!Cn.isEmptyObj(t.claims)&&(s.requestedClaimsHash=await JT(t.claims)),s}async function aN(t,e,n,r,i){r.addQueueMeasurement(E.InitializeSilentRequest,t.correlationId);const o=await A(ig,E.InitializeBaseRequest,i,r,t.correlationId)(t,n,r,i);return{...t,...o,account:e,forceRefresh:t.forceRefresh||!1}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Ro extends iE{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||on(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=ne.getAbsoluteUrl(e.postLogoutRedirectUri,Rn())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=ne.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Rn())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=ne.getAbsoluteUrl(Rn(),Rn())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(E.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await A(this.getClientConfiguration.bind(this),E.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new cT(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}=e;this.performanceClient.addQueueMeasurement(E.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await A(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}),l=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:l.loggerCallback,piiLoggingEnabled:l.piiLoggingEnabled,logLevel:l.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:ht.MSAL_SKU,version:aa,cpu:b.EMPTY_STRING,os:b.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(E.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),i={interactionType:n},o=Ao.setRequestState(this.browserCrypto,e&&e.state||b.EMPTY_STRING,i),a={...await A(ig,E.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:o,nonce:e.nonce||on(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return a;const l=e.account||this.browserStorage.getActiveAccount();return l&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${l.homeAccountId}`,this.correlationId),a.account=l),a}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const lN="ContentError",oE="user_switch";/*! @azure/msal-browser v4.12.0 2025-05-06 */const cN="USER_INTERACTION_REQUIRED",uN="USER_CANCEL",dN="NO_NETWORK",hN="PERSISTENT_ERROR",fN="DISABLED",pN="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v4.12.0 2025-05-06 */const gN=-2147186943,mN={[oE]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class gn extends we{constructor(e,n,r){super(e,n),Object.setPrototypeOf(this,gn.prototype),this.name="NativeAuthError",this.ext=r}}function Ii(t){if(t.ext&&t.ext.status&&(t.ext.status===hN||t.ext.status===fN)||t.ext&&t.ext.error&&t.ext.error===gN)return!0;switch(t.errorCode){case lN:return!0;default:return!1}}function Ph(t,e,n){if(n&&n.status)switch(n.status){case pN:return Th(sT);case cN:return new rn(t,e);case uN:return U(zs);case dN:return U(Jl)}return new gn(t,mN[t]||e,n)}/*! @azure/msal-browser v4.12.0 2025-05-06 */class mn{constructor(e,n,r,i){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(E.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const n={channel:Vi.CHANNEL_ID,extensionId:this.extensionId,responseId:on(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(n)}`),this.messageChannel.port1.postMessage(n),new Promise((r,i)=>{this.resolvers.set(n.responseId,{resolve:r,reject:i})})}static async createProvider(e,n,r){e.trace("NativeMessageHandler - createProvider called.");try{const i=new mn(e,n,r,Vi.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const o=new mn(e,n,r);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Vi.CHANNEL_ID,extensionId:this.extensionId,responseId:on(),body:{method:qr.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(U(DT)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==Vi.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===qr.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(U(UT))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const n=e.data,r=this.resolvers.get(n.responseId),i=this.handshakeResolvers.get(n.responseId);try{const o=n.body.method;if(o===qr.Response){if(!r)return;const s=n.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")r.reject(Ph(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?r.reject(Ph(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result);else throw rS(dp,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(o===qr.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(o):i&&i.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,n,r,i){if(n.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return n.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!r)return n.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(i)switch(i){case le.BEARER:case le.POP:return n.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return n.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v4.12.0 2025-05-06 */function yN(t,e){if(!e)return null;try{return Ao.parseRequestState(t,e).libraryState.meta}catch{throw P(fo)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */function ec(t,e,n){const r=Kl(t);if(!r)throw FS(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),U(yT)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),U(mT));return r}function vN(t,e,n){if(!t.state)throw U(zp);const r=yN(e,t.state);if(!r)throw U(vT);if(r.interactionType!==n)throw U(wT)}/*! @azure/msal-browser v4.12.0 2025-05-06 */class sE{constructor(e,n,r,i,o){this.authModule=e,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(E.HandleCodeResponse,n.correlationId);let r;try{r=YP(e,n.state)}catch(i){throw i instanceof pi&&i.subError===zs?U(zs):i}return A(this.handleCodeResponseFromServer.bind(this),E.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(e,n,r=!0){if(this.performanceClient.addQueueMeasurement(E.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await A(this.authModule.updateAuthority.bind(this.authModule),E.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),r&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const o=this.createCcsCredentials(n);o&&(this.authCodeRequest.ccsCredential=o)}return await A(this.authModule.acquireToken.bind(this.authModule),E.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Yt.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Yt.UPN}:null}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class aE extends Ro{async acquireToken(e){this.performanceClient.addQueueMeasurement(E.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(ce.acquireTokenSilent_silentFlow),r=await A(this.getClientConfiguration.bind(this),E.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new WP(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await A(i.acquireCachedToken.bind(i),E.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(o){throw o instanceof sa&&o.errorCode===Kp&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n==null?void 0:n.account)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class pl extends iE{constructor(e,n,r,i,o,s,a,l,c,u,d,h){var g;super(e,n,r,i,o,s,l,c,h),this.apiId=a,this.accountId=u,this.nativeMessageHandler=c,this.nativeStorageManager=d,this.silentCacheClient=new aE(e,this.nativeStorageManager,r,i,o,s,l,c,h);const f=this.nativeMessageHandler.getExtensionId()===Vi.PREFERRED_EXTENSION_ID?"chrome":(g=this.nativeMessageHandler.getExtensionId())!=null&&g.length?"unknown":void 0;this.skus=Vs.makeExtraSkuString({libraryName:ht.MSAL_SKU,libraryVersion:aa,extensionName:f,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[pP]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(E.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(E.NativeInteractionClientAcquireToken,e.correlationId),i=It(),o=this.initializeServerTelemetryManager(this.apiId);try{const s=await this.initializeNativeRequest(e);try{const d=await this.acquireTokensFromCache(this.accountId,s);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),d}catch(d){if(n===nt.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),d;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...a}=s,l={method:qr.GetToken,request:a},c=await this.nativeMessageHandler.sendMessage(l),u=this.validateNativeResponse(c);return await this.handleNativeResponse(u,s,i).then(d=>(r.end({success:!0,isNativeBroker:!0,requestId:d.requestId}),o.clearNativeBrokerErrorCode(),d)).catch(d=>{throw r.end({success:!1,errorCode:d.errorCode,subErrorCode:d.subError,isNativeBroker:!0}),d})}catch(s){throw s instanceof gn&&o.setNativeBrokerErrorCode(s.errorCode),s}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:Ae.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),P(gh);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!r)throw P(gh);try{const i=this.createSilentCacheRequest(n,r),o=await this.silentCacheClient.acquireToken(i),s={...r,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:s}}catch(i){throw i}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const i=await this.initializeNativeRequest(r),o={method:qr.GetToken,request:i};try{const l=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(l)}catch(l){if(l instanceof gn&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(l.errorCode),Ii(l)))throw l}this.browserStorage.setTemporaryCache(Pe.NATIVE_REQUEST,JSON.stringify(i),!0);const s={apiId:ce.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(a,s)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:i,...o}=r;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Pe.NATIVE_REQUEST));const s={method:qr.GetToken,request:o},a=It();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const l=await this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(l);const u=await this.handleNativeResponse(l,o,a);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),u}catch(l){throw l}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,r){var u,d;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=bo(e.id_token,Zt),o=this.createHomeAccountIdentifier(e,i),s=(u=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId}))==null?void 0:u.homeAccountId;if((d=n.extraParameters)!=null&&d.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==s&&e.account.id!==n.accountId)throw Ph(oE);const a=await this.getDiscoveredAuthority({requestAuthority:n.authority}),l=Fp(this.browserStorage,a,o,Zt,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const c=await this.generateAuthenticationResult(e,n,i,l,a.canonicalAuthority,r);return await this.cacheAccount(l),await this.cacheNativeTokens(e,n,o,i,e.access_token,c.tenantId,r),c}createHomeAccountIdentifier(e,n){return at.generateHomeAccountId(e.client_info||b.EMPTY_STRING,Wt.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return e.scope?Ae.fromString(e.scope):Ae.fromString(n.scope)}async generatePopAccessToken(e,n){if(n.tokenType===le.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new po(this.browserCrypto),i={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw P(yp);return r.signPopToken(e.access_token,n.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,n,r,i,o,s){const a=this.addTelemetryFromNativeResponse(e),l=e.scope?Ae.fromString(e.scope):Ae.fromString(n.scope),c=e.account.properties||{},u=c.UID||r.oid||r.sub||b.EMPTY_STRING,d=c.TenantId||r.tid||b.EMPTY_STRING,h=kp(i.getAccountInfo(),void 0,r,e.id_token);h.nativeAccountId!==e.account.id&&(h.nativeAccountId=e.account.id);const f=await this.generatePopAccessToken(e,n),g=n.tokenType===le.POP?le.POP:le.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:l.asArray(),account:h,idToken:e.id_token,idTokenClaims:r,accessToken:f,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:eo(s+e.expires_in),tokenType:g,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch(n=>{this.logger.error(`Error occurred while removing account context from browser storage. ${n}`)})}cacheNativeTokens(e,n,r,i,o,s,a){const l=jc(r,n.authority,e.id_token||"",n.clientId,i.tid||""),c=n.tokenType===le.POP?b.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,u=a+c,d=this.generateScopes(e,n),h=Dc(r,n.authority,o,n.clientId,i.tid||s,d.printScopes(),u,0,Zt,void 0,n.tokenType,void 0,n.keyId),f={idToken:l,accessToken:h};return this.nativeStorageManager.saveCacheRecord(f,this.correlationId,n.storeInCache)}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw rS(dp,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new ne(n);r.validateAsUri();const{scopes:i,...o}=e,s=new Ae(i||[]);s.appendScopes(oa);const a=()=>{switch(this.apiId){case ce.ssoSilent:case ce.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),ze.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case ze.NONE:case ze.CONSENT:case ze.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),U(FT)}},l={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:a(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(l.signPopToken&&e.popKid)throw U(BT);if(this.handleExtraBrokerParams(l),l.extraParameters=l.extraParameters||{},l.extraParameters.telemetry=Vi.MATS_TELEMETRY,e.authenticationScheme===le.POP){const c={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},u=new po(this.browserCrypto);let d;if(l.keyId)d=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:l.keyId})),l.signPopToken=!1;else{const h=await A(u.generateCnf.bind(u),E.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(c,this.logger);d=h.reqCnfString,l.keyId=h.kid,l.signPopToken=!0}l.reqCnf=d}return this.addRequestSKUs(l),l}handleExtraBrokerParams(e){var o;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(Wl)&&e.extraParameters.hasOwnProperty(ql)&&e.extraParameters.hasOwnProperty(ci);if(!e.embeddedClientId&&!n)return;let r="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[ql],r=e.extraParameters[ci]),e.extraParameters={child_client_id:r,child_redirect_uri:i},(o=this.performanceClient)==null||o.addFields({embeddedClientId:r,embeddedRedirectUri:i},e.correlationId)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */async function lE(t,e,n,r,i){const o=QP({...t.auth,authority:e},n,r,i);if(Op(o,{sku:ht.MSAL_SKU,version:aa,os:"",cpu:""}),t.auth.protocolMode!==bt.OIDC&&Mp(o,t.telemetry.application),n.platformBroker&&(vP(o),n.authenticationScheme===le.POP)){const s=new Bn(r,i),a=new po(s);let l;n.popKid?l=s.encodeKid(n.popKid):l=(await A(a.generateCnf.bind(a),E.PopTokenGenerateCnf,r,i,n.correlationId)(n,r)).reqCnfString,jp(o,l)}return Bc(o,n.correlationId,i),o}async function og(t,e,n,r,i){if(!n.codeChallenge)throw se(Fc);const o=await A(lE,E.GetStandardParams,r,i,n.correlationId)(t,e,n,r,i);return qS(o,eS.CODE),xP(o,n.codeChallenge,b.S256_CODE_CHALLENGE_METHOD),Zr(o,n.extraQueryParameters||{}),uT(e,o,t.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function sg(t,e,n,r,i,o){if(!r.earJwk)throw U(Vp);const s=await lE(e,n,r,i,o);qS(s,eS.IDTOKEN_TOKEN_REFRESHTOKEN),RP(s,r.earJwk);const a=new Map;Zr(a,r.extraQueryParameters||{});const l=uT(n,a,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return wN(t,l,s)}function wN(t,e,n){const r=t.createElement("form");return r.method="post",r.action=e,n.forEach((i,o)=>{const s=t.createElement("input");s.hidden=!0,s.name=o,s.value=i,r.appendChild(s)}),t.body.appendChild(r),r}async function cE(t,e,n,r,i,o,s,a,l,c){if(!c)throw U(Wp);const u=new Bn(a,l),d=new pl(r,i,u,a,s,r.system.navigationClient,n,l,c,e,o,t.correlationId),{userRequestState:h}=Ao.parseRequestState(u,t.state);return A(d.acquireToken.bind(d),E.NativeInteractionClientAcquireToken,a,l,t.correlationId)({...t,state:h,prompt:void 0})}async function ag(t,e,n,r,i,o,s,a,l,c,u,d){if(pn.removeThrottle(s,i.auth.clientId,t),e.accountId)return A(cE,E.HandleResponsePlatformBroker,c,u,t.correlationId)(t,e.accountId,r,i,s,a,l,c,u,d);const h={...t,code:e.code||"",codeVerifier:n},f=new sE(o,s,h,c,u);return await A(f.handleCodeResponse.bind(f),E.HandleCodeResponse,c,u,t.correlationId)(e,t)}async function lg(t,e,n,r,i,o,s,a,l,c,u){if(pn.removeThrottle(o,r.auth.clientId,t),dT(e,t.state),!e.ear_jwe)throw U(gT);if(!t.earJwk)throw U(Vp);const d=JSON.parse(await A(b1,E.DecryptEarResponse,l,c,t.correlationId)(t.earJwk,e.ear_jwe));if(d.accountId)return A(cE,E.HandleResponsePlatformBroker,l,c,t.correlationId)(t,d.accountId,n,r,o,s,a,l,c,u);const h=new ui(r.auth.clientId,o,new Bn(l,c),l,null,null,c);h.validateTokenResponse(d);const f={code:"",state:t.state,nonce:t.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return await A(h.handleServerTokenResponse.bind(h),E.HandleServerTokenResponse,l,c,t.correlationId)(d,i,It(),t,f,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.12.0 2025-05-06 */const CN=32;async function Jc(t,e,n){t.addQueueMeasurement(E.GeneratePkceCodes,n);const r=nn(SN,E.GenerateCodeVerifier,e,t,n)(t,e,n),i=await A(TN,E.GenerateCodeChallengeFromVerifier,e,t,n)(r,t,e,n);return{verifier:r,challenge:i}}function SN(t,e,n){try{const r=new Uint8Array(CN);return nn(T1,E.GetRandomValues,e,t,n)(r),xr(r)}catch{throw U($p)}}async function TN(t,e,n,r){e.addQueueMeasurement(E.GenerateCodeChallengeFromVerifier,r);try{const i=await A(qT,E.Sha256Digest,n,e,r)(t,e,r);return xr(new Uint8Array(i))}catch{throw U($p)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class EN extends Ro{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,a,c,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=l,this.eventHandler=o}acquireToken(e,n){try{const i={popupName:this.generatePopupName(e.scopes||oa,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,i,n)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),i.popup=this.openSizedPopup("about:blank",i),this.acquireTokenPopupAsync(e,i,n))}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,i,o))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,r){this.logger.verbose("acquireTokenPopupAsync called");const i=await A(this.initializeAuthorizationRequest.bind(this),E.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,$.Popup);n.popup&&nE(i.authority);const o=mn.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);return i.platformBroker=o,this.config.auth.protocolMode===bt.EAR?this.executeEarFlow(i,n):this.executeCodeFlow(i,n,r)}async executeCodeFlow(e,n,r){var l;const i=e.correlationId,o=this.initializeServerTelemetryManager(ce.acquireTokenPopup),s=r||await A(Jc,E.GeneratePkceCodes,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),a={...e,codeChallenge:s.challenge};try{const c=await A(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,i)({serverTelemetryManager:o,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),u=await A(og,E.GetAuthCodeUrl,this.logger,this.performanceClient,i)(this.config,c.authority,a,this.logger,this.performanceClient),d=this.initiateAuthRequest(u,n);this.eventHandler.emitEvent(F.POPUP_OPENED,$.Popup,{popupWindow:d},null);const h=await this.monitorPopupForHash(d,n.popupWindowParent),f=nn(ec,E.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(h,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await A(ag,E.HandleResponseCode,this.logger,this.performanceClient,i)(e,f,s.verifier,ce.acquireTokenPopup,this.config,c,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}catch(c){throw(l=n.popup)==null||l.close(),c instanceof we&&(c.setCorrelationId(this.correlationId),o.cacheFailedRequest(c)),c}}async executeEarFlow(e,n){const r=e.correlationId,i=await A(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await A(Xp,E.GenerateEarKey,this.logger,this.performanceClient,r)(),s={...e,earJwk:o},a=n.popup||this.openPopup("about:blank",n);(await sg(a.document,this.config,i,s,this.logger,this.performanceClient)).submit();const c=await A(this.monitorPopupForHash.bind(this),E.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,n.popupWindowParent),u=nn(ec,E.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(c,this.config.auth.OIDCOptions.serverResponseType,this.logger);return A(lg,E.HandleResponseEar,this.logger,this.performanceClient,r)(s,u,ce.acquireTokenPopup,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async logoutPopupAsync(e,n,r,i){var s,a,l,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(F.LOGOUT_START,$.Popup,e);const o=this.initializeServerTelemetryManager(ce.logoutPopup);try{await this.clearCacheOnLogout(e.account);const u=await A(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:r,account:e.account||void 0});try{u.authority.endSessionEndpoint}catch{if((s=e.account)!=null&&s.homeAccountId&&e.postLogoutRedirectUri&&u.authority.protocolMode===bt.OIDC){if(this.browserStorage.removeAccount((a=e.account)==null?void 0:a.homeAccountId),this.eventHandler.emitEvent(F.LOGOUT_SUCCESS,$.Popup,e),i){const f={apiId:ce.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},g=ne.getAbsoluteUrl(i,Rn());await this.navigationClient.navigateInternal(g,f)}(l=n.popup)==null||l.close();return}}const d=u.getLogoutUri(e);this.eventHandler.emitEvent(F.LOGOUT_SUCCESS,$.Popup,e);const h=this.openPopup(d,n);if(this.eventHandler.emitEvent(F.POPUP_OPENED,$.Popup,{popupWindow:h},null),await this.monitorPopupForHash(h,n.popupWindowParent).catch(()=>{}),i){const f={apiId:ce.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},g=ne.getAbsoluteUrl(i,Rn());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${g}`),await this.navigationClient.navigateInternal(g,f)}else this.logger.verbose("No main window navigation requested")}catch(u){throw(c=n.popup)==null||c.close(),u instanceof we&&(u.setCorrelationId(this.correlationId),o.cacheFailedRequest(u)),this.eventHandler.emitEvent(F.LOGOUT_FAILURE,$.Popup,null,u),this.eventHandler.emitEvent(F.LOGOUT_END,$.Popup),u}this.eventHandler.emitEvent(F.LOGOUT_END,$.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),U(Wc)}monitorPopupForHash(e,n){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),i(U(zs));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(o);let a="";const l=this.config.auth.OIDCOptions.serverResponseType;e&&(l===Lc.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,n)),!r)throw U(TT);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),U(ST)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:r,popupWindowParent:i}){var f,g,v,S;const o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let c=(f=r.popupSize)==null?void 0:f.width,u=(g=r.popupSize)==null?void 0:g.height,d=(v=r.popupPosition)==null?void 0:v.top,h=(S=r.popupPosition)==null?void 0:S.left;return(!c||c<0||c>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),c=ht.POPUP_WIDTH),(!u||u<0||u>l)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=ht.POPUP_HEIGHT),(!d||d<0||d>l)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,l/2-ht.POPUP_HEIGHT/2+s)),(!h||h<0||h>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,a/2-ht.POPUP_WIDTH/2+o)),i.open(e,n,`width=${c}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${ht.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${ht.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.12.0 2025-05-06 */function xN(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class kN extends Ro{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,a,c,u),this.nativeStorage=l}async acquireToken(e){const n=await A(this.initializeAuthorizationRequest.bind(this),E.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,$.Redirect);n.platformBroker=mn.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);const r=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(F.RESTORE_FROM_BFCACHE,$.Redirect))},i=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${i}`),this.browserStorage.setTemporaryCache(Pe.ORIGIN_URI,i,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===bt.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(o){throw o instanceof we&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),o}}async executeCodeFlow(e,n){const r=e.correlationId,i=this.initializeServerTelemetryManager(ce.acquireTokenRedirect),o=await A(Jc,E.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),s={...e,codeChallenge:o.challenge};this.browserStorage.cacheAuthorizeRequest(s,o.verifier);try{const a=await A(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),l=await A(og,E.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,a.authority,s,this.logger,this.performanceClient);return await this.initiateAuthRequest(l,n)}catch(a){throw a instanceof we&&(a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a)),a}}async executeEarFlow(e){const n=e.correlationId,r=await A(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await A(Xp,E.GenerateEarKey,this.logger,this.performanceClient,n)(),o={...e,earJwk:i};this.browserStorage.cacheAuthorizeRequest(o),(await sg(document,this.config,r,o,this.logger,this.performanceClient)).submit()}async handleRedirectPromise(e="",n,r,i){const o=this.initializeServerTelemetryManager(ce.handleRedirectPromise);try{const[s,a]=this.getRedirectResponse(e||"");if(!s)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),xN()!=="back_forward"?i.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const l=this.browserStorage.getTemporaryCache(Pe.ORIGIN_URI,!0)||b.EMPTY_STRING,c=ne.removeHashFromUrl(l),u=ne.removeHashFromUrl(window.location.href);if(c===u&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),l.indexOf("#")>-1&&P1(l),await this.handleResponse(s,n,r,o);if(this.config.auth.navigateToLoginRequestUrl){if(!tg()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Pe.URL_HASH,a,!0);const d={apiId:ce.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let h=!0;if(!l||l==="null"){const f=O1();this.browserStorage.setTemporaryCache(Pe.ORIGIN_URI,f,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),h=await this.navigationClient.navigateInternal(f,d)}else this.logger.verbose(`Navigating to loginRequestUrl: ${l}`),h=await this.navigationClient.navigateInternal(l,d);if(!h)return await this.handleResponse(s,n,r,o)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(s,n,r,o);return null}catch(s){throw s instanceof we&&(s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s)),s}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===Lc.QUERY?n=window.location.search:n=window.location.hash);let r=Kl(n);if(r){try{vN(r,this.browserCrypto,$.Redirect)}catch(o){return o instanceof we&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return ZT(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const i=this.browserStorage.getTemporaryCache(Pe.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Pe.URL_HASH)),i&&(r=Kl(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}async handleResponse(e,n,r,i){if(!e.state)throw U(zp);if(e.ear_jwe){const a=await A(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return A(lg,E.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,ce.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}const s=await A(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:n.authority});return A(ag,E.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,r,ce.acquireTokenRedirect,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:ce.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=n||this.config.auth.onRedirectNavigate;if(typeof i=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),i(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),U(Wc)}async logout(e){var i,o;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(ce.logout);try{this.eventHandler.emitEvent(F.LOGOUT_START,$.Redirect,e),await this.clearCacheOnLogout(n.account);const s={apiId:ce.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await A(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===bt.OIDC)try{a.authority.endSessionEndpoint}catch{if((i=n.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((o=n.account)==null?void 0:o.homeAccountId),this.eventHandler.emitEvent(F.LOGOUT_SUCCESS,$.Redirect,n);return}}const l=a.getLogoutUri(n);if(this.eventHandler.emitEvent(F.LOGOUT_SUCCESS,$.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(l)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ir.SIGNOUT),await this.navigationClient.navigateExternal(l,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ir.SIGNOUT),await this.navigationClient.navigateExternal(l,s);return}}catch(s){throw s instanceof we&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(F.LOGOUT_FAILURE,$.Redirect,null,s),this.eventHandler.emitEvent(F.LOGOUT_END,$.Redirect),s}this.eventHandler.emitEvent(F.LOGOUT_END,$.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return ne.getAbsoluteUrl(n,Rn())}}/*! @azure/msal-browser v4.12.0 2025-05-06 */async function _N(t,e,n,r,i){if(e.addQueueMeasurement(E.SilentHandlerInitiateAuthRequest,r),!t)throw n.info("Navigate url is empty"),U(Wc);return i?A(AN,E.SilentHandlerLoadFrame,n,e,r)(t,i,e,r):nn(IN,E.SilentHandlerLoadFrameSync,n,e,r)(t)}async function bN(t,e,n,r,i){const o=cg();if(!o.contentDocument)throw"No document associated with iframe!";return(await sg(o.contentDocument,t,e,n,r,i)).submit(),o}async function Oy(t,e,n,r,i,o,s){return r.addQueueMeasurement(E.SilentHandlerMonitorIframeForHash,o),new Promise((a,l)=>{e<_h&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${_h}ms). This may result in timeouts.`);const c=window.setTimeout(()=>{window.clearInterval(u),l(U(ET))},e),u=window.setInterval(()=>{let d="";const h=t.contentWindow;try{d=h?h.location.href:""}catch{}if(!d||d==="about:blank")return;let f="";h&&(s===Lc.QUERY?f=h.location.search:f=h.location.hash),window.clearTimeout(c),window.clearInterval(u),a(f)},n)}).finally(()=>{nn(RN,E.RemoveHiddenIframe,i,r,o)(t)})}function AN(t,e,n,r){return n.addQueueMeasurement(E.SilentHandlerLoadFrame,r),new Promise((i,o)=>{const s=cg();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=t,i(s)},e)})}function IN(t){const e=cg();return e.src=t,e}function cg(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function RN(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v4.12.0 2025-05-06 */class PN extends Ro{constructor(e,n,r,i,o,s,a,l,c,u,d){super(e,n,r,i,o,s,l,u,d),this.apiId=a,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(E.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==ze.NONE&&n.prompt!==ze.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${ze.NONE}`),n.prompt=ze.NONE):n.prompt=ze.NONE;const r=await A(this.initializeAuthorizationRequest.bind(this),E.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,$.Silent);return r.platformBroker=mn.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,r.authenticationScheme),nE(r.authority),this.config.auth.protocolMode===bt.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let n;const r=this.initializeServerTelemetryManager(this.apiId);try{return n=await A(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await A(this.silentTokenHelper.bind(this),E.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(i){if(i instanceof we&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),!n||!(i instanceof we)||i.errorCode!==ht.INVALID_GRANT_ERROR)throw i;return this.performanceClient.addFields({retryError:i.errorCode},this.correlationId),await A(this.silentTokenHelper.bind(this),E.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,r=await A(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await A(Xp,E.GenerateEarKey,this.logger,this.performanceClient,n)(),o={...e,earJwk:i},s=await A(bN,E.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,r,o,this.logger,this.performanceClient),a=this.config.auth.OIDCOptions.serverResponseType,l=await A(Oy,E.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,a),c=nn(ec,E.DeserializeResponse,this.logger,this.performanceClient,n)(l,a,this.logger);return A(lg,E.HandleResponseEar,this.logger,this.performanceClient,n)(o,c,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}logout(){return Promise.reject(U(qc))}async silentTokenHelper(e,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(E.SilentIframeClientTokenHelper,r);const i=await A(Jc,E.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),o={...n,codeChallenge:i.challenge},s=await A(og,E.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,o,this.logger,this.performanceClient),a=await A(_N,E.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(s,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),l=this.config.auth.OIDCOptions.serverResponseType,c=await A(Oy,E.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,l),u=nn(ec,E.DeserializeResponse,this.logger,this.performanceClient,r)(c,l,this.logger);return A(ag,E.HandleResponseCode,this.logger,this.performanceClient,r)(n,u,i.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class NN extends Ro{async acquireToken(e){this.performanceClient.addQueueMeasurement(E.SilentRefreshClientAcquireToken,e.correlationId);const n=await A(ig,E.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...n};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(ce.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return A(o.acquireTokenByRefreshToken.bind(o),E.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(s=>{throw s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),s})}logout(){return Promise.reject(U(qc))}async createRefreshTokenClient(e){const n=await A(this.getClientConfiguration.bind(this),E.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new GP(n,this.performanceClient)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class ON{constructor(e,n,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=r,this.cryptoObj=i}async loadExternalTokens(e,n,r){if(!this.isBrowserEnvironment)throw U(Qc);const i=e.correlationId||on(),o=n.id_token?bo(n.id_token,Zt):void 0,s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new Je(Je.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,s,this.logger,e.correlationId||on()):void 0,l=await this.loadAccount(e,r.clientInfo||n.client_info||"",i,o,a),c=await this.loadIdToken(n,l.homeAccountId,l.environment,l.realm,i),u=await this.loadAccessToken(e,n,l.homeAccountId,l.environment,l.realm,r,i),d=await this.loadRefreshToken(n,l.homeAccountId,l.environment,i);return this.generateAuthenticationResult(e,{account:l,idToken:c,accessToken:u,refreshToken:d},o,a)}async loadAccount(e,n,r,i,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const c=at.createFromAccountInfo(e.account);return await this.storage.setAccount(c,r),c}else if(!o||!n&&!i)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),U(NT);const s=at.generateHomeAccountId(n,o.authorityType,this.logger,this.cryptoObj,i),a=i==null?void 0:i.tid,l=Fp(this.storage,o,s,Zt,i,n,o.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(l,r),l}async loadIdToken(e,n,r,i,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const s=jc(n,r,e.id_token,this.config.auth.clientId,i);return await this.storage.setIdTokenCredential(s,o),s}async loadAccessToken(e,n,r,i,o,s,a){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const l=n.scope?Ae.fromString(n.scope):new Ae(e.scopes),c=s.expiresOn||n.expires_in+It(),u=s.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+It(),d=Dc(r,i,n.access_token,this.config.auth.clientId,o,l.printScopes(),c,u,Zt);return await this.storage.setAccessTokenCredential(d,a),d}async loadRefreshToken(e,n,r,i){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=ES(n,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,i),o}generateAuthenticationResult(e,n,r,i){var u,d,h;let o="",s=[],a=null,l;n!=null&&n.accessToken&&(o=n.accessToken.secret,s=Ae.fromString(n.accessToken.target).asArray(),a=eo(n.accessToken.expiresOn),l=eo(n.accessToken.extendedExpiresOn));const c=n.account;return{authority:i?i.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:s,account:c.getAccountInfo(),idToken:((u=n.idToken)==null?void 0:u.secret)||"",idTokenClaims:r||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:l,familyId:((d=n.refreshToken)==null?void 0:d.familyId)||"",tokenType:((h=n==null?void 0:n.accessToken)==null?void 0:h.tokenType)||"",state:e.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class MN extends cT{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class LN extends Ro{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,l,c,u),this.apiId=a}async acquireToken(e){if(!e.code)throw U(OT);const n=await A(this.initializeAuthorizationRequest.bind(this),E.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,$.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const i={...n,code:e.code},o=await A(this.getClientConfiguration.bind(this),E.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),s=new MN(o);this.logger.verbose("Auth code client created");const a=new sE(s,this.browserStorage,i,this.logger,this.performanceClient);return await A(a.handleCodeResponseFromServer.bind(a),E.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(i){throw i instanceof we&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}logout(){return Promise.reject(U(qc))}}/*! @azure/msal-browser v4.12.0 2025-05-06 */function jN(t,e,n){var s;const r=((s=window.msal)==null?void 0:s.clientIds)||[],i=r.length,o=r.filter(a=>a===t).length;o>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:i,sameClientIdInstanceCount:o})}/*! @azure/msal-browser v4.12.0 2025-05-06 */function un(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function $a(t,e){try{ng(t)}catch(n){throw e.end({success:!1},n),n}}class Xc{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Bn(this.logger,this.performanceClient):Vl,this.eventHandler=new sN(this.logger),this.browserStorage=this.isBrowserEnvironment?new Rh(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,jP(this.config.auth)):J1(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:Ke.MemoryStorage,temporaryCacheLocation:Ke.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Rh(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new ON(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const r=new Xc(e);return await r.initialize(n),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(F.INITIALIZE_END);return}const r=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),i=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(E.InitializeClientApplication,r);if(this.eventHandler.emitEvent(F.INITIALIZE_START),!n)try{this.logMultipleInstances(o)}catch{}if(await A(this.browserStorage.initialize.bind(this.browserStorage),E.InitializeCache,this.logger,this.performanceClient,r)(r),i)try{this.nativeExtensionProvider=await mn.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(s){this.logger.verbose(s)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await A(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),E.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(this.performanceClient,r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(F.INITIALIZE_END),o.end({allowPlatformBroker:i,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),tE(this.initialized),this.isBrowserEnvironment){const n=e||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var l;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((l=this.browserStorage.getInteractionInProgress())==null?void 0:l.type)===ir.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),i=this.browserStorage.getCachedNativeRequest(),o=i&&mn.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e;let s;this.eventHandler.emitEvent(F.HANDLE_REDIRECT_START,$.Redirect);let a;try{if(o&&this.nativeExtensionProvider){s=this.performanceClient.startMeasurement(E.AcquireTokenRedirect,(i==null?void 0:i.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const c=new pl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ce.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,i.accountId,this.nativeInternalStorage,i.correlationId);a=A(c.handleRedirectPromise.bind(c),E.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{const[c,u]=this.browserStorage.getCachedRequest(),d=c.correlationId;s=this.performanceClient.startMeasurement(E.AcquireTokenRedirect,d),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const h=this.createRedirectClient(d);a=A(h.handleRedirectPromise.bind(h),E.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,c,u,s)}}catch(c){throw this.browserStorage.resetRequestCache(),c}return a.then(c=>(c?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(F.LOGIN_SUCCESS,$.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_SUCCESS,$.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:un(c.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(F.HANDLE_REDIRECT_END,$.Redirect),c)).catch(c=>{this.browserStorage.resetRequestCache();const u=c;throw r.length>0?this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_FAILURE,$.Redirect,null,u):this.eventHandler.emitEvent(F.LOGIN_FAILURE,$.Redirect,null,u),this.eventHandler.emitEvent(F.HANDLE_REDIRECT_END,$.Redirect),s.end({success:!1},u),c})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(E.AcquireTokenPreRedirect,n);r.add({accountType:un(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=s=>{const a=typeof i=="function"?i(s):void 0;return a!==!1?r.end({success:!0}):r.discard(),a};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{const l=typeof s=="function"?s(a):void 0;return l!==!1?r.end({success:!0}):r.discard(),l}}const o=this.getAllAccounts().length>0;try{by(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ir.SIGNIN),o?this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_START,$.Redirect,e):this.eventHandler.emitEvent(F.LOGIN_START,$.Redirect,e);let s;return this.nativeExtensionProvider&&this.canUsePlatformBroker(e)?s=new pl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ce.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,r).catch(l=>{if(l instanceof gn&&Ii(l))return this.nativeExtensionProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(l instanceof rn)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw l}):s=this.createRedirectClient(n).acquireToken(e),await s}catch(s){throw this.browserStorage.resetRequestCache(),r.end({success:!1},s),o?this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_FAILURE,$.Redirect,null,s):this.eventHandler.emitEvent(F.LOGIN_FAILURE,$.Redirect,null,s),s}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(E.AcquireTokenPopup,n);r.add({scenarioId:e.scenarioId,accountType:un(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),$a(this.initialized,r),this.browserStorage.setInteractionInProgress(!0,ir.SIGNIN)}catch(a){return Promise.reject(a)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_START,$.Popup,e):this.eventHandler.emitEvent(F.LOGIN_START,$.Popup,e);let o;const s=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?o=this.acquireTokenNative({...e,correlationId:n},ce.acquireTokenPopup).then(a=>(r.end({success:!0,isNativeBroker:!0,accountType:un(a.account)}),a)).catch(a=>{if(a instanceof gn&&Ii(a))return this.nativeExtensionProvider=void 0,this.createPopupClient(n).acquireToken(e,s);if(a instanceof rn)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,s);throw a}):o=this.createPopupClient(n).acquireToken(e,s),o.then(a=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(F.LOGIN_SUCCESS,$.Popup,a):this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_SUCCESS,$.Popup,a),r.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:un(a.account)}),a)).catch(a=>(i.length>0?this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_FAILURE,$.Popup,null,a):this.eventHandler.emitEvent(F.LOGIN_FAILURE,$.Popup,null,a),r.end({success:!1},a),Promise.reject(a))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var o,s;const n=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(E.SsoSilent,n),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:e.scenarioId,accountType:un(e.account)}),$a(this.initialized,this.ssoSilentMeasurement),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(F.SSO_SILENT_START,$.Silent,r);let i;return this.canUsePlatformBroker(r)?i=this.acquireTokenNative(r,ce.ssoSilent).catch(a=>{if(a instanceof gn&&Ii(a))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw a}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(a=>{var l;return this.eventHandler.emitEvent(F.SSO_SILENT_SUCCESS,$.Silent,a),(l=this.ssoSilentMeasurement)==null||l.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:un(a.account)}),a}).catch(a=>{var l;throw this.eventHandler.emitEvent(F.SSO_SILENT_FAILURE,$.Silent,null,a),(l=this.ssoSilentMeasurement)==null||l.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(E.AcquireTokenByCode,n);$a(this.initialized,r),this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_BY_CODE_START,$.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw U(LT);if(e.code){const i=e.code;let o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),o=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(s=>(this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_BY_CODE_SUCCESS,$.Silent,s),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:un(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_BY_CODE_FAILURE,$.Silent,null,s),r.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(i,o)),await o}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){const i=await this.acquireTokenNative({...e,correlationId:n},ce.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof gn&&Ii(o)&&(this.nativeExtensionProvider=void 0),o});return r.end({accountType:un(i.account),success:!0}),i}else throw U(jT);else throw U(MT)}catch(i){throw this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_BY_CODE_FAILURE,$.Silent,null,i),r.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(E.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(o=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker}),o}).catch(o=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(E.AcquireTokenFromCache,e.correlationId),n){case nt.Default:case nt.AccessToken:case nt.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return A(r.acquireToken.bind(r),E.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw P(vr)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(E.AcquireTokenByRefreshToken,e.correlationId),n){case nt.Default:case nt.AccessTokenAndRefreshToken:case nt.RefreshToken:case nt.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return A(r.acquireToken.bind(r),E.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw P(vr)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(E.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return A(n.acquireToken.bind(n),E.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return by(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ir.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return ng(this.initialized),this.browserStorage.setInteractionInProgress(!0,ir.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){return X1(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return Z1(e,this.logger,this.browserStorage)}getAccountByUsername(e){return eN(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return tN(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return nN(e,this.logger,this.browserStorage)}setActiveAccount(e){rN(e,this.browserStorage)}getActiveAccount(){return iN(this.browserStorage)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const r=at.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,r,i){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw U(Wp);return new pl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,i)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!mn.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case ze.NONE:case ze.CONSENT:case ze.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new EN(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new kN(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new PN(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ce.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new aE(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new NN(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new LN(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ce.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return eE(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Ke.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Ke.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?on():b.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||Ey})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||Ey})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(E.AcquireTokenSilent,n);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),$a(this.initialized,r),this.logger.verbose("acquireTokenSilent called",n);const i=e.account||this.getActiveAccount();if(!i)throw U(bT);return r.add({accountType:un(i)}),this.acquireTokenSilentDeduped(e,i,n).then(o=>(r.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length}),{...o,state:e.state,correlationId:n})).catch(o=>{throw o instanceof we&&o.setCorrelationId(n),r.end({success:!1},o),o})}async acquireTokenSilentDeduped(e,n,r){const i=zc(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:r},n.homeAccountId),o=JSON.stringify(i),s=this.activeSilentTokenRequests.get(o);if(typeof s>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const a=A(this.acquireTokenSilentAsync.bind(this),E.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},n);return this.activeSilentTokenRequests.set(o,a),a.finally(()=>{this.activeSilentTokenRequests.delete(o)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),s}async acquireTokenSilentAsync(e,n){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(E.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_START,$.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const i=await A(aN,E.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||nt.Default;return this.acquireTokenSilentNoIframe(i,o).catch(async a=>{if(DN(a,o))if(this.activeIframeRequest)if(o!==nt.Skip){const[c,u]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${u}`,i.correlationId);const d=this.performanceClient.startMeasurement(E.AwaitConcurrentIframe,i.correlationId);d.add({awaitIframeCorrelationId:u});const h=await c;if(d.end({success:h}),h)return this.logger.verbose(`Parallel iframe request with correlationId: ${u} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${u} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),A(this.acquireTokenBySilentIframe.bind(this),E.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let c;return this.activeIframeRequest=[new Promise(u=>{c=u}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),A(this.acquireTokenBySilentIframe.bind(this),E.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(u=>(c(!0),u)).catch(u=>{throw c(!1),u}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_SUCCESS,$.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_FAILURE,$.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,n){return mn.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,ce.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async r=>{throw r instanceof gn&&Ii(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,P(vr)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===nt.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),A(this.acquireTokenFromCache.bind(this),E.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(r=>{if(n===nt.AccessToken)throw r;return this.eventHandler.emitEvent(F.ACQUIRE_TOKEN_NETWORK_START,$.Silent,e),A(this.acquireTokenByRefreshToken.bind(this),E.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await A(Jc,E.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),jN(n,e,this.logger)}}function DN(t,e){const n=!(t instanceof rn&&t.subError!==Gc),r=t.errorCode===ht.INVALID_GRANT_ERROR||t.errorCode===vr,i=n&&r||t.errorCode===Yl||t.errorCode===Up,o=f1.includes(e);return i&&o}/*! @azure/msal-browser v4.12.0 2025-05-06 */async function UN(t,e){const n=new di(t);return await n.initialize(),Xc.createController(n,e)}/*! @azure/msal-browser v4.12.0 2025-05-06 */class ug{static async createPublicClientApplication(e){const n=await UN(e);return new ug(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new Xc(new di(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const FN={initialize:()=>Promise.reject(Ie(Ue)),acquireTokenPopup:()=>Promise.reject(Ie(Ue)),acquireTokenRedirect:()=>Promise.reject(Ie(Ue)),acquireTokenSilent:()=>Promise.reject(Ie(Ue)),acquireTokenByCode:()=>Promise.reject(Ie(Ue)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(Ie(Ue)),loginPopup:()=>Promise.reject(Ie(Ue)),loginRedirect:()=>Promise.reject(Ie(Ue)),logout:()=>Promise.reject(Ie(Ue)),logoutRedirect:()=>Promise.reject(Ie(Ue)),logoutPopup:()=>Promise.reject(Ie(Ue)),ssoSilent:()=>Promise.reject(Ie(Ue)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw Ie(Ue)},getLogger:()=>{throw Ie(Ue)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw Ie(Ue)},hydrateCache:()=>Promise.reject(Ie(Ue)),clearCache:()=>Promise.reject(Ie(Ue))};/*! @azure/msal-browser v4.12.0 2025-05-06 */class HN{static getInteractionStatusFromEvent(e,n){switch(e.eventType){case F.LOGIN_START:return Oe.Login;case F.SSO_SILENT_START:return Oe.SsoSilent;case F.ACQUIRE_TOKEN_START:if(e.interactionType===$.Redirect||e.interactionType===$.Popup)return Oe.AcquireToken;break;case F.HANDLE_REDIRECT_START:return Oe.HandleRedirect;case F.LOGOUT_START:return Oe.Logout;case F.SSO_SILENT_SUCCESS:case F.SSO_SILENT_FAILURE:if(n&&n!==Oe.SsoSilent)break;return Oe.None;case F.LOGOUT_END:if(n&&n!==Oe.Logout)break;return Oe.None;case F.HANDLE_REDIRECT_END:if(n&&n!==Oe.HandleRedirect)break;return Oe.None;case F.LOGIN_SUCCESS:case F.LOGIN_FAILURE:case F.ACQUIRE_TOKEN_SUCCESS:case F.ACQUIRE_TOKEN_FAILURE:case F.RESTORE_FROM_BFCACHE:if(e.interactionType===$.Redirect||e.interactionType===$.Popup){if(n&&n!==Oe.Login&&n!==Oe.AcquireToken)break;return Oe.None}break}return null}}/*! @azure/msal-react v3.0.12 2025-05-06 */const BN={instance:FN,inProgress:Oe.None,accounts:[],logger:new _o({})},uE=C.createContext(BN);uE.Consumer;/*! @azure/msal-react v3.0.12 2025-05-06 */function My(t,e){if(t.length!==e.length)return!1;const n=[...e];return t.every(r=>{const i=n.shift();return!r||!i?!1:r.homeAccountId===i.homeAccountId&&r.localAccountId===i.localAccountId&&r.username===i.username})}/*! @azure/msal-react v3.0.12 2025-05-06 */const $N="@azure/msal-react",Ly="3.0.12";/*! @azure/msal-react v3.0.12 2025-05-06 */const tc={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},VN=(t,e)=>{const{type:n,payload:r}=e;let i=t.inProgress;switch(n){case tc.UNBLOCK_INPROGRESS:t.inProgress===Oe.Startup&&(i=Oe.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case tc.EVENT:const s=r.message,a=HN.getInteractionStatusFromEvent(s,t.inProgress);a&&(r.logger.info(`MsalProvider - ${s.eventType} results in setting inProgress from ${t.inProgress} to ${a}`),i=a);break;default:throw new Error(`Unknown action type: ${n}`)}if(i===Oe.Startup)return t;const o=r.instance.getAllAccounts();return i!==t.inProgress&&!My(o,t.accounts)?{...t,inProgress:i,accounts:o}:i!==t.inProgress?{...t,inProgress:i}:My(o,t.accounts)?t:{...t,accounts:o}};function zN({instance:t,children:e}){C.useEffect(()=>{t.initializeWrapperLibrary(u1.React,Ly)},[t]);const n=C.useMemo(()=>t.getLogger().clone($N,Ly),[t]),[r,i]=C.useReducer(VN,void 0,()=>({inProgress:Oe.Startup,accounts:[]}));C.useEffect(()=>{const s=t.addEventCallback(a=>{i({payload:{instance:t,logger:n,message:a},type:tc.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${s}`),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{i({payload:{instance:t,logger:n},type:tc.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{s&&(n.verbose(`MsalProvider - Removing event callback ${s}`),t.removeEventCallback(s))}},[t,n]);const o={instance:t,inProgress:r.inProgress,accounts:r.accounts,logger:n};return je.createElement(uE.Provider,{value:o},e)}const KN={}.REACT_APP_AZURE_CLIENT_ID||"dad8c5ba-b384-42da-946e-3bc8ebfdb1d2",Yu="StageQuest",GN={auth:{clientId:KN,authority:`https://${Yu}.b2clogin.com/${Yu}.onmicrosoft.com/B2C_1A_signup_signin`,redirectUri:window.location.origin,knownAuthorities:[`${Yu}.b2clogin.com`]},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1}},WN=new ug(GN),dE=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Zc=C.createContext({}),eu=C.createContext(null),tu=typeof document<"u",nu=tu?C.useLayoutEffect:C.useEffect,hE=C.createContext({strict:!1}),dg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qN="framerAppearId",fE="data-"+dg(qN);function QN(t,e,n,r){const{visualElement:i}=C.useContext(Zc),o=C.useContext(hE),s=C.useContext(eu),a=C.useContext(dE).reducedMotion,l=C.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;C.useInsertionEffect(()=>{c&&c.update(n,s)});const u=C.useRef(!!(n[fE]&&!window.HandoffComplete));return nu(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),C.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function zi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YN(t,e,n){return C.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):zi(n)&&(n.current=r))},[e])}function Gs(t){return typeof t=="string"||Array.isArray(t)}function ru(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const hg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fg=["initial",...hg];function iu(t){return ru(t.animate)||fg.some(e=>Gs(t[e]))}function pE(t){return!!(iu(t)||t.variants)}function JN(t,e){if(iu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Gs(n)?n:void 0,animate:Gs(r)?r:void 0}}return t.inherit!==!1?e:{}}function XN(t){const{initial:e,animate:n}=JN(t,C.useContext(Zc));return C.useMemo(()=>({initial:e,animate:n}),[jy(e),jy(n)])}function jy(t){return Array.isArray(t)?t.join(" "):t}const Dy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ws={};for(const t in Dy)Ws[t]={isEnabled:e=>Dy[t].some(n=>!!e[n])};function ZN(t){for(const e in t)Ws[e]={...Ws[e],...t[e]}}const pg=C.createContext({}),gE=C.createContext({}),eO=Symbol.for("motionComponentSymbol");function tO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&ZN(t);function o(a,l){let c;const u={...C.useContext(dE),...a,layoutId:nO(a)},{isStatic:d}=u,h=XN(a),f=r(a,d);if(!d&&tu){h.visualElement=QN(i,f,u,e);const g=C.useContext(gE),v=C.useContext(hE).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,v,t,g))}return C.createElement(Zc.Provider,{value:h},c&&h.visualElement?C.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,YN(f,h.visualElement,l),f,d,h.visualElement))}const s=C.forwardRef(o);return s[eO]=i,s}function nO({layoutId:t}){const e=C.useContext(pg).id;return e&&t!==void 0?e+"-"+t:t}function rO(t){function e(r,i={}){return tO(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const iO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gg(t){return typeof t!="string"||t.includes("-")?!1:!!(iO.indexOf(t)>-1||/[A-Z]/.test(t))}const nc={};function oO(t){Object.assign(nc,t)}const la=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gi=new Set(la);function mE(t,{layout:e,layoutId:n}){return gi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nc[t]||t==="opacity")}const vt=t=>!!(t&&t.getVelocity),sO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aO=la.length;function lO(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<aO;s++){const a=la[s];if(t[a]!==void 0){const l=sO[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const yE=t=>e=>typeof e=="string"&&e.startsWith(t),vE=yE("--"),Nh=yE("var(--"),cO=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,uO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,kr=(t,e,n)=>Math.min(Math.max(n,t),e),mi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ms={...mi,transform:t=>kr(0,1,t)},Va={...mi,default:1},ys=t=>Math.round(t*1e5)/1e5,ou=/(-)?([\d]*\.?[\d])+/g,wE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,dO=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ca(t){return typeof t=="string"}const ua=t=>({test:e=>ca(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qn=ua("deg"),Sn=ua("%"),z=ua("px"),hO=ua("vh"),fO=ua("vw"),Uy={...Sn,parse:t=>Sn.parse(t)/100,transform:t=>Sn.transform(t*100)},Fy={...mi,transform:Math.round},CE={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,radius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,size:z,top:z,right:z,bottom:z,left:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,rotate:Qn,rotateX:Qn,rotateY:Qn,rotateZ:Qn,scale:Va,scaleX:Va,scaleY:Va,scaleZ:Va,skew:Qn,skewX:Qn,skewY:Qn,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:ms,originX:Uy,originY:Uy,originZ:z,zIndex:Fy,fillOpacity:ms,strokeOpacity:ms,numOctaves:Fy};function mg(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(vE(d)){o[d]=h;continue}const f=CE[d],g=uO(h,f);if(gi.has(d)){if(l=!0,s[d]=g,!u)continue;h!==(f.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=g):i[d]=g}if(e.transform||(l||r?i.transform=lO(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;i.transformOrigin=`${d} ${h} ${f}`}}const yg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SE(t,e,n){for(const r in e)!vt(e[r])&&!mE(r,n)&&(t[r]=e[r])}function pO({transformTemplate:t},e,n){return C.useMemo(()=>{const r=yg();return mg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function gO(t,e,n){const r=t.style||{},i={};return SE(i,r,t),Object.assign(i,pO(t,e,n)),t.transformValues?t.transformValues(i):i}function mO(t,e,n){const r={},i=gO(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const yO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yO.has(t)}let TE=t=>!rc(t);function vO(t){t&&(TE=e=>e.startsWith("on")?!rc(e):t(e))}try{vO(require("@emotion/is-prop-valid").default)}catch{}function wO(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(TE(i)||n===!0&&rc(i)||!e&&!rc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Hy(t,e,n){return typeof t=="string"?t:z.transform(e+n*t)}function CO(t,e,n){const r=Hy(e,t.x,t.width),i=Hy(n,t.y,t.height);return`${r} ${i}`}const SO={offset:"stroke-dashoffset",array:"stroke-dasharray"},TO={offset:"strokeDashoffset",array:"strokeDasharray"};function EO(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?SO:TO;t[o.offset]=z.transform(-r);const s=z.transform(e),a=z.transform(n);t[o.array]=`${s} ${a}`}function vg(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(mg(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:v}=t;f.transform&&(v&&(g.transform=f.transform),delete f.transform),v&&(i!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=CO(v,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&EO(f,s,a,l,!1)}const EE=()=>({...yg(),attrs:{}}),wg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xO(t,e,n,r){const i=C.useMemo(()=>{const o=EE();return vg(o,e,{enableHardwareAcceleration:!1},wg(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};SE(o,t.style,t),i.style={...o,...i.style}}return i}function kO(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(gg(n)?xO:mO)(r,o,s,n),u={...wO(r,typeof n=="string",t),...l,ref:i},{children:d}=r,h=C.useMemo(()=>vt(d)?d.get():d,[d]);return C.createElement(n,{...u,children:h})}}function xE(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const kE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _E(t,e,n,r){xE(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(kE.has(i)?i:dg(i),e.attrs[i])}function Cg(t,e){const{style:n}=t,r={};for(const i in n)(vt(n[i])||e.style&&vt(e.style[i])||mE(i,t))&&(r[i]=n[i]);return r}function bE(t,e){const n=Cg(t,e);for(const r in t)if(vt(t[r])||vt(e[r])){const i=la.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Sg(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Tg(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const ic=t=>Array.isArray(t),_O=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),bO=t=>ic(t)?t[t.length-1]||0:t;function gl(t){const e=vt(t)?t.get():t;return _O(e)?e.toValue():e}function AO({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:IO(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const AE=t=>(e,n)=>{const r=C.useContext(Zc),i=C.useContext(eu),o=()=>AO(t,e,r,i);return n?o():Tg(o)};function IO(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=gl(o[h]);let{initial:s,animate:a}=t;const l=iu(t),c=pE(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;return d&&typeof d!="boolean"&&!ru(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const g=Sg(t,f);if(!g)return;const{transitionEnd:v,transition:S,...w}=g;for(const y in w){let m=w[y];if(Array.isArray(m)){const T=u?m.length-1:0;m=m[T]}m!==null&&(i[y]=m)}for(const y in v)i[y]=v[y]}),i}const _e=t=>t;class By{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function RO(t){let e=new By,n=new By,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,h=d?e:n;return c&&s.add(l),h.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),s.has(u)&&(a.schedule(u),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const za=["prepare","read","update","preRender","render","postRender"],PO=40;function NO(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=za.reduce((d,h)=>(d[h]=RO(()=>n=!0),d),{}),s=d=>o[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,PO),1),i.timestamp=d,i.isProcessing=!0,za.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:za.reduce((d,h)=>{const f=o[h];return d[h]=(g,v=!1,S=!1)=>(n||l(),f.schedule(g,v,S)),d},{}),cancel:d=>za.forEach(h=>o[h].cancel(d)),state:i,steps:o}}const{schedule:he,cancel:$n,state:Ye,steps:Ju}=NO(typeof requestAnimationFrame<"u"?requestAnimationFrame:_e,!0),OO={useVisualState:AE({scrapeMotionValuesFromProps:bE,createRenderState:EE,onMount:(t,e,{renderState:n,latestValues:r})=>{he.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),he.render(()=>{vg(n,r,{enableHardwareAcceleration:!1},wg(e.tagName),t.transformTemplate),_E(e,n)})}})},MO={useVisualState:AE({scrapeMotionValuesFromProps:Cg,createRenderState:yg})};function LO(t,{forwardMotionProps:e=!1},n,r){return{...gg(t)?OO:MO,preloadedFeatures:n,useRender:kO(e),createVisualElement:r,Component:t}}function Pn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const IE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function su(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const jO=t=>e=>IE(e)&&t(e,su(e));function Mn(t,e,n,r){return Pn(t,e,jO(n),r)}const DO=(t,e)=>n=>e(t(n)),Cr=(...t)=>t.reduce(DO);function RE(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const $y=RE("dragHorizontal"),Vy=RE("dragVertical");function PE(t){let e=!1;if(t==="y")e=Vy();else if(t==="x")e=$y();else{const n=$y(),r=Vy();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function NE(){const t=PE(!0);return t?(t(),!1):!0}class Rr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function zy(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||NE())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&he.update(()=>a[r](o,s))};return Mn(t.current,n,i,{passive:!t.getProps()[r]})}class UO extends Rr{mount(){this.unmount=Cr(zy(this.node,!0),zy(this.node,!1))}unmount(){}}class FO extends Rr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cr(Pn(this.node.current,"focus",()=>this.onFocus()),Pn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const OE=(t,e)=>e?t===e?!0:OE(t,e.parentElement):!1;function Xu(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,su(n))}class HO extends Rr{constructor(){super(...arguments),this.removeStartListeners=_e,this.removeEndListeners=_e,this.removeAccessibleListeners=_e,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Mn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();he.update(()=>{!d&&!OE(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=Mn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Cr(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Xu("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&he.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Pn(this.node.current,"keyup",s),Xu("down",(a,l)=>{this.startPress(a,l)})},n=Pn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Xu("cancel",(o,s)=>this.cancelPress(o,s))},i=Pn(this.node.current,"blur",r);this.removeAccessibleListeners=Cr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&he.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!NE()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&he.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Mn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Pn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Cr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Oh=new WeakMap,Zu=new WeakMap,BO=t=>{const e=Oh.get(t.target);e&&e(t)},$O=t=>{t.forEach(BO)};function VO({root:t,...e}){const n=t||document;Zu.has(n)||Zu.set(n,{});const r=Zu.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver($O,{root:t,...e})),r[i]}function zO(t,e,n){const r=VO(e);return Oh.set(t,n),r.observe(t),()=>{Oh.delete(t),r.unobserve(t)}}const KO={some:0,all:1};class GO extends Rr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:KO[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return zO(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(WO(e,n))&&this.startObserver()}unmount(){}}function WO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const qO={inView:{Feature:GO},tap:{Feature:HO},focus:{Feature:FO},hover:{Feature:UO}};function ME(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function QO(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function YO(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function au(t,e,n){const r=t.getProps();return Sg(r,e,n!==void 0?n:r.custom,QO(t),YO(t))}let JO=_e,Eg=_e;const Sr=t=>t*1e3,Ln=t=>t/1e3,XO={current:!1},LE=t=>Array.isArray(t)&&typeof t[0]=="number";function jE(t){return!!(!t||typeof t=="string"&&DE[t]||LE(t)||Array.isArray(t)&&t.every(jE))}const ts=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,DE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ts([0,.65,.55,1]),circOut:ts([.55,0,1,.45]),backIn:ts([.31,.01,.66,-.59]),backOut:ts([.33,1.53,.69,.99])};function UE(t){if(t)return LE(t)?ts(t):Array.isArray(t)?t.map(UE):DE[t]}function ZO(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=UE(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function eM(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const FE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,tM=1e-7,nM=12;function rM(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=FE(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>tM&&++a<nM);return s}function da(t,e,n,r){if(t===e&&n===r)return _e;const i=o=>rM(o,0,1,t,n);return o=>o===0||o===1?o:FE(i(o),e,r)}const iM=da(.42,0,1,1),oM=da(0,0,.58,1),HE=da(.42,0,.58,1),sM=t=>Array.isArray(t)&&typeof t[0]!="number",BE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$E=t=>e=>1-t(1-e),xg=t=>1-Math.sin(Math.acos(t)),VE=$E(xg),aM=BE(xg),zE=da(.33,1.53,.69,.99),kg=$E(zE),lM=BE(kg),cM=t=>(t*=2)<1?.5*kg(t):.5*(2-Math.pow(2,-10*(t-1))),uM={linear:_e,easeIn:iM,easeInOut:HE,easeOut:oM,circIn:xg,circInOut:aM,circOut:VE,backIn:kg,backInOut:lM,backOut:zE,anticipate:cM},Ky=t=>{if(Array.isArray(t)){Eg(t.length===4);const[e,n,r,i]=t;return da(e,n,r,i)}else if(typeof t=="string")return uM[t];return t},_g=(t,e)=>n=>!!(ca(n)&&dO.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),KE=(t,e,n)=>r=>{if(!ca(r))return r;const[i,o,s,a]=r.match(ou);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},dM=t=>kr(0,255,t),ed={...mi,transform:t=>Math.round(dM(t))},Qr={test:_g("rgb","red"),parse:KE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ed.transform(t)+", "+ed.transform(e)+", "+ed.transform(n)+", "+ys(ms.transform(r))+")"};function hM(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Mh={test:_g("#"),parse:hM,transform:Qr.transform},Ki={test:_g("hsl","hue"),parse:KE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Sn.transform(ys(e))+", "+Sn.transform(ys(n))+", "+ys(ms.transform(r))+")"},rt={test:t=>Qr.test(t)||Mh.test(t)||Ki.test(t),parse:t=>Qr.test(t)?Qr.parse(t):Ki.test(t)?Ki.parse(t):Mh.parse(t),transform:t=>ca(t)?t:t.hasOwnProperty("red")?Qr.transform(t):Ki.transform(t)},Te=(t,e,n)=>-n*t+n*e+t;function td(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=td(l,a,t+1/3),o=td(l,a,t),s=td(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const nd=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},pM=[Mh,Qr,Ki],gM=t=>pM.find(e=>e.test(t));function Gy(t){const e=gM(t);let n=e.parse(t);return e===Ki&&(n=fM(n)),n}const GE=(t,e)=>{const n=Gy(t),r=Gy(e),i={...n};return o=>(i.red=nd(n.red,r.red,o),i.green=nd(n.green,r.green,o),i.blue=nd(n.blue,r.blue,o),i.alpha=Te(n.alpha,r.alpha,o),Qr.transform(i))};function mM(t){var e,n;return isNaN(t)&&ca(t)&&(((e=t.match(ou))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(wE))===null||n===void 0?void 0:n.length)||0)>0}const WE={regex:cO,countKey:"Vars",token:"${v}",parse:_e},qE={regex:wE,countKey:"Colors",token:"${c}",parse:rt.parse},QE={regex:ou,countKey:"Numbers",token:"${n}",parse:mi.parse};function rd(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function oc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&rd(n,WE),rd(n,qE),rd(n,QE),n}function YE(t){return oc(t).values}function JE(t){const{values:e,numColors:n,numVars:r,tokenised:i}=oc(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(WE.token,s[l]):l<r+n?a=a.replace(qE.token,rt.transform(s[l])):a=a.replace(QE.token,ys(s[l]));return a}}const yM=t=>typeof t=="number"?0:t;function vM(t){const e=YE(t);return JE(t)(e.map(yM))}const _r={test:mM,parse:YE,createTransformer:JE,getAnimatableNone:vM},XE=(t,e)=>n=>`${n>0?e:t}`;function ZE(t,e){return typeof t=="number"?n=>Te(t,e,n):rt.test(t)?GE(t,e):t.startsWith("var(")?XE(t,e):tx(t,e)}const ex=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>ZE(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},wM=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ZE(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},tx=(t,e)=>{const n=_r.createTransformer(e),r=oc(t),i=oc(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Cr(ex(r.values,i.values),n):XE(t,e)},qs=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Wy=(t,e)=>n=>Te(t,e,n);function CM(t){return typeof t=="number"?Wy:typeof t=="string"?rt.test(t)?GE:tx:Array.isArray(t)?ex:typeof t=="object"?wM:Wy}function SM(t,e,n){const r=[],i=n||CM(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||_e:e;a=Cr(l,a)}r.push(a)}return r}function nx(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Eg(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=SM(e,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=qs(t[u],t[u+1],c);return s[u](d)};return n?c=>l(kr(t[0],t[o-1],c)):l}function TM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qs(0,e,r);t.push(Te(n,1,i))}}function EM(t){const e=[0];return TM(e,t.length-1),e}function xM(t,e){return t.map(n=>n*e)}function kM(t,e){return t.map(()=>e||HE).splice(0,t.length-1)}function sc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=sM(r)?r.map(Ky):Ky(r),o={done:!1,value:e[0]},s=xM(n&&n.length===e.length?n:EM(e),t),a=nx(s,e,{ease:Array.isArray(i)?i:kM(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function rx(t,e){return e?t*(1e3/e):0}const _M=5;function ix(t,e,n){const r=Math.max(e-_M,0);return rx(n-t(r),e-r)}const id=.001,bM=.01,qy=10,AM=.05,IM=1;function RM({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;JO(t<=Sr(qy));let s=1-e;s=kr(AM,IM,s),t=kr(bM,qy,Ln(t)),s<1?(i=c=>{const u=c*s,d=u*t,h=u-n,f=Lh(c,s),g=Math.exp(-d);return id-h/f*g},o=c=>{const d=c*s*t,h=d*n+n,f=Math.pow(s,2)*Math.pow(c,2)*t,g=Math.exp(-d),v=Lh(Math.pow(c,2),s);return(-i(c)+id>0?-1:1)*((h-f)*g)/v}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-id+u*d},o=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=NM(i,o,a);if(t=Sr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const PM=12;function NM(t,e,n){let r=n;for(let i=1;i<PM;i++)r=r-t(r)/e(r);return r}function Lh(t,e){return t*Math.sqrt(1-e*e)}const OM=["duration","bounce"],MM=["stiffness","damping","mass"];function Qy(t,e){return e.some(n=>t[n]!==void 0)}function LM(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Qy(t,MM)&&Qy(t,OM)){const n=RM(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function ox({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:h}=LM({...r,velocity:-Ln(r.velocity||0)}),f=d||0,g=l/(2*Math.sqrt(a*c)),v=o-i,S=Ln(Math.sqrt(a/c)),w=Math.abs(v)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let y;if(g<1){const m=Lh(S,g);y=T=>{const x=Math.exp(-g*S*T);return o-x*((f+g*S*v)/m*Math.sin(m*T)+v*Math.cos(m*T))}}else if(g===1)y=m=>o-Math.exp(-S*m)*(v+(f+S*v)*m);else{const m=S*Math.sqrt(g*g-1);y=T=>{const x=Math.exp(-g*S*T),I=Math.min(m*T,300);return o-x*((f+g*S*v)*Math.sinh(I)+m*v*Math.cosh(I))/m}}return{calculatedDuration:h&&u||null,next:m=>{const T=y(m);if(h)s.done=m>=u;else{let x=f;m!==0&&(g<1?x=ix(y,m,T):x=0);const I=Math.abs(x)<=n,_=Math.abs(o-T)<=e;s.done=I&&_}return s.value=s.done?o:T,s}}}function Yy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=k=>a!==void 0&&k<a||l!==void 0&&k>l,g=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let v=n*e;const S=d+v,w=s===void 0?S:s(S);w!==S&&(v=w-d);const y=k=>-v*Math.exp(-k/r),m=k=>w+y(k),T=k=>{const R=y(k),O=m(k);h.done=Math.abs(R)<=c,h.value=h.done?w:O};let x,I;const _=k=>{f(h.value)&&(x=k,I=ox({keyframes:[h.value,g(h.value)],velocity:ix(m,k,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return _(0),{calculatedDuration:null,next:k=>{let R=!1;return!I&&x===void 0&&(R=!0,T(k),_(k)),x!==void 0&&k>x?I.next(k-x):(!R&&T(k),h)}}}const jM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>he.update(e,!0),stop:()=>$n(e),now:()=>Ye.isProcessing?Ye.timestamp:performance.now()}},Jy=2e4;function Xy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Jy;)e+=n,r=t.next(e);return e>=Jy?1/0:e}const DM={decay:Yy,inertia:Yy,tween:sc,keyframes:sc,spring:ox};function ac({autoplay:t=!0,delay:e=0,driver:n=jM,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...h}){let f=1,g=!1,v,S;const w=()=>{S=new Promise(B=>{v=B})};w();let y;const m=DM[i]||sc;let T;m!==sc&&typeof r[0]!="number"&&(T=nx([0,100],r,{clamp:!1}),r=[0,100]);const x=m({...h,keyframes:r});let I;a==="mirror"&&(I=m({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let _="idle",k=null,R=null,O=null;x.calculatedDuration===null&&o&&(x.calculatedDuration=Xy(x));const{calculatedDuration:G}=x;let L=1/0,Q=1/0;G!==null&&(L=G+s,Q=L*(o+1)-s);let ee=0;const ie=B=>{if(R===null)return;f>0&&(R=Math.min(R,B)),f<0&&(R=Math.min(B-Q/f,R)),k!==null?ee=k:ee=Math.round(B-R)*f;const te=ee-e*(f>=0?1:-1),me=f>=0?te<0:te>Q;ee=Math.max(te,0),_==="finished"&&k===null&&(ee=Q);let wt=ee,wi=x;if(o){const mu=Math.min(ee,Q)/L;let ga=Math.floor(mu),Mr=mu%1;!Mr&&mu>=1&&(Mr=1),Mr===1&&ga--,ga=Math.min(ga,o+1),!!(ga%2)&&(a==="reverse"?(Mr=1-Mr,s&&(Mr-=s/L)):a==="mirror"&&(wi=I)),wt=kr(0,1,Mr)*L}const Ct=me?{done:!1,value:r[0]}:wi.next(wt);T&&(Ct.value=T(Ct.value));let{done:Or}=Ct;!me&&G!==null&&(Or=f>=0?ee>=Q:ee<=0);const bk=k===null&&(_==="finished"||_==="running"&&Or);return d&&d(Ct.value),bk&&M(),Ct},V=()=>{y&&y.stop(),y=void 0},oe=()=>{_="idle",V(),v(),w(),R=O=null},M=()=>{_="finished",u&&u(),V(),v()},j=()=>{if(g)return;y||(y=n(ie));const B=y.now();l&&l(),k!==null?R=B-k:(!R||_==="finished")&&(R=B),_==="finished"&&w(),O=R,k=null,_="running",y.start()};t&&j();const D={then(B,te){return S.then(B,te)},get time(){return Ln(ee)},set time(B){B=Sr(B),ee=B,k!==null||!y||f===0?k=B:R=y.now()-B/f},get duration(){const B=x.calculatedDuration===null?Xy(x):x.calculatedDuration;return Ln(B)},get speed(){return f},set speed(B){B===f||!y||(f=B,D.time=Ln(ee))},get state(){return _},play:j,pause:()=>{_="paused",k=ee},stop:()=>{g=!0,_!=="idle"&&(_="idle",c&&c(),oe())},cancel:()=>{O!==null&&ie(O),oe()},complete:()=>{_="finished"},sample:B=>(R=0,ie(B))};return D}function UM(t){let e;return()=>(e===void 0&&(e=t()),e)}const FM=UM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HM=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ka=10,BM=2e4,$M=(t,e)=>e.type==="spring"||t==="backgroundColor"||!jE(e.ease);function VM(t,e,{onUpdate:n,onComplete:r,...i}){if(!(FM()&&HM.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(m=>{a=m})};u();let{keyframes:d,duration:h=300,ease:f,times:g}=i;if($M(e,i)){const m=ac({...i,repeat:0,delay:0});let T={done:!1,value:d[0]};const x=[];let I=0;for(;!T.done&&I<BM;)T=m.sample(I),x.push(T.value),I+=Ka;g=void 0,d=x,h=I-Ka,f="linear"}const v=ZO(t.owner.current,e,d,{...i,duration:h,ease:f,times:g}),S=()=>{c=!1,v.cancel()},w=()=>{c=!0,he.update(S),a(),u()};return v.onfinish=()=>{c||(t.set(eM(d,i)),r&&r(),w())},{then(m,T){return l.then(m,T)},attachTimeline(m){return v.timeline=m,v.onfinish=null,_e},get time(){return Ln(v.currentTime||0)},set time(m){v.currentTime=Sr(m)},get speed(){return v.playbackRate},set speed(m){v.playbackRate=m},get duration(){return Ln(h)},play:()=>{s||(v.play(),$n(S))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:m}=v;if(m){const T=ac({...i,autoplay:!1});t.setWithVelocity(T.sample(m-Ka).value,T.sample(m).value,Ka)}w()},complete:()=>{c||v.finish()},cancel:w}}function zM({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:_e,pause:_e,stop:_e,then:o=>(o(),Promise.resolve()),cancel:_e,complete:_e});return e?ac({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const KM={type:"spring",stiffness:500,damping:25,restSpeed:10},GM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WM={type:"keyframes",duration:.8},qM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QM=(t,{keyframes:e})=>e.length>2?WM:gi.has(t)?t.startsWith("scale")?GM(e[1]):KM:qM,jh=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_r.test(e)||e==="0")&&!e.startsWith("url(")),YM=new Set(["brightness","contrast","saturate","opacity"]);function JM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ou)||[];if(!r)return t;const i=n.replace(r,"");let o=YM.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const XM=/([a-z-]*)\(.*?\)/g,Dh={..._r,getAnimatableNone:t=>{const e=t.match(XM);return e?e.map(JM).join(" "):t}},ZM={...CE,color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:Dh,WebkitFilter:Dh},bg=t=>ZM[t];function sx(t,e){let n=bg(t);return n!==Dh&&(n=_r),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ax=t=>/^0[^.\s]+$/.test(t);function eL(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||ax(t)}function tL(t,e,n,r){const i=jh(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),eL(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];o[u]=sx(e,a)}return o}function nL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Ag(t,e){return t[e]||t.default||t}const rL={skipAnimations:!1},Ig=(t,e,n,r={})=>i=>{const o=Ag(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Sr(s);const l=tL(e,t,n,o),c=l[0],u=l[l.length-1],d=jh(t,c),h=jh(t,u);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(nL(o)||(f={...f,...QM(t,f)}),f.duration&&(f.duration=Sr(f.duration)),f.repeatDelay&&(f.repeatDelay=Sr(f.repeatDelay)),!d||!h||XO.current||o.type===!1||rL.skipAnimations)return zM(f);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=VM(e,t,f);if(g)return g}return ac(f)};function lc(t){return!!(vt(t)&&t.add)}const lx=t=>/^\-?\d*\.?\d+$/.test(t);function Rg(t,e){t.indexOf(e)===-1&&t.push(e)}function Pg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ng{constructor(){this.subscriptions=[]}add(e){return Rg(this.subscriptions,e),()=>Pg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const iL=t=>!isNaN(parseFloat(t));class oL{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=Ye;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,he.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>he.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=iL(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ng);const r=this.events[e].add(n);return e==="change"?()=>{r(),he.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?rx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function go(t,e){return new oL(t,e)}const cx=t=>e=>e.test(t),sL={test:t=>t==="auto",parse:t=>t},ux=[mi,z,Sn,Qn,fO,hO,sL],$o=t=>ux.find(cx(t)),aL=[...ux,rt,_r],lL=t=>aL.find(cx(t));function cL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,go(n))}function Og(t,e){const n=au(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=bO(o[s]);cL(t,s,a)}}function Uh(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&Og(t,i),t.variantChildren&&t.variantChildren.forEach(o=>{Uh(o,e)})})}function uL(t,e){if(Array.isArray(e))return Uh(t,e);if(typeof e=="string")return Uh(t,[e]);Og(t,e)}function dL(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(lx(u)||ax(u))?u=parseFloat(u):!lL(u)&&_r.test(c)&&(u=sx(l,c)),t.addValue(l,go(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function hL(t,e){return e?(e[t]||e.default||e).from:void 0}function fL(t,e,n){const r={};for(const i in t){const o=hL(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function pL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function gL(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function dx(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d),f=a[d];if(!h||f===void 0||u&&pL(u,d))continue;const g={delay:n,elapsed:0,...Ag(o||{},d)};if(window.HandoffAppearAnimations){const w=t.getProps()[fE];if(w){const y=window.HandoffAppearAnimations(w,d,h,he);y!==null&&(g.elapsed=y,g.isHandoff=!0)}}let v=!g.isHandoff&&!gL(h,f);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(Ig(d,h,f,t.shouldReduceMotion&&gi.has(d)?{type:!1}:g));const S=h.animation;lc(l)&&(l.add(d),S.then(()=>l.remove(d))),c.push(S)}return s&&Promise.all(c).then(()=>{s&&Og(t,s)}),c}function Fh(t,e,n={}){const r=au(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(dx(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return mL(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function mL(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(yL).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(Fh(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function yL(t,e){return t.sortNodePosition(e)}function hx(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Fh(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Fh(t,e,n);else{const i=typeof e=="function"?au(t,e,n.custom):e;r=Promise.all(dx(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const vL=[...hg].reverse(),wL=hg.length;function CL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>hx(t,n,r)))}function SL(t){let e=CL(t);const n=EL();let r=!0;const i=(l,c)=>{const u=au(t,c);if(u){const{transition:d,transitionEnd:h,...f}=u;l={...l,...f,...h}}return l};function o(l){e=l(t)}function s(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let g={},v=1/0;for(let w=0;w<wL;w++){const y=vL[w],m=n[y],T=u[y]!==void 0?u[y]:d[y],x=Gs(T),I=y===c?m.isActive:null;I===!1&&(v=w);let _=T===d[y]&&T!==u[y]&&x;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),m.protectedKeys={...g},!m.isActive&&I===null||!T&&!m.prevProp||ru(T)||typeof T=="boolean")continue;let R=TL(m.prevProp,T)||y===c&&m.isActive&&!_&&x||w>v&&x,O=!1;const G=Array.isArray(T)?T:[T];let L=G.reduce(i,{});I===!1&&(L={});const{prevResolvedValues:Q={}}=m,ee={...Q,...L},ie=V=>{R=!0,f.has(V)&&(O=!0,f.delete(V)),m.needsAnimating[V]=!0};for(const V in ee){const oe=L[V],M=Q[V];if(g.hasOwnProperty(V))continue;let j=!1;ic(oe)&&ic(M)?j=!ME(oe,M):j=oe!==M,j?oe!==void 0?ie(V):f.add(V):oe!==void 0&&f.has(V)?ie(V):m.protectedKeys[V]=!0}m.prevProp=T,m.prevResolvedValues=L,m.isActive&&(g={...g,...L}),r&&t.blockInitialAnimation&&(R=!1),R&&(!_||O)&&h.push(...G.map(V=>({animation:V,options:{type:y,...l}})))}if(f.size){const w={};f.forEach(y=>{const m=t.getBaseTarget(y);m!==void 0&&(w[y]=m)}),h.push({animation:w})}let S=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(h):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function TL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ME(e,t):!1}function Lr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EL(){return{animate:Lr(!0),whileInView:Lr(),whileHover:Lr(),whileTap:Lr(),whileDrag:Lr(),whileFocus:Lr(),exit:Lr()}}class xL extends Rr{constructor(e){super(e),e.animationState||(e.animationState=SL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ru(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let kL=0;class _L extends Rr{constructor(){super(...arguments),this.id=kL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const bL={animation:{Feature:xL},exit:{Feature:_L}},Zy=(t,e)=>Math.abs(t-e);function AL(t,e){const n=Zy(t.x,e.x),r=Zy(t.y,e.y);return Math.sqrt(n**2+r**2)}class fx{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=sd(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=AL(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:g}=d,{timestamp:v}=Ye;this.history.push({...g,timestamp:v});const{onStart:S,onMove:w}=this.handlers;h||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=od(h,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=sd(d.type==="pointercancel"?this.lastMoveEventInfo:od(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,S),g&&g(d,S)},!IE(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=su(e),a=od(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ye;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,sd(a,this.history)),this.removeListeners=Cr(Mn(this.contextWindow,"pointermove",this.handlePointerMove),Mn(this.contextWindow,"pointerup",this.handlePointerUp),Mn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$n(this.updatePoint)}}function od(t,e){return e?{point:e(t.point)}:t}function ev(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sd({point:t},e){return{point:t,delta:ev(t,px(e)),offset:ev(t,IL(e)),velocity:RL(e,.1)}}function IL(t){return t[0]}function px(t){return t[t.length-1]}function RL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=px(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Sr(e)));)n--;if(!r)return{x:0,y:0};const o=Ln(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Rt(t){return t.max-t.min}function Hh(t,e=0,n=.01){return Math.abs(t-e)<=n}function tv(t,e,n,r=.5){t.origin=r,t.originPoint=Te(e.min,e.max,t.origin),t.scale=Rt(n)/Rt(e),(Hh(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Te(n.min,n.max,t.origin)-t.originPoint,(Hh(t.translate)||isNaN(t.translate))&&(t.translate=0)}function vs(t,e,n,r){tv(t.x,e.x,n.x,r?r.originX:void 0),tv(t.y,e.y,n.y,r?r.originY:void 0)}function nv(t,e,n){t.min=n.min+e.min,t.max=t.min+Rt(e)}function PL(t,e,n){nv(t.x,e.x,n.x),nv(t.y,e.y,n.y)}function rv(t,e,n){t.min=e.min-n.min,t.max=t.min+Rt(e)}function ws(t,e,n){rv(t.x,e.x,n.x),rv(t.y,e.y,n.y)}function NL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Te(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Te(n,t,r.max):Math.min(t,n)),t}function iv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function OL(t,{top:e,left:n,bottom:r,right:i}){return{x:iv(t.x,n,i),y:iv(t.y,e,r)}}function ov(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ML(t,e){return{x:ov(t.x,e.x),y:ov(t.y,e.y)}}function LL(t,e){let n=.5;const r=Rt(t),i=Rt(e);return i>r?n=qs(e.min,e.max-r,t.min):r>i&&(n=qs(t.min,t.max-i,e.min)),kr(0,1,n)}function jL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Bh=.35;function DL(t=Bh){return t===!1?t=0:t===!0&&(t=Bh),{x:sv(t,"left","right"),y:sv(t,"top","bottom")}}function sv(t,e,n){return{min:av(t,e),max:av(t,n)}}function av(t,e){return typeof t=="number"?t:t[e]||0}const lv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gi=()=>({x:lv(),y:lv()}),cv=()=>({min:0,max:0}),Re=()=>({x:cv(),y:cv()});function Mt(t){return[t("x"),t("y")]}function gx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function UL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function FL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ad(t){return t===void 0||t===1}function $h({scale:t,scaleX:e,scaleY:n}){return!ad(t)||!ad(e)||!ad(n)}function Hr(t){return $h(t)||mx(t)||t.z||t.rotate||t.rotateX||t.rotateY}function mx(t){return uv(t.x)||uv(t.y)}function uv(t){return t&&t!=="0%"}function cc(t,e,n){const r=t-n,i=e*r;return n+i}function dv(t,e,n,r,i){return i!==void 0&&(t=cc(t,i,r)),cc(t,n,r)+e}function Vh(t,e=0,n=1,r,i){t.min=dv(t.min,e,n,r,i),t.max=dv(t.max,e,n,r,i)}function yx(t,{x:e,y:n}){Vh(t.x,e.translate,e.scale,e.originPoint),Vh(t.y,n.translate,n.scale,n.originPoint)}function HL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Wi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,yx(t,s)),r&&Hr(o.latestValues)&&Wi(t,o.latestValues))}e.x=hv(e.x),e.y=hv(e.y)}function hv(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function er(t,e){t.min=t.min+e,t.max=t.max+e}function fv(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=Te(t.min,t.max,o);Vh(t,e[n],e[r],s,e.scale)}const BL=["x","scaleX","originX"],$L=["y","scaleY","originY"];function Wi(t,e){fv(t.x,e,BL),fv(t.y,e,$L)}function vx(t,e){return gx(FL(t.getBoundingClientRect(),e))}function VL(t,e,n){const r=vx(t,n),{scroll:i}=e;return i&&(er(r.x,i.offset.x),er(r.y,i.offset.y)),r}const wx=({current:t})=>t?t.ownerDocument.defaultView:null,zL=new WeakMap;class KL{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(su(u,"page").point)},o=(u,d)=>{const{drag:h,dragPropagation:f,onDragStart:g}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=PE(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mt(S=>{let w=this.getAxisMotionValue(S).get()||0;if(Sn.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const m=y.layout.layoutBox[S];m&&(w=Rt(m)*(parseFloat(w)/100))}}this.originPoint[S]=w}),g&&he.update(()=>g(u,d),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:S}=d;if(f&&this.currentDirection===null){this.currentDirection=GL(S),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Mt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fx(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:wx(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&he.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ga(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=NL(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&zi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=OL(i.layoutBox,n):this.constraints=!1,this.elastic=DL(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Mt(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=jL(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zi(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=VL(r,i.root,this.visualElement.getTransformPagePoint());let s=ML(i.layout.layoutBox,o);if(n){const a=n(UL(s));this.hasMutatedConstraints=!!a,a&&(s=gx(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Mt(u=>{if(!Ga(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Ig(e,r,0,n))}stopAnimation(){Mt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mt(n=>{const{drag:r}=this.getProps();if(!Ga(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-Te(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Mt(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=LL({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mt(s=>{if(!Ga(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(Te(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;zL.set(this.visualElement,this);const e=this.visualElement.current,n=Mn(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();zi(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=Pn(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Mt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Bh,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Ga(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function GL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class WL extends Rr{constructor(e){super(e),this.removeGroupControls=_e,this.removeListeners=_e,this.controls=new KL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_e}unmount(){this.removeGroupControls(),this.removeListeners()}}const pv=t=>(e,n)=>{t&&he.update(()=>t(e,n))};class qL extends Rr{constructor(){super(...arguments),this.removePointerDownListener=_e}onPointerDown(e){this.session=new fx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:pv(e),onStart:pv(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&he.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=Mn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function QL(){const t=C.useContext(eu);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=C.useId();return C.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const ml={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(z.test(t))t=parseFloat(t);else return t;const n=gv(t,e.target.x),r=gv(t,e.target.y);return`${n}% ${r}%`}},YL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=_r.parse(t);if(i.length>5)return r;const o=_r.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=Te(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class JL extends je.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;oO(XL),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ml.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||he.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Cx(t){const[e,n]=QL(),r=C.useContext(pg);return je.createElement(JL,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(gE),isPresent:e,safeToRemove:n})}const XL={borderRadius:{...Vo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vo,borderTopRightRadius:Vo,borderBottomLeftRadius:Vo,borderBottomRightRadius:Vo,boxShadow:YL},Sx=["TopLeft","TopRight","BottomLeft","BottomRight"],ZL=Sx.length,mv=t=>typeof t=="string"?parseFloat(t):t,yv=t=>typeof t=="number"||z.test(t);function ej(t,e,n,r,i,o){i?(t.opacity=Te(0,n.opacity!==void 0?n.opacity:1,tj(r)),t.opacityExit=Te(e.opacity!==void 0?e.opacity:1,0,nj(r))):o&&(t.opacity=Te(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<ZL;s++){const a=`border${Sx[s]}Radius`;let l=vv(e,a),c=vv(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||yv(l)===yv(c)?(t[a]=Math.max(Te(mv(l),mv(c),r),0),(Sn.test(c)||Sn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Te(e.rotate||0,n.rotate||0,r))}function vv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tj=Tx(0,.5,VE),nj=Tx(.5,.95,_e);function Tx(t,e,n){return r=>r<t?0:r>e?1:n(qs(t,e,r))}function wv(t,e){t.min=e.min,t.max=e.max}function Ot(t,e){wv(t.x,e.x),wv(t.y,e.y)}function Cv(t,e,n,r,i){return t-=e,t=cc(t,1/n,r),i!==void 0&&(t=cc(t,1/i,r)),t}function rj(t,e=0,n=1,r=.5,i,o=t,s=t){if(Sn.test(e)&&(e=parseFloat(e),e=Te(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=Te(o.min,o.max,r);t===o&&(a-=e),t.min=Cv(t.min,e,n,a,i),t.max=Cv(t.max,e,n,a,i)}function Sv(t,e,[n,r,i],o,s){rj(t,e[n],e[r],e[i],e.scale,o,s)}const ij=["x","scaleX","originX"],oj=["y","scaleY","originY"];function Tv(t,e,n,r){Sv(t.x,e,ij,n?n.x:void 0,r?r.x:void 0),Sv(t.y,e,oj,n?n.y:void 0,r?r.y:void 0)}function Ev(t){return t.translate===0&&t.scale===1}function Ex(t){return Ev(t.x)&&Ev(t.y)}function sj(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function xx(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function xv(t){return Rt(t.x)/Rt(t.y)}class aj{constructor(){this.members=[]}add(e){Rg(this.members,e),e.scheduleRender()}remove(e){if(Pg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kv(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const lj=(t,e)=>t.depth-e.depth;class cj{constructor(){this.children=[],this.isDirty=!1}add(e){Rg(this.children,e),this.isDirty=!0}remove(e){Pg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lj),this.isDirty=!1,this.children.forEach(e)}}function uj(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&($n(r),t(o-e))};return he.read(r,!0),()=>$n(r)}function dj(t){window.MotionDebug&&window.MotionDebug.record(t)}function hj(t){return t instanceof SVGElement&&t.tagName!=="svg"}function fj(t,e,n){const r=vt(t)?t:go(t);return r.start(Ig("",r,e,n)),r.animation}const _v=["","X","Y","Z"],pj={visibility:"hidden"},bv=1e3;let gj=0;const Br={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function kx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=gj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Br.totalNodes=Br.resolvedTargetDeltas=Br.recalculatedProjection=0,this.nodes.forEach(vj),this.nodes.forEach(Ej),this.nodes.forEach(xj),this.nodes.forEach(wj),dj(Br)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new cj)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Ng),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hj(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=uj(h,250),ml.hasAnimatedSinceResize&&(ml.hasAnimatedSinceResize=!1,this.nodes.forEach(Iv))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Ij,{onLayoutAnimationStart:S,onLayoutAnimationComplete:w}=u.getProps(),y=!this.targetLayout||!xx(this.targetLayout,g)||f,m=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,m);const T={...Ag(v,"layout"),onPlay:S,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else h||Iv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$n(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kj),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Av);return}this.isUpdating||this.nodes.forEach(Sj),this.isUpdating=!1,this.nodes.forEach(Tj),this.nodes.forEach(mj),this.nodes.forEach(yj),this.clearAllSnapshots();const a=performance.now();Ye.delta=kr(0,1e3/60,a-Ye.timestamp),Ye.timestamp=a,Ye.isProcessing=!0,Ju.update.process(Ye),Ju.preRender.process(Ye),Ju.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Cj),this.sharedNodes.forEach(_j)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Ex(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||Hr(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Rj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Re();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(er(a.x,l.offset.x),er(a.y,l.offset.y)),a}removeElementScroll(s){const a=Re();Ot(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){Ot(a,s);const{scroll:h}=this.root;h&&(er(a.x,-h.offset.x),er(a.y,-h.offset.y))}er(a.x,u.offset.x),er(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Re();Ot(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Wi(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Hr(u.latestValues)&&Wi(l,u.latestValues)}return Hr(this.latestValues)&&Wi(l,this.latestValues),l}removeTransform(s){const a=Re();Ot(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Hr(c.latestValues))continue;$h(c.latestValues)&&c.updateSnapshot();const u=Re(),d=c.measurePageBox();Ot(u,d),Tv(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Hr(this.latestValues)&&Tv(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),ws(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ot(this.target,this.layout.layoutBox),yx(this.target,this.targetDelta)):Ot(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),ws(this.relativeTargetOrigin,this.target,f.target),Ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Br.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$h(this.parent.latestValues)||mx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ot(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;HL(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Gi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Gi(),this.projectionDeltaWithTransform=Gi());const v=this.projectionTransform;vs(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=kv(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Br.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Gi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Re(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=f!==g,S=this.getStack(),w=!S||S.members.length<=1,y=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(Aj));this.animationProgress=0;let m;this.mixTargetDelta=T=>{const x=T/1e3;Rv(d.x,s.x,x),Rv(d.y,s.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ws(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bj(this.relativeTarget,this.relativeTargetOrigin,h,x),m&&sj(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=Re()),Ot(m,this.relativeTarget)),v&&(this.animationValues=u,ej(u,c,this.latestValues,x,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($n(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{ml.hasAnimatedSinceResize=!0,this.currentAnimation=fj(0,bv,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&_x(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Re();const d=Rt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=Rt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Ot(a,l),Wi(a,u),vs(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new aj),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<_v.length;u++){const d="rotate"+_v[u];l[d]&&(c[d]=l[d],s.setStaticValue(d,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pj;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gl(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=gl(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Hr(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=kv(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:g}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in nc){if(h[v]===void 0)continue;const{correct:S,applyTo:w}=nc[v],y=c.transform==="none"?h[v]:S(h[v],d);if(w){const m=w.length;for(let T=0;T<m;T++)c[w[T]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=d===this?gl(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Av),this.root.sharedNodes.clear()}}}function mj(t){t.updateLayout()}function yj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Mt(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],f=Rt(h);h.min=r[d].min,h.max=h.min+f}):_x(o,n.layoutBox,r)&&Mt(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],f=Rt(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Gi();vs(a,r,n.layoutBox);const l=Gi();s?vs(l,t.applyTransform(i,!0),n.measuredBox):vs(l,r,n.layoutBox);const c=!Ex(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const g=Re();ws(g,n.layoutBox,h.layoutBox);const v=Re();ws(v,r,f.layoutBox),xx(g,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function vj(t){Br.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Cj(t){t.clearSnapshot()}function Av(t){t.clearMeasurements()}function Sj(t){t.isLayoutDirty=!1}function Tj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Iv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ej(t){t.resolveTargetDelta()}function xj(t){t.calcProjection()}function kj(t){t.resetRotation()}function _j(t){t.removeLeadSnapshot()}function Rv(t,e,n){t.translate=Te(e.translate,0,n),t.scale=Te(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Pv(t,e,n,r){t.min=Te(e.min,n.min,r),t.max=Te(e.max,n.max,r)}function bj(t,e,n,r){Pv(t.x,e.x,n.x,r),Pv(t.y,e.y,n.y,r)}function Aj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ij={duration:.45,ease:[.4,0,.1,1]},Nv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Ov=Nv("applewebkit/")&&!Nv("chrome/")?Math.round:_e;function Mv(t){t.min=Ov(t.min),t.max=Ov(t.max)}function Rj(t){Mv(t.x),Mv(t.y)}function _x(t,e,n){return t==="position"||t==="preserve-aspect"&&!Hh(xv(e),xv(n),.2)}const Pj=kx({attachResizeListener:(t,e)=>Pn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ld={current:void 0},bx=kx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ld.current){const t=new Pj({});t.mount(window),t.setOptions({layoutScroll:!0}),ld.current=t}return ld.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Nj={pan:{Feature:qL},drag:{Feature:WL,ProjectionNode:bx,MeasureLayout:Cx}},Oj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Mj(t){const e=Oj.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function zh(t,e,n=1){const[r,i]=Mj(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return lx(s)?parseFloat(s):s}else return Nh(i)?zh(i,e,n+1):i}function Lj(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!Nh(o))return;const s=zh(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!Nh(o))continue;const s=zh(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const jj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ax=t=>jj.has(t),Dj=t=>Object.keys(t).some(Ax),Lv=t=>t===mi||t===z,jv=(t,e)=>parseFloat(t.split(", ")[e]),Dv=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return jv(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?jv(o[1],t):0}},Uj=new Set(["x","y","z"]),Fj=la.filter(t=>!Uj.has(t));function Hj(t){const e=[];return Fj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const mo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Dv(4,13),y:Dv(5,14)};mo.translateX=mo.x;mo.translateY=mo.y;const Bj=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=mo[c](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=mo[c](l,o)}),t},$j=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Ax);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=$o(u);const h=e[l];let f;if(ic(h)){const g=h.length,v=h[0]===null?1:0;u=h[v],d=$o(u);for(let S=v;S<g&&h[S]!==null;S++)f?Eg($o(h[S])===f):f=$o(h[S])}else f=$o(h);if(d!==f)if(Lv(d)&&Lv(f)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===z&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(u===0||h===0)?u===0?c.set(f.transform(u)):e[l]=d.transform(h):(s||(o=Hj(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Bj(e,t,a);return o.length&&o.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),tu&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Vj(t,e,n,r){return Dj(e)?$j(t,e,n,r):{target:e,transitionEnd:r}}const zj=(t,e,n,r)=>{const i=Lj(t,e,r);return e=i.target,r=i.transitionEnd,Vj(t,e,n,r)},Kh={current:null},Ix={current:!1};function Kj(){if(Ix.current=!0,!!tu)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kh.current=t.matches;t.addListener(e),e()}else Kh.current=!1}function Gj(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(vt(o))t.addValue(i,o),lc(r)&&r.add(i);else if(vt(s))t.addValue(i,go(o,{owner:t})),lc(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,go(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Uv=new WeakMap,Rx=Object.keys(Ws),Wj=Rx.length,Fv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qj=fg.length;class Qj{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>he.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=iu(n),this.isVariantNode=pE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];a[d]!==void 0&&vt(h)&&(h.set(a[d],!1),lc(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Uv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ix.current||Kj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uv.delete(this.current),this.projection&&this.projection.unmount(),$n(this.notifyUpdate),$n(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=gi.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&he.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<Wj;l++){const c=Rx[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:f}=Ws[c];h&&(s=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),f&&(a=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&zi(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Fv.length;r++){const i=Fv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Gj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<qj;r++){const i=fg[r],o=this.props[i];(Gs(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=go(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Sg(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!vt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ng),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Px extends Qj{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=fL(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){dL(this,r,s);const a=zj(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Yj(t){return window.getComputedStyle(t)}class Jj extends Px{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(gi.has(n)){const r=bg(n);return r&&r.default||0}else{const r=Yj(e),i=(vE(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vx(e,n)}build(e,n,r,i){mg(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Cg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){xE(e,n,r,i)}}class Xj extends Px{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(gi.has(n)){const r=bg(n);return r&&r.default||0}return n=kE.has(n)?n:dg(n),e.getAttribute(n)}measureInstanceViewportBox(){return Re()}scrapeMotionValuesFromProps(e,n){return bE(e,n)}build(e,n,r,i){vg(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){_E(e,n,r,i)}mount(e){this.isSVGTag=wg(e.tagName),super.mount(e)}}const Zj=(t,e)=>gg(t)?new Xj(e,{enableHardwareAcceleration:!1}):new Jj(e,{enableHardwareAcceleration:!0}),eD={layout:{ProjectionNode:bx,MeasureLayout:Cx}},tD={...bL,...qO,...Nj,...eD},xt=rO((t,e)=>LO(t,e,tD,Zj));function Nx(){const t=C.useRef(!1);return nu(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function nD(){const t=Nx(),[e,n]=C.useState(0),r=C.useCallback(()=>{t.current&&n(e+1)},[e]);return[C.useCallback(()=>he.postRender(r),[r]),e]}class rD extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function iD({children:t,isPresent:e}){const n=C.useId(),r=C.useRef(null),i=C.useRef({width:0,height:0,top:0,left:0});return C.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),C.createElement(rD,{isPresent:e,childRef:r,sizeRef:i},C.cloneElement(t,{ref:r}))}const cd=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=Tg(oD),l=C.useId(),c=C.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return C.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),C.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=C.createElement(iD,{isPresent:n},t)),C.createElement(eu.Provider,{value:c},t)};function oD(){return new Map}function sD(t){return C.useEffect(()=>()=>t(),[])}const $r=t=>t.key||"";function aD(t,e){t.forEach(n=>{const r=$r(n);e.set(r,n)})}function lD(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const Qs=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=C.useContext(pg).forceRender||nD()[0],l=Nx(),c=lD(t);let u=c;const d=C.useRef(new Map).current,h=C.useRef(u),f=C.useRef(new Map).current,g=C.useRef(!0);if(nu(()=>{g.current=!1,aD(c,f),h.current=u}),sD(()=>{g.current=!0,f.clear(),d.clear()}),g.current)return C.createElement(C.Fragment,null,u.map(y=>C.createElement(cd,{key:$r(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},y)));u=[...u];const v=h.current.map($r),S=c.map($r),w=v.length;for(let y=0;y<w;y++){const m=v[y];S.indexOf(m)===-1&&!d.has(m)&&d.set(m,void 0)}return s==="wait"&&d.size&&(u=[]),d.forEach((y,m)=>{if(S.indexOf(m)!==-1)return;const T=f.get(m);if(!T)return;const x=v.indexOf(m);let I=y;if(!I){const _=()=>{d.delete(m);const k=Array.from(f.keys()).filter(R=>!S.includes(R));if(k.forEach(R=>f.delete(R)),h.current=c.filter(R=>{const O=$r(R);return O===m||k.includes(O)}),!d.size){if(l.current===!1)return;a(),r&&r()}};I=C.createElement(cd,{key:$r(T),isPresent:!1,onExitComplete:_,custom:e,presenceAffectsLayout:o,mode:s},T),d.set(m,I)}u.splice(x,0,I)}),u=u.map(y=>{const m=y.key;return d.has(m)?y:C.createElement(cd,{key:$r(y),isPresent:!0,presenceAffectsLayout:o,mode:s},y)}),C.createElement(C.Fragment,null,d.size?u:u.map(y=>C.cloneElement(y)))};function cD(t){t.values.forEach(e=>e.stop())}function uD(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(o=>{i.push(hx(o,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{uL(r,n)})},stop(){t.forEach(n=>{cD(n)})},mount(){return()=>{e.stop()}}};return e}function dD(){const t=Tg(uD);return nu(t.mount,[]),t}const hD=dD;function Ox(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ox(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Mx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ox(t))&&(r&&(r+=" "),r+=e);return r}function fD(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=Lx(e))&&(r&&(r+=" "),r+=n);return r}function Lx(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=Lx(t[r]))&&(n&&(n+=" "),n+=e);return n}var Mg="-";function pD(t){var e=mD(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(Mg);return l[0]===""&&l.length!==1&&l.shift(),jx(l,e)||gD(a)}function s(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function jx(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?jx(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(Mg);return(s=e.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var Hv=/^\[(.+)\]$/;function gD(t){if(Hv.test(t)){var e=Hv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function mD(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=vD(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];Gh(a,r,s,e)}),r}function Gh(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:Bv(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(yD(i)){Gh(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];Gh(l,Bv(e,a),n,r)})})}function Bv(t,e){var n=t;return e.split(Mg).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function yD(t){return t.isThemeGetter}function vD(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):s});return[r,o]}):t}function wD(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var Dx="!";function CD(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(s){for(var a=[],l=0,c=0,u,d=0;d<s.length;d++){var h=s[d];if(l===0){if(h===r&&(n||s.slice(d,d+i)===e)){a.push(s.slice(c,d)),c=d+i;continue}if(h==="/"){u=d;continue}}h==="["?l++:h==="]"&&l--}var f=a.length===0?s:s.substring(c),g=f.startsWith(Dx),v=g?f.substring(1):f,S=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:S}}}function SD(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function TD(t){return{cache:wD(t.cacheSize),splitModifiers:CD(t),...pD(t)}}var ED=/\s+/;function xD(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(ED).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,d=a.maybePostfixModifierPosition,h=r(d?u.substring(0,d):u),f=!!d;if(!h){if(!d)return{isTailwindClass:!1,originalClassName:s};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:s};f=!1}var g=SD(l).join(":"),v=c?g+Dx:g;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:s,hasPostfixModifier:f}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(function(d){return o.add(a+d)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function kD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(c){var u=e[0],d=e.slice(1),h=d.reduce(function(f,g){return g(f)},u());return r=TD(h),i=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){var u=i(c);if(u)return u;var d=xD(c,r);return o(c,d),d}return function(){return s(fD.apply(null,arguments))}}function fe(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var Ux=/^\[(?:([a-z-]+):)?(.+)\]$/i,_D=/^\d+\/\d+$/,bD=new Set(["px","full","screen"]),AD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ID=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RD=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Vt(t){return Yr(t)||bD.has(t)||_D.test(t)||Wh(t)}function Wh(t){return yi(t,"length",jD)}function PD(t){return yi(t,"size",Fx)}function ND(t){return yi(t,"position",Fx)}function OD(t){return yi(t,"url",DD)}function Wa(t){return yi(t,"number",Yr)}function Yr(t){return!Number.isNaN(Number(t))}function MD(t){return t.endsWith("%")&&Yr(t.slice(0,-1))}function zo(t){return $v(t)||yi(t,"number",$v)}function X(t){return Ux.test(t)}function Ko(){return!0}function Wn(t){return AD.test(t)}function LD(t){return yi(t,"",UD)}function yi(t,e,n){var r=Ux.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function jD(t){return ID.test(t)}function Fx(){return!1}function DD(t){return t.startsWith("url(")}function $v(t){return Number.isInteger(Number(t))}function UD(t){return RD.test(t)}function FD(){var t=fe("colors"),e=fe("spacing"),n=fe("blur"),r=fe("brightness"),i=fe("borderColor"),o=fe("borderRadius"),s=fe("borderSpacing"),a=fe("borderWidth"),l=fe("contrast"),c=fe("grayscale"),u=fe("hueRotate"),d=fe("invert"),h=fe("gap"),f=fe("gradientColorStops"),g=fe("gradientColorStopPositions"),v=fe("inset"),S=fe("margin"),w=fe("opacity"),y=fe("padding"),m=fe("saturate"),T=fe("scale"),x=fe("sepia"),I=fe("skew"),_=fe("space"),k=fe("translate"),R=function(){return["auto","contain","none"]},O=function(){return["auto","hidden","clip","visible","scroll"]},G=function(){return["auto",X,e]},L=function(){return[X,e]},Q=function(){return["",Vt]},ee=function(){return["auto",Yr,X]},ie=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},V=function(){return["solid","dashed","dotted","double","none"]},oe=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},M=function(){return["start","end","center","between","around","evenly","stretch"]},j=function(){return["","0",X]},D=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},B=function(){return[Yr,Wa]},te=function(){return[Yr,X]};return{cacheSize:500,theme:{colors:[Ko],spacing:[Vt],blur:["none","",Wn,X],brightness:B(),borderColor:[t],borderRadius:["none","","full",Wn,X],borderSpacing:L(),borderWidth:Q(),contrast:B(),grayscale:j(),hueRotate:te(),invert:j(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[MD,Wh],inset:G(),margin:G(),opacity:B(),padding:L(),saturate:B(),scale:B(),sepia:j(),skew:te(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",X]}],container:["container"],columns:[{columns:[Wn]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ie(),[X])}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zo]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",X]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",zo]}],"grid-cols":[{"grid-cols":[Ko]}],"col-start-end":[{col:["auto",{span:["full",zo]},X]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Ko]}],"row-start-end":[{row:["auto",{span:[zo]},X]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",X]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",X]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(M())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(M(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(M(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",X,e]}],"min-w":[{"min-w":["min","max","fit",X,Vt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Wn]},Wn,X]}],h:[{h:[X,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",X,Vt]}],"max-h":[{"max-h":[X,e,"min","max","fit"]}],"font-size":[{text:["base",Wn,Wh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wa]}],"font-family":[{font:[Ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",X]}],"line-clamp":[{"line-clamp":["none",Yr,Wa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",X,Vt]}],"list-image":[{"list-image":["none",X]}],"list-style-type":[{list:["none","disc","decimal",X]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(V(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Vt]}],"underline-offset":[{"underline-offset":["auto",X,Vt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ie(),[ND])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[].concat(V(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(V())}],"outline-offset":[{"outline-offset":[X,Vt]}],"outline-w":[{outline:[Vt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Vt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wn,LD]}],"shadow-color":[{shadow:[Ko]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":oe()}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wn,X]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[m]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",X]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",X]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",X]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[zo,X]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",X]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Vt,Wa]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var HD=kD(FD);function Pr(...t){return HD(Mx(t))}function Vv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function BD(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Vv(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Vv(t[i],null)}}}}function $D(t){const e=zD(t),n=C.forwardRef((r,i)=>{const{children:o,...s}=r,a=C.Children.toArray(o),l=a.find(GD);if(l){const c=l.props.children,u=a.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return p.jsx(e,{...s,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,u):null})}return p.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var VD=$D("Slot");function zD(t){const e=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const s=qD(i),a=WD(o,i.props);return i.type!==C.Fragment&&(a.ref=r?BD(r,s):s),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var KD=Symbol("radix.slottable");function GD(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===KD}function WD(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function qD(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const zv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Kv=Mx,QD=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Kv(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const h=zv(u)||zv(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(g=>{let[v,S]=g;return Array.isArray(S)?S.includes({...o,...a}[v]):{...o,...a}[v]===S})?[...c,d,h]:c},[]);return Kv(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},YD=QD("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),De=je.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?VD:"button";return p.jsx(s,{className:Pr(YD({variant:e,size:n,className:t})),ref:o,...i})});De.displayName="Button";const Hx=je.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Pr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Hx.displayName="Input";const ei=je.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Pr("rounded-lg border bg-card text-card-foreground card-shadow",t),...e}));ei.displayName="Card";const Bx=je.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Pr("flex flex-col space-y-1.5 p-6",t),...e}));Bx.displayName="CardHeader";const $x=je.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Pr("text-2xl font-semibold leading-none tracking-tight",t),...e}));$x.displayName="CardTitle";const JD=je.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Pr("text-sm text-muted-foreground",t),...e}));JD.displayName="CardDescription";const ti=je.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Pr("p-6 pt-0",t),...e}));ti.displayName="CardContent";const XD=je.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Pr("flex items-center p-6 pt-0",t),...e}));XD.displayName="CardFooter";var ZD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ln=(t,e)=>{const n=C.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>C.createElement("svg",{ref:c,...ZD,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${eU(t)}`,...l},[...e.map(([u,d])=>C.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},tU=ln("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),nU=ln("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),rU=ln("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),iU=ln("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),oU=ln("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),sU=ln("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Vx=ln("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),aU=ln("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),lU=ln("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ud=ln("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),cU=ln("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>li(()=>Promise.resolve().then(()=>Po),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Lg extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class dU extends Lg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hU extends Lg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fU extends Lg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qh||(qh={}));var pU=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class gU{constructor(e,{headers:n={},customFetch:r,region:i=qh.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=uU(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return pU(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new dU(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new hU(u);if(!u.ok)throw new fU(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var ft={},jg={},lu={},ha={},cu={},uu={},mU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yo=mU();const yU=yo.fetch,zx=yo.fetch.bind(yo),Kx=yo.Headers,vU=yo.Request,wU=yo.Response,Po=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kx,Request:vU,Response:wU,default:zx,fetch:yU},Symbol.toStringTag,{value:"Module"})),CU=Ik(Po);var du={};Object.defineProperty(du,"__esModule",{value:!0});let SU=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};du.default=SU;var Gx=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uu,"__esModule",{value:!0});const TU=Gx(CU),EU=Gx(du);let xU=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=TU.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let c=null,u=null,d=null,h=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=w:u=JSON.parse(w))}const v=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),S=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&S&&S.length>1&&(d=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await o.text();try{c=JSON.parse(v),Array.isArray(c)&&o.status===404&&(u=[],c=null,h=200,f="OK")}catch{o.status===404&&v===""?(h=204,f="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new EU.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};uu.default=xU;var kU=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cu,"__esModule",{value:!0});const _U=kU(uu);let bU=class extends _U.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};cu.default=bU;var AU=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ha,"__esModule",{value:!0});const IU=AU(cu);let RU=class extends IU.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ha.default=RU;var PU=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lu,"__esModule",{value:!0});const Go=PU(ha);let NU=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Go.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Go.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){const s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Go.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Go.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Go.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};lu.default=NU;var hu={},fu={};Object.defineProperty(fu,"__esModule",{value:!0});fu.version=void 0;fu.version="0.0.0-automated";Object.defineProperty(hu,"__esModule",{value:!0});hu.DEFAULT_HEADERS=void 0;const OU=fu;hu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${OU.version}`};var Wx=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jg,"__esModule",{value:!0});const MU=Wx(lu),LU=Wx(ha),jU=hu;let DU=class qx{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},jU.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new MU.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){let s;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new LU.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};jg.default=DU;var No=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ft,"__esModule",{value:!0});ft.PostgrestError=ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const Qx=No(jg);ft.PostgrestClient=Qx.default;const Yx=No(lu);ft.PostgrestQueryBuilder=Yx.default;const Jx=No(ha);ft.PostgrestFilterBuilder=Jx.default;const Xx=No(cu);ft.PostgrestTransformBuilder=Xx.default;const Zx=No(uu);ft.PostgrestBuilder=Zx.default;const ek=No(du);ft.PostgrestError=ek.default;var UU=ft.default={PostgrestClient:Qx.default,PostgrestQueryBuilder:Yx.default,PostgrestFilterBuilder:Jx.default,PostgrestTransformBuilder:Xx.default,PostgrestBuilder:Zx.default,PostgrestError:ek.default};const{PostgrestClient:FU,PostgrestQueryBuilder:LH,PostgrestFilterBuilder:jH,PostgrestTransformBuilder:DH,PostgrestBuilder:UH,PostgrestError:FH}=UU,HU="2.11.2",BU={"X-Client-Info":`realtime-js/${HU}`},$U="1.0.0",tk=1e4,VU=1e3;var ro;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ro||(ro={}));var Tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tt||(Tt={}));var qt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qt||(qt={}));var Qh;(function(t){t.websocket="websocket"})(Qh||(Qh={}));var zr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zr||(zr={}));class zU{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+o));s=s+o;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class nk{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ue||(ue={}));const Gv=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=KU(s,t,e,i),o),{})},KU=(t,e,n,r)=>{const i=e.find(a=>a.name===t),o=i==null?void 0:i.type,s=n[t];return o&&!r.includes(o)?rk(o,s):Yh(s)},rk=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return QU(e,n)}switch(t){case ue.bool:return GU(e);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return WU(e);case ue.json:case ue.jsonb:return qU(e);case ue.timestamp:return YU(e);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Yh(e);default:return Yh(e)}},Yh=t=>t,GU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},WU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},QU=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>rk(e,a))}return t},YU=t=>typeof t=="string"?t.replace(" ","T"):t,ik=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class dd{constructor(e,n,r={},i=tk){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wv||(Wv={}));class Cs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cs.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=Cs.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Cs.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),s=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=o[c];if(d){const h=u.map(S=>S.presence_ref),f=d.map(S=>S.presence_ref),g=u.filter(S=>f.indexOf(S.presence_ref)<0),v=d.filter(S=>h.indexOf(S.presence_ref)<0);g.length>0&&(a[c]=g),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qv||(qv={}));var Qv;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Qv||(Qv={}));var _n;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class Dg{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dd(this,qt.join,this.params,this.timeout),this.rejoinTimer=new nk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Cs(this),this.broadcastEndpointURL=ik(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>e==null?void 0:e(_n.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(_n.CLOSED));const l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(_n.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let v=0;v<f;v++){const S=h[v],{filter:{event:w,schema:y,table:m,filter:T}}=S,x=u&&u[v];if(x&&x.event===w&&x.schema===y&&x.table===m&&x.filter===T)g.push(Object.assign(Object.assign({},S),{id:x.id}));else{this.unsubscribe(),e==null||e(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(_n.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new dd(this,qt.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new dd(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=qt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,v,S;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((S=(v=f.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,v,S,w,y,m;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){const T=f.id,x=(g=f.filter)===null||g===void 0?void 0:g.event;return T&&((v=n.ids)===null||v===void 0?void 0:v.includes(T))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const T=(y=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return T==="*"||T===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:S,commit_timestamp:w,type:y,errors:m}=g;h=Object.assign(Object.assign({},{schema:v,table:S,commit_timestamp:w,eventType:y,new:{},old:{},errors:m}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Dg.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qt.close,{},e)}_onError(e){this._on(qt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Gv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Gv(e.columns,e.old_record)),n}}const JU=()=>{},XU=typeof WebSocket<"u",ZU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e2{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=BU,this.params={},this.timeout=tk,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=JU,this.conn=null,this.sendBuffer=[],this.serializer=new zU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>li(()=>Promise.resolve().then(()=>Po),void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${Qh.websocket}`,this.httpEndpoint=ik(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new nk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(XU){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new t2(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),li(()=>import("./browser-94394209.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$U}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ro.connecting:return zr.Connecting;case ro.open:return zr.Open;case ro.closing:return zr.Closing;default:return zr.Closed}}isConnected(){return this.connectionState()===zr.Open}channel(e,n={config:{}}){const r=new Dg(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(qt.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(VU,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:o,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(qt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ZU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class t2{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ro.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Ug extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Fe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class n2 extends Ug{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jh extends Ug{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var r2=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ok=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>li(()=>Promise.resolve().then(()=>Po),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},i2=()=>r2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield li(()=>Promise.resolve().then(()=>Po),void 0)).Response:Response}),Xh=t=>{if(Array.isArray(t))return t.map(n=>Xh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Xh(r)}),e};var vi=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const hd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),o2=(t,e,n)=>vi(void 0,void 0,void 0,function*(){const r=yield i2();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new n2(hd(i),t.status||500))}).catch(i=>{e(new Jh(hd(i),i))}):e(new Jh(hd(t),t))}),s2=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function fa(t,e,n,r,i,o){return vi(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,s2(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>o2(l,a,r))})})}function uc(t,e,n,r){return vi(this,void 0,void 0,function*(){return fa(t,"GET",e,n,r)})}function tr(t,e,n,r,i){return vi(this,void 0,void 0,function*(){return fa(t,"POST",e,r,i,n)})}function a2(t,e,n,r,i){return vi(this,void 0,void 0,function*(){return fa(t,"PUT",e,r,i,n)})}function l2(t,e,n,r){return vi(this,void 0,void 0,function*(){return fa(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function sk(t,e,n,r,i){return vi(this,void 0,void 0,function*(){return fa(t,"DELETE",e,r,i,n)})}var ut=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const c2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u2{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=ok(i)}uploadOrUpdate(e,n,r,i){return ut(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},Yv),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:o,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}upload(e,n,r){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ut(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Yv.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ut(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield tr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Ug("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}update(e,n,r){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ut(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ut(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ut(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield tr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ut(this,void 0,void 0,function*(){try{const i=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}})}download(e,n){return ut(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield uc(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Fe(a))return{data:null,error:a};throw a}})}info(e){return ut(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield uc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xh(r),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}exists(e){return ut(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield l2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Fe(r)&&r instanceof Jh){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return ut(this,void 0,void 0,function*(){try{return{data:yield sk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}list(e,n,r){return ut(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},c2),n),{prefix:e||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const d2="2.7.1",h2={"X-Client-Info":`storage-js/${d2}`};var Ti=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class f2{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},h2),n),this.fetch=ok(r)}listBuckets(){return Ti(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Fe(e))return{data:null,error:e};throw e}})}getBucket(e){return Ti(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ti(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ti(this,void 0,void 0,function*(){try{return{data:yield a2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ti(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ti(this,void 0,void 0,function*(){try{return{data:yield sk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}}class p2 extends f2{constructor(e,n={},r){super(e,n,r)}from(e){return new u2(this.url,this.headers,e,this.fetch)}}const g2="2.49.4";let ns="";typeof Deno<"u"?ns="deno":typeof document<"u"?ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ns="react-native":ns="node";const m2={"X-Client-Info":`supabase-js-${ns}/${g2}`},y2={headers:m2},v2={schema:"public"},w2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},C2={};var S2=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const T2=t=>{let e;return t?e=t:typeof fetch>"u"?e=zx:e=fetch,(...n)=>e(...n)},E2=()=>typeof Headers>"u"?Kx:Headers,x2=(t,e,n)=>{const r=T2(n),i=E2();return(o,s)=>S2(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var k2=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function _2(t){return t.replace(/\/$/,"")}function b2(t,e){const{db:n,auth:r,realtime:i,global:o}=t,{db:s,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>k2(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const ak="2.69.1",Ri=30*1e3,Zh=3,fd=Zh*Ri,A2="http://localhost:9999",I2="supabase.auth.token",R2={"X-Client-Info":`gotrue-js/${ak}`},ef="X-Supabase-Api-Version",lk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,N2=6e5;class Fg extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class O2 extends Fg{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function M2(t){return q(t)&&t.name==="AuthApiError"}class ck extends Fg{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Nr extends Fg{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Yn extends Nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L2(t){return q(t)&&t.name==="AuthSessionMissingError"}class pd extends Nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qa extends Nr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qa extends Nr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function j2(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Jv extends Nr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tf extends Nr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function gd(t){return q(t)&&t.name==="AuthRetryableFetchError"}class Xv extends Nr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ss extends Nr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ew=` 	
\r=`.split(""),D2=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ew.length;e+=1)t[ew[e].charCodeAt(0)]=-2;for(let e=0;e<Zv.length;e+=1)t[Zv[e].charCodeAt(0)]=e;return t})();function uk(t,e,n){const r=D2[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tw(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{H2(s,r,n)};for(let s=0;s<t.length;s+=1)uk(t.charCodeAt(s),i,o);return e.join("")}function U2(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function F2(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}U2(r,e)}}function H2(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function B2(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)uk(t.charCodeAt(i),n,r);return new Uint8Array(e)}function $2(t){const e=[];return F2(t,n=>e.push(n)),new Uint8Array(e)}function V2(t){return Math.round(Date.now()/1e3)+t}function z2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const dn=()=>typeof window<"u"&&typeof document<"u",jr={tested:!1,writable:!1},Ts=()=>{if(!dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jr.tested)return jr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),jr.tested=!0,jr.writable=!0}catch{jr.tested=!0,jr.writable=!1}return jr.writable};function K2(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const dk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>li(()=>Promise.resolve().then(()=>Po),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},G2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hk=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ya=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ja=async(t,e)=>{await t.removeItem(e)};class pu{constructor(){this.promise=new pu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}pu.promiseConstructor=Promise;function md(t){const e=t.split(".");if(e.length!==3)throw new Ss("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!P2.test(e[r]))throw new Ss("JWT not in base64url format");return{header:JSON.parse(tw(e[0])),payload:JSON.parse(tw(e[1])),signature:B2(e[2]),raw:{header:e[0],payload:e[1]}}}async function W2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function q2(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function Q2(t){return("0"+t.toString(16)).substr(-2)}function Y2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Q2).join("")}async function J2(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function X2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await J2(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ei(t,e,n=!1){const r=Y2();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await hk(t,`${e}-code-verifier`,i);const o=await X2(r);return[o,r===o?"plain":"s256"]}const Z2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eF(t){const e=t.headers.get(ef);if(!e||!e.match(Z2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function nF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var rF=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Vr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iF=[502,503,504];async function nw(t){var e;if(!G2(t))throw new tf(Vr(t),0);if(iF.includes(t.status))throw new tf(Vr(t),t.status);let n;try{n=await t.json()}catch(o){throw new ck(Vr(o),o)}let r;const i=eF(t);if(i&&i.getTime()>=lk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xv(Vr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Xv(Vr(n),t.status,n.weak_password.reasons);throw new O2(Vr(n),t.status||500,r)}const oF=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Z(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[ef]||(o[ef]=lk["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await sF(t,e,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function sF(t,e,n,r,i,o){const s=oF(e,r,i,o);let a;try{a=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new tf(Vr(l),0)}if(a.ok||await nw(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await nw(l)}}function Jn(t){var e;let n=null;uF(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=V2(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function rw(t){const e=Jn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function or(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aF(t){return{data:t,error:null}}function lF(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=rF(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function cF(t){return t}function uF(t){return t.access_token&&t.refresh_token&&t.expires_in}var dF=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class hF{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=dk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:or})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=dF(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:lF,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:or})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:cF});if(u.error)throw u.error;const d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(g.split(";")[1].split("=")[1]);c[`${S}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:or})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:or})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:or})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}const fF={getItem:t=>Ts()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ts()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ts()&&globalThis.localStorage.removeItem(t)}};function iw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function pF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xi={debug:!!(globalThis&&Ts()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gF extends fk{}async function mF(t,e,n){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}pF();const yF={url:A2,storageKey:I2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:R2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ow(t,e,n){return await n()}class Ys{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ys.nextInstanceID,Ys.nextInstanceID+=1,this.instanceID>0&&dn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},yF),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=dk(i.fetch),this.lock=i.lock||ow,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:dn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=mF:this.lock=ow,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Ts()?this.storage=fF:(this.memoryStorage={},this.storage=iw(this.memoryStorage)):(this.memoryStorage={},this.storage=iw(this.memoryStorage)),dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ak}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=K2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),dn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),j2(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new ck("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jn}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Ei(this.storage,this.storageKey)),o=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:Jn})}else if("phone"in e){const{phone:u,password:d,options:h}=e;o=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Jn})}else throw new qa("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:s,options:a}=e;n=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rw})}else if("phone"in e){const{phone:o,password:s,options:a}=e;n=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rw})}else throw new qa("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new pd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Ya(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Jn});if(await Ja(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new pd}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(q(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=e,a=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,o,s;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ei(this.storage,this.storageKey));const{error:d}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new qa("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Jn});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await Ei(this.storage,this.storageKey)),await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:aF})}catch(o){if(q(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Yn;const{error:i}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:s}=await Z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:s,error:a}=await Z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new qa("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<fd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:or}):await this._useSession(async n=>{var r,i,o;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:or})})}catch(n){if(q(n))return L2(n)&&(await this._removeSession(),await Ja(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Yn;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ei(this.storage,this.storageKey));const{data:c,error:u}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:or});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=md(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Yn;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!dn())throw new Qa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Jv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Jv("No code detected.");const{data:y,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!s||!c)throw new Qa("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:v,error:S}=await this._getUser(o);if(S)throw S;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:s,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ya(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(M2(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ja(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=z2(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ei(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(q(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,a,l,c,u;const{data:d,error:h}=o;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return dn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await q2(async i=>(i>0&&await W2(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jn})),(i,o)=>{const s=200*Math.pow(2,i);return o&&gd(o)&&Date.now()+s-r<Ri})}catch(r){if(this._debug(n,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),dn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ya(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<fd;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${fd}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),gd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new pu;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new Yn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),q(o)){const s={session:null,error:o};return gd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hk(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ja(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&dn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ri);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ri}ms, refresh threshold is ${Zh} ticks`),i<=Zh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await Ei(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:a}=await Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=md(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r||(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+N2>Date.now()))return r;const{data:i,error:o}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new Ss("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(s=>s.kid===e),!r)throw new Ss("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};r=f.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:l}}=md(r);if(tF(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:o,header:i,signature:s},error:null}}const c=nF(i.alg),u=await this.fetchJwk(i.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,$2(`${a}.${l}`)))throw new Ss("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}Ys.nextInstanceID=0;const vF=Ys;class wF extends vF{constructor(e){super(e)}}var CF=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class SF{constructor(e,n,r){var i,o,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=_2(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:v2,realtime:C2,auth:Object.assign(Object.assign({},w2),{storageKey:l}),global:y2},u=b2(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=x2(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new FU(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new gU(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new p2(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return CF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wF({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new e2(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pk=(t,e,n)=>new SF(t,e,n),TF="https://merambntyjutvpocjyin.supabase.co",EF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1lcmFtYm50eWp1dHZwb2NqeWluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU3MTIyNTMsImV4cCI6MjA2MTI4ODI1M30.NSB7wKx5AKND5jK-PTKY-AQRVHmpxtCBGaIsEUuQ0MI",nf=pk(TF,EF),io=pk("https://merambntyjutvpocjyin.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1lcmFtYm50eWp1dHZwb2NqeWluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU3MTIyNTMsImV4cCI6MjA2MTI4ODI1M30.NSB7wKx5AKND5jK-PTKY-AQRVHmpxtCBGaIsEUuQ0MI");async function xF(t,e){try{const{error:n}=await t.from("profiles").insert(e);if(n)throw n}catch(n){throw console.error("Error creating user profile:",n),n}}const sw=async()=>{var e;const{data:{user:t}}=await nf.auth.getUser();if(!t)return null;if((e=t.user_metadata)!=null&&e.role){const{error:n}=await nf.auth.updateUser({data:{role:t.user_metadata.role}});return n&&console.error("Error syncing role:",n),t.user_metadata.role}return null},zt=[{question:"What's your full name?",field:"name",type:"text",icon:p.jsx(oU,{className:"w-5 h-5 text-[hsl(var(--coral))]"}),placeholder:"Enter your full name",achievement:"Nice to meet you! 👋"},{question:"How can we reach you?",field:"email",type:"email",icon:p.jsx(Vx,{className:"w-5 h-5 text-[hsl(var(--purple))]"}),placeholder:"Enter your email",achievement:"Perfect! We'll keep in touch 📧"},{question:"What field are you passionate about?",field:"field",type:"text",icon:p.jsx(nU,{className:"w-5 h-5 text-[hsl(var(--mint))]"}),placeholder:"e.g., Marketing, Technology, Design",achievement:"That's an exciting field! 🌟"},{question:"Do you have any dream companies?",field:"dream_companies",type:"text",icon:p.jsx(rU,{className:"w-5 h-5 text-[hsl(var(--sky))]"}),placeholder:"e.g., Google, Apple, Startup",achievement:"Dream big! We'll help you get there 🚀"}];function kF({isVisible:t,onClose:e}){const[n,r]=C.useState(0),[i,o]=C.useState({}),[s,a]=C.useState(""),[l,c]=C.useState(!1),[u,d]=C.useState(!1);C.useEffect(()=>{s.trim()?c(!0):c(!1)},[s]);const h=async()=>{if(!s.trim())return;const v={...i,[zt[n].field]:s};try{const{error:S}=await nf.from("survey_responses").insert([v]);if(S)throw S;d(!0),setTimeout(()=>{e(),r(0),o({}),a(""),d(!1)},5e3)}catch(S){console.error("Error submitting survey:",S)}},f=()=>{if(!s.trim())return;const v=zt[n];o(S=>({...S,[v.field]:s})),a(""),c(!1),r(S=>S+1)},g=v=>{v.key==="Enter"&&(n===zt.length-1?h():f())};return t?p.jsx(xt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 flex items-center justify-center bg-black/20 backdrop-blur-sm z-50 p-4",onClick:()=>{d(!1),r(0),o({}),a(""),e()},children:p.jsxs(ei,{className:"w-full max-w-md mx-auto bg-white/95",onClick:v=>v.stopPropagation(),children:[p.jsx(Bx,{children:p.jsxs($x,{className:"flex items-center gap-2",children:[u?p.jsx(ud,{className:"w-5 h-5 text-[hsl(var(--purple))]"}):zt[n].icon,"Let's Get Started!"]})}),p.jsx(ti,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsx(Qs,{mode:"wait",children:u?p.jsxs(xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[p.jsx(ud,{className:"w-12 h-12 text-[hsl(var(--purple))] mx-auto mb-4"}),p.jsxs("p",{className:"text-2xl font-semibold mb-2",children:["Thanks, ",i.name,"! ✨"]}),p.jsx("p",{className:"text-lg text-muted-foreground",children:"We'll contact you soon to help you find the perfect internship opportunity."})]}):p.jsxs(xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[p.jsx("p",{className:"text-lg mb-2",children:zt[n].question}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Hx,{type:zt[n].type,placeholder:zt[n].placeholder,value:s,onChange:v=>a(v.target.value),onKeyPress:g,className:"border-2"}),p.jsx(De,{onClick:n===zt.length-1?h:f,className:"button-gradient",disabled:!s.trim(),children:n===zt.length-1?p.jsx(ud,{className:"w-5 h-5"}):p.jsx(lU,{className:"w-5 h-5"})})]}),p.jsx(Qs,{children:l&&p.jsx(xt.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-sm text-[hsl(var(--mint))] mt-2 font-medium",children:zt[n].achievement})})]},n)}),!u&&p.jsx("div",{className:"flex justify-center mt-4",children:zt.map((v,S)=>p.jsx("div",{className:`w-2 h-2 rounded-full mx-1 transition-colors duration-300 ${S===n?"bg-[hsl(var(--mint))]":"bg-gray-200"}`},S))})]})})]})}):null}const _F=(t,e,n,r)=>{var o,s,a,l;const i=[n,{code:e,...r||{}}];if((s=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);ni(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},aw={},rf=(t,e,n,r)=>{ni(n)&&aw[n]||(ni(n)&&(aw[n]=new Date),_F(t,e,n,r))},gk=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},of=(t,e,n)=>{t.loadNamespaces(e,gk(t,n))},lw=(t,e,n,r)=>{if(ni(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return of(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,gk(t,r))},bF=(t,e,n={})=>!e.languages||!e.languages.length?(rf(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),ni=t=>typeof t=="string",AF=t=>typeof t=="object"&&t!==null,IF=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,RF={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},PF=t=>RF[t],NF=t=>t.replace(IF,PF);let sf={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:NF};const OF=(t={})=>{sf={...sf,...t}},MF=()=>sf;let mk;const LF=t=>{mk=t},jF=()=>mk,DF={type:"3rdParty",init(t){OF(t.options.react),LF(t)}},UF=C.createContext();class FF{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const HF=(t,e)=>{const n=C.useRef();return C.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current},yk=(t,e,n,r)=>t.getFixedT(e,n,r),BF=(t,e,n,r)=>C.useCallback(yk(t,e,n,r),[t,e,n,r]),$F=(t,e={})=>{var T,x,I,_;const{i18n:n}=e,{i18n:r,defaultNS:i}=C.useContext(UF)||{},o=n||r||jF();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new FF),!o){rf(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const k=(O,G)=>ni(G)?G:AF(G)&&ni(G.defaultValue)?G.defaultValue:Array.isArray(O)?O[O.length-1]:O,R=[k,{},!1];return R.t=k,R.i18n={},R.ready=!1,R}(T=o.options.react)!=null&&T.wait&&rf(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...MF(),...o.options.react,...e},{useSuspense:a,keyPrefix:l}=s;let c=t||i||((x=o.options)==null?void 0:x.defaultNS);c=ni(c)?[c]:c||["translation"],(_=(I=o.reportNamespaces).addUsedNamespaces)==null||_.call(I,c);const u=(o.isInitialized||o.initializedStoreOnce)&&c.every(k=>bF(k,o,s)),d=BF(o,e.lng||null,s.nsMode==="fallback"?c:c[0],l),h=()=>d,f=()=>yk(o,e.lng||null,s.nsMode==="fallback"?c:c[0],l),[g,v]=C.useState(h);let S=c.join();e.lng&&(S=`${e.lng}${S}`);const w=HF(S),y=C.useRef(!0);C.useEffect(()=>{const{bindI18n:k,bindI18nStore:R}=s;y.current=!0,!u&&!a&&(e.lng?lw(o,e.lng,c,()=>{y.current&&v(f)}):of(o,c,()=>{y.current&&v(f)})),u&&w&&w!==S&&y.current&&v(f);const O=()=>{y.current&&v(f)};return k&&(o==null||o.on(k,O)),R&&(o==null||o.store.on(R,O)),()=>{y.current=!1,o&&(k==null||k.split(" ").forEach(G=>o.off(G,O))),R&&o&&R.split(" ").forEach(G=>o.store.off(G,O))}},[o,S]),C.useEffect(()=>{y.current&&u&&v(h)},[o,l,u]);const m=[g,o,u];if(m.t=g,m.i18n=o,m.ready=u,u||!u&&!a)return m;throw new Promise(k=>{e.lng?lw(o,e.lng,c,()=>k()):of(o,c,()=>k())})};function VF(){const{t}=$F();return p.jsx("footer",{className:"bg-white border-t mt-8 sm:mt-16",children:p.jsxs("div",{className:"container mx-auto px-4 py-8 sm:py-12",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-8",children:[p.jsxs("div",{className:"space-y-4 w-full sm:w-auto",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("img",{alt:"StageQuest Logo",className:"h-8 w-auto",src:"https://images.unsplash.com/photo-1532759238051-32b615b1efb8"}),p.jsx("span",{className:"font-bold text-xl",children:"StageQuest"})]}),p.jsx("p",{className:"text-muted-foreground",style:{whiteSpace:"pre-line"},children:t(`We don't offer listings—we place you inside. 
 Real internships, real companies, real experience. 
 You're not browsing. You're building.`)})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:flex-row gap-8 w-full sm:w-auto",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-3 sm:mb-4",children:t("Quick Links")}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"#services",className:"text-muted-foreground hover:text-foreground",children:t("header.services")})}),p.jsx("li",{children:p.jsx("a",{href:"#about",className:"text-muted-foreground hover:text-foreground",children:t("about.title")})}),p.jsx("li",{children:p.jsx("a",{href:"#faq",className:"text-muted-foreground hover:text-foreground",children:t("faq.title")})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-3 sm:mb-4",children:t("Contact")}),p.jsx("ul",{className:"space-y-2",children:p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx(Vx,{className:"w-4 h-4"}),p.jsx("a",{href:"mailto:hello@stagequest.com",className:"text-muted-foreground hover:text-foreground",children:"hello@stagequest.com"})]})})]}),p.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[p.jsx("h3",{className:"font-semibold mb-3 sm:mb-4",children:t("Follow Us")}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:p.jsx(iU,{className:"w-5 h-5"})}),p.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:p.jsx(sU,{className:"w-5 h-5"})})]})]})]})]}),p.jsx("div",{className:"border-t mt-6 sm:mt-8 pt-6 sm:pt-8",children:p.jsx("p",{className:"text-muted-foreground italic text-center w-full",style:{fontFamily:"'Times New Roman', serif",fontSize:"clamp(1.25rem, 4vw, 1.875rem)",fontStyle:"italic",opacity:.6},children:t("You're not browsing. You're building.")})})]})})}const cw=({children:t,requiredRole:e,redirectPath:n="/login"})=>{const[r,i]=C.useState(null),[o,s]=C.useState(null),[a,l]=C.useState(!0);Kn();const c=zn();return C.useEffect(()=>{let u=!0;(async()=>{try{const{data:{session:f}}=await io.auth.getSession();if(u&&(i(!!f),f)){const g=await sw();s(g)}}catch(f){console.error("Auth check failed:",f),u&&i(!1)}finally{u&&l(!1)}})();const{data:{subscription:h}}=supabase.auth.onAuthStateChange(async(f,g)=>{if(u&&(i(!!g),g)){const v=await sw();s(v)}});return()=>{u=!1,h.unsubscribe()}},[]),a?p.jsx("div",{children:"Loading..."}):r?e&&o!==e?p.jsx(ny,{to:"/"}):t||p.jsx(iI,{}):p.jsx(ny,{to:n,state:{from:c.pathname},replace:!0})};function zF(){return p.jsxs("section",{className:"container mx-auto px-4 py-16",children:[p.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Recreuter Dashboard"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[p.jsx(ei,{children:p.jsxs(ti,{className:"p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Post an Internship"}),p.jsx("p",{children:"Create and manage your internship postings for students."})]})}),p.jsx(ei,{children:p.jsxs(ti,{className:"p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Applications"}),p.jsx("p",{children:"View and review student applications in one place."})]})})]})]})}var vk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uw=je.createContext&&je.createContext(vk),KF=["attr","size","title"];function GF(t,e){if(t==null)return{};var n=WF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(this,arguments)}function dw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dw(Object(n),!0).forEach(function(r){qF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qF(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=YF(t,"string");return typeof e=="symbol"?e:e+""}function YF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wk(t){return t&&t.map((e,n)=>je.createElement(e.tag,hc({key:n},e.attr),wk(e.child)))}function pa(t){return e=>je.createElement(JF,dc({attr:hc({},t.attr)},e),wk(t.child))}function JF(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=GF(t,KF),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),je.createElement("svg",dc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:hc(hc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&je.createElement("title",null,o),t.children)};return uw!==void 0?je.createElement(uw.Consumer,null,n=>e(n)):e(vk)}function Ck(t){return pa({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(t)}function vo(t){return pa({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},child:[]}]})(t)}function wo(t){return pa({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},child:[]}]})(t)}function Sk(t){return pa({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(t)}function Tk(t){return pa({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"},child:[]}]})(t)}function Ek({open:t,onClose:e,title:n,children:r,mobileFullscreen:i=!1}){const o=C.useRef(null);C.useEffect(()=>{if(!t)return;function a(l){l.key==="Escape"&&e()}return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[t,e]);function s(a){a.target===o.current&&e()}return p.jsx(Qs,{children:t&&p.jsx(xt.div,{ref:o,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",style:{touchAction:"none"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.2}},onClick:s,"aria-modal":"true",role:"dialog","aria-labelledby":n?"dialog-title":void 0,children:p.jsxs(xt.div,{className:`
              ${i?"w-full h-[100dvh] fixed top-0 left-0 bg-white dark:bg-slate-900 rounded-none overflow-y-auto":"w-[95vw] max-w-md rounded-2xl bg-white dark:bg-slate-900 shadow-xl m-4 max-h-[90vh] overflow-y-auto"}
              flex flex-col outline-none
            `,initial:{y:i?40:32,opacity:0,scale:i?1:.98},animate:{y:0,opacity:1,scale:1,transition:{type:"spring",duration:.4}},exit:{y:i?40:32,opacity:0,scale:i?1:.98,transition:{duration:.2}},tabIndex:-1,role:"document",children:[n&&p.jsx("h2",{id:"dialog-title",className:"text-2xl font-bold px-6 pt-6 pb-2 mb-1",children:n}),r]})})})}function XF({onSwitchForm:t,onClose:e}){const[n,r]=C.useState(!1),[i,o]=C.useState(""),[s,a]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState(!1),[h,f]=C.useState({email:!1,password:!1}),g=Kn(),v=/^\S+@\S+\.\S+$/.test(s),S=l.length>=6,w=v&&S;async function y(m){if(m.preventDefault(),f({email:!0,password:!0}),!!w){r(!0),o("");try{const T=await fetch("http://localhost:3000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:l})});if(!T.ok){let I="Login failed. Please check your credentials.";try{const _=await T.json();I=_.error||_.message||I}catch(_){console.error("Failed to parse error response as JSON:",_)}throw new Error(I)}const x=await T.json();console.log("Login successful:",x),x.token&&localStorage.setItem("recruiter_token",x.token),x.user&&localStorage.setItem("recruiter_user",JSON.stringify(x.user)),e&&e(),g("/helloR")}catch(T){console.error("Login error:",T),T.message==="Failed to fetch"?o("Connection error: Backend server is not running. Please start the server or contact support."):o(T.message||"Login failed. Please try again.")}finally{r(!1)}}}return p.jsxs("div",{className:"px-6 pb-6 flex flex-col gap-4","aria-label":"Recruiter Login",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"Access your dashboard and start recruiting."}),p.jsxs("form",{onSubmit:y,className:"flex flex-col gap-4",children:[p.jsxs("label",{className:"flex flex-col font-medium gap-1",children:["Email",p.jsx("input",{type:"email",className:`border rounded-md px-3 py-2 text-base outline-none transition ${h.email&&!v?"border-red-500":"border-gray-300"}`,value:s,onChange:m=>a(m.target.value),onBlur:()=>f(m=>({...m,email:!0}))}),h.email&&!v&&p.jsx("span",{className:"text-red-600 text-sm",children:"Enter a valid email"})]}),p.jsxs("label",{className:"flex flex-col font-medium gap-1 relative",children:["Password",p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:u?"text":"password",className:`border rounded-md px-3 py-2 text-base outline-none transition w-full pr-10 ${h.password&&!S?"border-red-500":"border-gray-300"}`,value:l,onChange:m=>c(m.target.value),onBlur:()=>f(m=>({...m,password:!0}))}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-2 flex items-center",tabIndex:-1,"aria-label":u?"Hide password":"Show password",onClick:()=>d(m=>!m),children:u?p.jsx(vo,{className:"w-5 h-5 text-gray-400"}):p.jsx(wo,{className:"w-5 h-5 text-gray-400"})})]}),h.password&&!S&&p.jsx("span",{className:"text-red-600 text-sm",children:"Password must be at least 6 characters"})]}),i&&p.jsx("div",{className:"text-red-600 text-sm",children:i}),p.jsx(De,{type:"submit",size:"lg",className:"w-full mt-2",disabled:!w||n,"aria-busy":n,children:n?p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",children:p.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Logging in..."]}):"Login"})]}),p.jsx("div",{className:"text-center pt-2",children:p.jsx("button",{type:"button",className:"text-sm text-gray-600 hover:text-blue-700 font-semibold",onClick:()=>t("register"),children:"Don't have an account? Register"})})]})}const ZF={}.VITE_API_URL||"http://localhost:3000",eH=async t=>{const{name:e,company:n,email:r,password:i}=t;try{const o={accountEnabled:!0,displayName:e,mailNickname:r.split("@")[0],userPrincipalName:`${r.split("@")[0]}@stagequestrecruterb2c.onmicrosoft.com`,identities:[{signInType:"emailAddress",issuer:"stagequestrecruterb2c.onmicrosoft.com",issuerAssignedId:r}],passwordProfile:{forceChangePasswordNextSignIn:!1,password:i},companyName:n,mail:r,otherMails:[r],"extension_<custom-id>_userType":"recruiter"},s=await fetch(`${ZF}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!s.ok){const a=await s.json();throw new Error(a.error||a.message||"Registration failed")}return await s.json()}catch(o){throw console.error("Registration error:",o),o}};function tH({onSwitchForm:t,onClose:e}){const[n,r]=C.useState({name:"",company:"",email:"",password:"",confirmPassword:""}),[i,o]=C.useState(!1),[s,a]=C.useState(!1),[l,c]=C.useState(!1),[u,d]=C.useState(""),[h,f]=C.useState({}),[g,v]=C.useState(!1),S=Kn(),w=n.name.trim().length>=2,y=n.company.trim().length>=2,m=/^\S+@\S+\.\S+$/.test(n.email),T=/[A-Z]/.test(n.password),x=/[a-z]/.test(n.password),I=/[0-9]/.test(n.password),_=/[^A-Za-z0-9]/.test(n.password),k=n.password.length>=8,R=n.email?n.email.split("@")[0].toLowerCase():"",O=R&&n.password.toLowerCase().includes(R.toLowerCase()),G=T&&x&&I&&_&&k&&!O,L=n.password===n.confirmPassword&&n.password.length>0,Q=w&&y&&m&&G&&L;function ee(j){r(D=>({...D,[j.target.name]:j.target.value}))}function ie(j){f(D=>({...D,[j.target.name]:!0}))}const V=async j=>{j.preventDefault(),c(!0),d("");try{const D={name:n.name,company:n.company,email:n.email,password:n.password},B=await eH(D);console.log("Registration successful:",B),v(!0),B.token?(localStorage.setItem("authToken",B.token),console.log("Token stored:",localStorage.getItem("authToken")),setTimeout(()=>{v(!1),e&&e(),S("/helloR")},3e3)):setTimeout(()=>{v(!1),e&&e(),S("/login")},3e3)}catch(D){console.error("Registration error:",D),D.message==="Failed to fetch"?d("Connection error: Backend server is not running. Please start the server or contact support."):d(D.message||"Registration failed. Please try again.")}finally{c(!1)}},oe=()=>h.password?p.jsxs("div",{className:"mt-2 text-xs space-y-1",children:[p.jsx("p",{className:"font-medium",children:"Password requirements:"}),p.jsxs("p",{className:k?"text-green-600":"text-red-600",children:[k?"✓":"✗"," At least 8 characters"]}),p.jsxs("p",{className:T?"text-green-600":"text-red-600",children:[T?"✓":"✗"," At least one uppercase letter"]}),p.jsxs("p",{className:x?"text-green-600":"text-red-600",children:[x?"✓":"✗"," At least one lowercase letter"]}),p.jsxs("p",{className:I?"text-green-600":"text-red-600",children:[I?"✓":"✗"," At least one number"]}),p.jsxs("p",{className:_?"text-green-600":"text-red-600",children:[_?"✓":"✗"," At least one special character"]}),O&&n.email&&p.jsx("p",{className:"text-red-600",children:"✗ Password cannot contain your username"})]}):null,M=()=>p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fadeIn",children:p.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4 shadow-xl animate-scaleIn",children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx(Ck,{className:"w-16 h-16 text-green-500 mb-4"}),p.jsx("h3",{className:"text-xl font-bold mb-2",children:"Registration Successful!"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Please check your email to confirm your account."}),p.jsx(De,{onClick:()=>{v(!1),e&&e(),S("/helloR")},className:"w-full",children:"Continue"})]})})});return p.jsxs(p.Fragment,{children:[p.jsxs("form",{className:"px-6 pb-6 flex flex-col gap-4",onSubmit:V,"aria-label":"Recruiter Registration",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"Create a recruiter account to begin."}),p.jsxs("label",{className:"flex flex-col font-medium gap-1",children:["Full Name",p.jsx("input",{name:"name",type:"text",className:`border rounded-md px-3 py-2 text-base outline-none transition ${h.name&&!w?"border-red-500":"border-gray-300"}`,value:n.name,onChange:ee,onBlur:ie}),h.name&&!w&&p.jsx("span",{className:"text-red-600 text-sm",children:"Enter your full name"})]}),p.jsxs("label",{className:"flex flex-col font-medium gap-1",children:["Company Name",p.jsx("input",{name:"company",type:"text",className:`border rounded-md px-3 py-2 text-base outline-none transition ${h.company&&!y?"border-red-500":"border-gray-300"}`,value:n.company,onChange:ee,onBlur:ie}),h.company&&!y&&p.jsx("span",{className:"text-red-600 text-sm",children:"Enter your company name"})]}),p.jsxs("label",{className:"flex flex-col font-medium gap-1",children:["Work Email",p.jsx("input",{name:"email",type:"email",className:`border rounded-md px-3 py-2 text-base outline-none transition ${h.email&&!m?"border-red-500":"border-gray-300"}`,value:n.email,onChange:ee,onBlur:ie}),h.email&&!m&&p.jsx("span",{className:"text-red-600 text-sm",children:"Enter a valid email"})]}),p.jsxs("label",{className:"flex flex-col font-medium gap-1",children:["Password",p.jsxs("div",{className:"relative",children:[p.jsx("input",{name:"password",type:i?"text":"password",className:`border rounded-md px-3 py-2 text-base outline-none transition w-full pr-10 ${h.password&&!G?"border-red-500":"border-gray-300"}`,value:n.password,onChange:ee,onBlur:ie}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-2 flex items-center",tabIndex:-1,"aria-label":i?"Hide password":"Show password",onClick:()=>o(j=>!j),children:i?p.jsx(vo,{className:"w-5 h-5 text-gray-400"}):p.jsx(wo,{className:"w-5 h-5 text-gray-400"})})]}),oe()]}),p.jsxs("label",{className:"flex flex-col font-medium gap-1",children:["Confirm Password",p.jsxs("div",{className:"relative",children:[p.jsx("input",{name:"confirmPassword",type:s?"text":"password",className:`border rounded-md px-3 py-2 text-base outline-none transition w-full pr-10 ${h.confirmPassword&&!L?"border-red-500":"border-gray-300"}`,value:n.confirmPassword,onChange:ee,onBlur:ie}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-2 flex items-center",tabIndex:-1,"aria-label":s?"Hide password":"Show password",onClick:()=>a(j=>!j),children:s?p.jsx(vo,{className:"w-5 h-5 text-gray-400"}):p.jsx(wo,{className:"w-5 h-5 text-gray-400"})})]}),h.confirmPassword&&!L&&p.jsx("span",{className:"text-red-600 text-sm",children:"Passwords must match"})]}),u&&p.jsx("div",{className:"text-red-600 text-sm",children:u}),p.jsx(De,{type:"submit",size:"lg",className:"w-full mt-2",disabled:!Q||l,"aria-busy":l,children:l?p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",children:p.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Registering..."]}):"Register"})]}),g&&p.jsx(M,{}),p.jsx("style",{jsx:"true",children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes scaleIn {
          from { transform: scale(0.95); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        
        .animate-scaleIn {
          animation: scaleIn 0.4s ease-out;
        }
      `})]})}function hw(){return p.jsxs("div",{className:"flex flex-col items-center justify-center pt-6 pb-2",children:[p.jsxs("svg",{width:48,height:48,viewBox:"0 0 40 40",fill:"none",children:[p.jsx("circle",{cx:"20",cy:"20",r:"19",stroke:"#2563EB",strokeWidth:"2",fill:"#ffffffdd"}),p.jsx("rect",{x:"9",y:"16",width:"22",height:"8",rx:"4",fill:"#2563eb"})]}),p.jsx("span",{className:"text-xl font-extrabold text-blue-900 tracking-tight mt-2",children:"StageQuest"})]})}function nH(){const[t,e]=C.useState(!1),[n,r]=C.useState("login"),i=typeof window<"u"&&window.innerWidth<640;function o(l){r(l),e(!0)}function s(l){r(l)}function a(){e(!1)}return p.jsxs("div",{className:"min-h-screen bg-white",children:[p.jsxs("main",{className:"container mx-auto px-4 pt-28 pb-16 flex flex-col items-center justify-center min-h-[70vh]",children:[p.jsx(hw,{}),p.jsxs(xt.div,{className:"w-full max-w-2xl flex flex-col md:flex-row rounded-2xl shadow-2xl bg-white bg-opacity-95 dark:bg-slate-900 dark:bg-opacity-90 p-8 gap-8 backdrop-blur-sm mt-2",initial:{y:40,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:[p.jsxs("section",{className:"flex-1 flex flex-col justify-center mb-8 md:mb-0",children:[p.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-2",children:"Recruiter Access"}),p.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-base mb-4",children:"This portal is exclusively for recruiters. Please log in or register to access your dashboard and manage candidate profiles."}),p.jsx("div",{className:"mt-5 flex justify-center md:justify-start",children:p.jsxs("svg",{width:80,height:38,viewBox:"0 0 66 38",fill:"none",children:[p.jsx("rect",{x:"8",y:"8",width:"50",height:"22",rx:"7",fill:"#2563eb",opacity:"0.14"}),p.jsx("rect",{x:"0",y:"0",width:"33",height:"10",rx:"5",fill:"#a5b4fc",opacity:"0.18"}),p.jsx("rect",{x:"34",y:"28",width:"32",height:"10",rx:"5",fill:"#60a5fa",opacity:"0.18"})]})})]}),p.jsxs("section",{className:"flex-1 flex flex-col justify-center items-center gap-6 w-full",children:[p.jsxs(De,{size:"lg",className:"w-full flex justify-center gap-2",onClick:()=>o("login"),"aria-haspopup":"dialog","aria-controls":"recruiter-dialog",children:[p.jsx(Sk,{className:"w-6 h-6"}),"Login"]}),p.jsxs(De,{variant:"outline",size:"lg",className:"w-full flex justify-center gap-2",onClick:()=>o("register"),"aria-haspopup":"dialog","aria-controls":"recruiter-dialog",children:[p.jsx(Tk,{className:"w-6 h-6"}),"Register"]})]})]})]}),p.jsxs(Ek,{open:t,onClose:a,mobileFullscreen:i,id:"recruiter-dialog",children:[p.jsx(hw,{}),p.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:n==="login"?"Recruiter Login":"Recruiter Registration"}),n==="login"?p.jsx(XF,{onSwitchForm:s,onClose:a}):p.jsx(tH,{onSwitchForm:s,onClose:a})]})]})}function rH(){return p.jsx("div",{className:"flex flex-col items-center justify-center h-[70vh]",children:p.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-4",children:"hello word"})})}function iH({onSwitchForm:t,onClose:e}){const[n,r]=C.useState(""),[i,o]=C.useState(""),[s,a]=C.useState(!1),[l,c]=C.useState(!1),[u,d]=C.useState(""),[h,f]=C.useState({email:!1,password:!1}),g=Kn(),v=/^\S+@\S+\.\S+$/.test(n),S=i.length>=6,w=v&&S;async function y(m){if(m.preventDefault(),f({email:!0,password:!0}),!!w){c(!0),d("");try{const{error:T,data:x}=await io.auth.signInWithPassword({email:n,password:i});if(T)d(T.message||"Login failed—incorrect credentials.");else{if(x.user.user_metadata.role!=="student"){d("This account is not registered as a student."),await io.auth.signOut();return}e&&e(),g("/helloS")}}catch{d("Connection error. Please check your internet connection and try again.")}finally{c(!1)}}}return p.jsxs("form",{className:"px-6 pb-6 flex flex-col gap-4",onSubmit:y,"aria-label":"Student Login",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"Access your student dashboard and apply for internships."}),p.jsxs("label",{className:"flex flex-col font-medium gap-1",children:["Email",p.jsx("input",{type:"email",autoFocus:!0,autoComplete:"email",className:`
            border rounded-md px-3 py-2 text-base outline-none transition
            focus:ring-2 focus:ring-blue-500
            ${h.email&&!v?"border-red-500":"border-gray-300"}
          `,"aria-invalid":!v,"aria-describedby":"email-desc",value:n,onChange:m=>r(m.target.value),onBlur:()=>f(m=>({...m,email:!0}))}),h.email&&(v?p.jsx("span",{className:"text-green-600 text-sm",children:"✓ Email looks good"}):p.jsx("span",{id:"email-desc",className:"text-red-600 text-sm",children:"Enter a valid email"}))]}),p.jsxs("label",{className:"flex flex-col font-medium gap-1 relative",children:["Password",p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:s?"text":"password",autoComplete:"current-password",className:`
              border rounded-md px-3 py-2 text-base outline-none w-full pr-10
              transition focus:ring-2 focus:ring-blue-500
              ${h.password&&!S?"border-red-500":"border-gray-300"}
            `,"aria-invalid":!S,"aria-describedby":"pw-desc",value:i,onChange:m=>o(m.target.value),onBlur:()=>f(m=>({...m,password:!0}))}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-2 flex items-center",tabIndex:-1,"aria-label":s?"Hide password":"Show password",onClick:()=>a(m=>!m),children:s?p.jsx(vo,{className:"w-5 h-5 text-gray-400"}):p.jsx(wo,{className:"w-5 h-5 text-gray-400"})})]}),h.password&&(S?p.jsx("span",{className:"text-green-600 text-sm",children:"✓ Password OK"}):p.jsx("span",{id:"pw-desc",className:"text-red-600 text-sm",children:"At least 6 characters"})),p.jsx("a",{href:"#",className:"text-xs self-end mt-1 text-blue-700 hover:underline",tabIndex:0,onClick:m=>{m.preventDefault(),alert("Forgot password functionality coming soon!")},children:"Forgot Password?"})]}),u&&p.jsx("div",{className:"text-red-600 text-sm",children:u}),p.jsx(De,{type:"submit",size:"lg",className:"w-full mt-2",disabled:!w||l,"aria-busy":l,children:l?p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Login"}),p.jsx("div",{className:"text-center pt-2",children:p.jsx("button",{type:"button",className:"text-sm text-gray-600 hover:text-blue-700 font-semibold",onClick:()=>t("register"),children:"Don't have an account? Register"})})]})}function oH({onSwitchForm:t,onClose:e}){const[n,r]=C.useState({name:"",university:"",email:"",pw:"",pw2:""}),[i,o]=C.useState(!1),[s,a]=C.useState(!1),[l,c]=C.useState(!1),[u,d]=C.useState(""),[h,f]=C.useState({}),[g,v]=C.useState(!1),S=Kn(),w=n.name.trim().length>=2,y=n.university.trim().length>=2,m=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n.email),T=n.pw.length>=6,x=n.pw2===n.pw&&n.pw2.length>0,I=w&&y&&m&&T&&x;function _(L){r(Q=>({...Q,[L.target.name]:L.target.value}))}function k(L){f(Q=>({...Q,[L.target.name]:!0}))}let R;async function O(L){if(L.preventDefault(),f({name:!0,university:!0,email:!0,pw:!0,pw2:!0}),!I)return;if(!io){d("Supabase client is not initialized. Please contact support.");return}if(R){d("Please wait before submitting again.");return}R=setTimeout(()=>{R=null},5e3),c(!0),d("");let Q=0;const ee=3,ie=3e3;for(;Q<ee;)try{const{data:V,error:oe}=await io.auth.signUp({email:n.email.trim(),password:n.pw,options:{data:{full_name:n.name.trim(),university:n.university.trim(),role:"student"}}});if(oe)throw console.error("Auth error:",oe),new Error(oe.message||"Failed to create account");if(!(V!=null&&V.user))throw new Error("No user data returned from authentication");console.log("User created successfully:",V.user.id);try{await xF(io,{id:V.user.id,email:V.user.email,user_metadata:V.user.user_metadata}),console.log("Profile created successfully")}catch(M){console.warn("Profile creation warning:",M)}v(!0),setTimeout(()=>{v(!1),e&&e(),S("/helloS")},3e3);return}catch(V){if(console.error("Registration error:",V),d(V.message||"Registration failed - please try again later"),V.message.includes("rate limit"))if(Q++,Q<ee){d(`Rate limit exceeded. Retrying in ${ie/1e3} seconds...`),await new Promise(oe=>setTimeout(oe,ie));continue}else d("Too many registration attempts. Please wait a few minutes and try again.");else d(V.message||"Registration failed - please try again later")}finally{c(!1)}}const G=()=>p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fadeIn",children:p.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4 shadow-xl animate-scaleIn",children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx(Ck,{className:"w-16 h-16 text-green-500 mb-4"}),p.jsx("h3",{className:"text-xl font-bold mb-2",children:"Registration Successful!"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Please check your email to confirm your account."}),p.jsx(De,{onClick:()=>{v(!1),e&&e(),S("/helloS")},className:"w-full",children:"Continue"})]})})});return p.jsxs(p.Fragment,{children:[p.jsxs("form",{className:"px-6 pb-6 flex flex-col gap-4",onSubmit:O,"aria-label":"Student Registration",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"Create a student account to begin."}),p.jsxs("label",{className:"flex flex-col font-medium gap-1",children:["Full Name",p.jsx("input",{name:"name",type:"text",className:`
              border rounded-md px-3 py-2 text-base outline-none transition
              focus:ring-2 focus:ring-blue-500
              ${h.name&&!w?"border-red-500":"border-gray-300"}
            `,"aria-invalid":!w,value:n.name,onChange:_,onBlur:k}),h.name&&(w?p.jsx("span",{className:"text-green-600 text-sm",children:"✓ Name looks good"}):p.jsx("span",{className:"text-red-600 text-sm",children:"Enter your full name"}))]}),p.jsxs("label",{className:"flex flex-col font-medium gap-1",children:["University",p.jsx("input",{name:"university",type:"text",className:`
              border rounded-md px-3 py-2 text-base outline-none transition
              focus:ring-2 focus:ring-blue-500
              ${h.university&&!y?"border-red-500":"border-gray-300"}
            `,"aria-invalid":!y,value:n.university,onChange:_,onBlur:k}),h.university&&(y?p.jsx("span",{className:"text-green-600 text-sm",children:"✓ University looks good"}):p.jsx("span",{className:"text-red-600 text-sm",children:"Enter your university"}))]}),p.jsxs("label",{className:"flex flex-col font-medium gap-1",children:["Email",p.jsx("input",{name:"email",type:"email",autoComplete:"email",className:`
              border rounded-md px-3 py-2 text-base outline-none transition
              focus:ring-2 focus:ring-blue-500
              ${h.email&&!m?"border-red-500":"border-gray-300"}
            `,"aria-invalid":!m,value:n.email,onChange:_,onBlur:k}),h.email&&(m?p.jsx("span",{className:"text-green-600 text-sm",children:"✓ Email looks good"}):p.jsx("span",{className:"text-red-600 text-sm",children:"Enter a valid email"}))]}),p.jsxs("label",{className:"flex flex-col font-medium gap-1 relative",children:["Password",p.jsxs("div",{className:"relative",children:[p.jsx("input",{name:"pw",type:i?"text":"password",autoComplete:"new-password",className:`
                border rounded-md px-3 py-2 text-base outline-none transition w-full pr-10
                focus:ring-2 focus:ring-blue-500
                ${h.pw&&!T?"border-red-500":"border-gray-300"}
              `,"aria-invalid":!T,value:n.pw,onChange:_,onBlur:k}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-2 flex items-center",tabIndex:-1,"aria-label":i?"Hide password":"Show password",onClick:()=>o(L=>!L),children:i?p.jsx(vo,{className:"w-5 h-5 text-gray-400"}):p.jsx(wo,{className:"w-5 h-5 text-gray-400"})})]}),h.pw&&(T?p.jsx("span",{className:"text-green-600 text-sm",children:"✓ Password OK"}):p.jsx("span",{className:"text-red-600 text-sm",children:"At least 6 characters"}))]}),p.jsxs("label",{className:"flex flex-col font-medium gap-1 relative",children:["Confirm Password",p.jsxs("div",{className:"relative",children:[p.jsx("input",{name:"pw2",type:s?"text":"password",autoComplete:"new-password",className:`
                border rounded-md px-3 py-2 text-base outline-none transition w-full pr-10
                focus:ring-2 focus:ring-blue-500
                ${h.pw2&&!x?"border-red-500":"border-gray-300"}
              `,"aria-invalid":!x,value:n.pw2,onChange:_,onBlur:k}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-2 flex items-center",tabIndex:-1,"aria-label":s?"Hide password":"Show password",onClick:()=>a(L=>!L),children:s?p.jsx(vo,{className:"w-5 h-5 text-gray-400"}):p.jsx(wo,{className:"w-5 h-5 text-gray-400"})})]}),h.pw2&&(x?p.jsx("span",{className:"text-green-600 text-sm",children:"✓ Passwords match"}):p.jsx("span",{className:"text-red-600 text-sm",children:"Passwords must match"}))]}),u&&p.jsx("div",{className:"text-red-600 text-sm",children:u}),p.jsx(De,{type:"submit",size:"lg",className:"w-full mt-2",disabled:!I||l,"aria-busy":l,children:l?p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",children:p.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Registering..."]}):"Register"}),p.jsx("div",{className:"text-center pt-2",children:p.jsx("button",{type:"button",className:"text-sm text-gray-600 hover:text-blue-700 font-semibold",onClick:()=>t("login"),children:"Already have an account? Login"})})]}),g&&p.jsx(G,{}),p.jsx("style",{jsx:"true",children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes scaleIn {
          from { transform: scale(0.95); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        
        .animate-scaleIn {
          animation: scaleIn 0.4s ease-out;
        }
      `})]})}function fw(){return p.jsxs("div",{className:"flex flex-col items-center justify-center pt-6 pb-2",children:[p.jsxs("svg",{width:48,height:48,viewBox:"0 0 40 40",fill:"none",children:[p.jsx("circle",{cx:"20",cy:"20",r:"19",stroke:"#2563EB",strokeWidth:"2",fill:"#ffffffdd"}),p.jsx("rect",{x:"9",y:"16",width:"22",height:"8",rx:"4",fill:"#2563eb"})]}),p.jsx("span",{className:"text-xl font-extrabold text-blue-900 tracking-tight mt-2",children:"StageQuest"})]})}function sH(){const[t,e]=C.useState(!1),[n,r]=C.useState("login"),i=typeof window<"u"&&window.innerWidth<640;function o(l){r(l),e(!0)}function s(l){r(l)}function a(){e(!1)}return p.jsxs("div",{className:"min-h-screen bg-white",children:[p.jsxs("main",{className:"container mx-auto px-4 pt-28 pb-16 flex flex-col items-center justify-center min-h-[70vh]",children:[p.jsx(fw,{}),p.jsxs(xt.div,{className:"w-full max-w-2xl flex flex-col md:flex-row rounded-2xl shadow-2xl bg-white bg-opacity-95 dark:bg-slate-900 dark:bg-opacity-90 p-8 gap-8 backdrop-blur-sm mt-2",initial:{y:40,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:[p.jsxs("section",{className:"flex-1 flex flex-col justify-center mb-8 md:mb-0",children:[p.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-2",children:"Student Access"}),p.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-base mb-4",children:"This portal is exclusively for students. Please log in or register to access your dashboard and manage your internship applications."}),p.jsx("div",{className:"mt-5 flex justify-center md:justify-start",children:p.jsxs("svg",{width:80,height:38,viewBox:"0 0 66 38",fill:"none",children:[p.jsx("rect",{x:"8",y:"8",width:"50",height:"22",rx:"7",fill:"#2563eb",opacity:"0.14"}),p.jsx("rect",{x:"0",y:"0",width:"33",height:"10",rx:"5",fill:"#a5b4fc",opacity:"0.18"}),p.jsx("rect",{x:"34",y:"28",width:"32",height:"10",rx:"5",fill:"#60a5fa",opacity:"0.18"})]})})]}),p.jsxs("section",{className:"flex-1 flex flex-col justify-center items-center gap-6 w-full",children:[p.jsxs(De,{size:"lg",className:"w-full flex justify-center gap-2",onClick:()=>o("login"),"aria-haspopup":"dialog","aria-controls":"student-dialog",children:[p.jsx(Sk,{className:"w-6 h-6"}),"Login"]}),p.jsxs(De,{variant:"outline",size:"lg",className:"w-full flex justify-center gap-2",onClick:()=>o("register"),"aria-haspopup":"dialog","aria-controls":"student-dialog",children:[p.jsx(Tk,{className:"w-6 h-6"}),"Register"]})]})]})]}),p.jsxs(Ek,{open:t,onClose:a,mobileFullscreen:i,id:"student-dialog",children:[p.jsx(fw,{}),p.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:n==="login"?"Student Login":"Student Registration"}),n==="login"?p.jsx(iH,{onSwitchForm:s,onClose:a}):p.jsx(oH,{onSwitchForm:s,onClose:a})]})]})}function Wo(t,e=null){return typeof window<"u"&&window.ENV&&window.ENV[t]?window.ENV[t]:{VITE_STUDENT_SUPABASE_URL:"https://merambntyjutvpocjyin.supabase.co",VITE_STUDENT_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1lcmFtYm50eWp1dHZwb2NqeWluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU3MTIyNTMsImV4cCI6MjA2MTI4ODI1M30.NSB7wKx5AKND5jK-PTKY-AQRVHmpxtCBGaIsEUuQ0MI",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&{VITE_STUDENT_SUPABASE_URL:"https://merambntyjutvpocjyin.supabase.co",VITE_STUDENT_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1lcmFtYm50eWp1dHZwb2NqeWluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU3MTIyNTMsImV4cCI6MjA2MTI4ODI1M30.NSB7wKx5AKND5jK-PTKY-AQRVHmpxtCBGaIsEUuQ0MI",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[t]?{VITE_STUDENT_SUPABASE_URL:"https://merambntyjutvpocjyin.supabase.co",VITE_STUDENT_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1lcmFtYm50eWp1dHZwb2NqeWluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU3MTIyNTMsImV4cCI6MjA2MTI4ODI1M30.NSB7wKx5AKND5jK-PTKY-AQRVHmpxtCBGaIsEUuQ0MI",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[t]:e}function pw(){return typeof window<"u"&&window.ENV!==void 0}const xk={apiUrl:Wo("VITE_API_URL")||(pw()?"http://api:3000":window.location.hostname==="localhost"?"http://localhost:3000":window.location.protocol+"//"+window.location.hostname+"/api"),supabase:{student:{url:Wo("VITE_STUDENT_SUPABASE_URL"),key:Wo("VITE_STUDENT_SUPABASE_ANON_KEY")}},azure:{clientId:Wo("REACT_APP_AZURE_CLIENT_ID"),tenantId:Wo("REACT_APP_AZURE_TENANT_ID")},isDocker:pw(),isLocalhost:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"};function aH(){const[t,e]=C.useState(null),[n,r]=C.useState(!0),[i,o]=C.useState(!1),s=Kn();return C.useEffect(()=>{(async()=>{try{const l=localStorage.getItem("authToken");if(!l){o(!0);return}const c=await fetch(`${xk.apiUrl}/api/verify-student`,{method:"GET",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!c.ok){o(!0);return}const u=await c.json();e(u),o(!1)}catch(l){console.error("Authentication error:",l),o(!0)}finally{r(!1)}})()},[s]),C.useEffect(()=>{i&&!n&&s("/login",{state:{message:"Please login as a student to access this page"}})},[i,n,s]),n?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):p.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white",children:p.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-16",children:[p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[p.jsxs("div",{className:"flex items-center mb-8",children:[p.jsx("div",{className:"bg-green-100 rounded-full p-3 mr-4",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),p.jsxs("div",{children:[p.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["Welcome, ",(t==null?void 0:t.name)||"Student","!"]}),p.jsxs("p",{className:"text-gray-500",children:[(t==null?void 0:t.university)||"Your University"," • ",(t==null?void 0:t.major)||"Your Major"]})]})]}),p.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Your Student Dashboard"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-2 text-blue-800",children:"Complete Your Profile"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Enhance your profile to stand out to potential employers."}),p.jsx(De,{className:"w-full",children:"Update Profile"})]}),p.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-2 text-purple-800",children:"Browse Internships"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Find internships that match your skills and interests."}),p.jsx(De,{className:"w-full bg-purple-600 hover:bg-purple-700",children:"Find Opportunities"})]})]}),p.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Your Progress"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),p.jsx("div",{className:"text-gray-500 text-sm",children:"Applications"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),p.jsx("div",{className:"text-gray-500 text-sm",children:"Interviews"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),p.jsx("div",{className:"text-gray-500 text-sm",children:"Offers"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"70%"}),p.jsx("div",{className:"text-gray-500 text-sm",children:"Profile Strength"})]})]})]})]}),p.jsxs("div",{className:"text-center text-gray-500 text-sm",children:[p.jsx("p",{children:"This is a protected page only accessible to students."}),p.jsx("button",{className:"text-blue-500 hover:underline mt-2",onClick:()=>{localStorage.removeItem("authToken"),s("/")},children:"Log out"})]})]})})}function lH(){const[t,e]=C.useState(null),[n,r]=C.useState(!0),[i,o]=C.useState(!1),s=Kn();return C.useEffect(()=>{(async()=>{try{const l=localStorage.getItem("authToken");if(!l){o(!0);return}const c=await fetch(`${xk.apiUrl}/api/verify-recruiter`,{method:"GET",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!c.ok){o(!0);return}const u=await c.json();e(u),o(!1)}catch(l){console.error("Authentication error:",l),o(!0)}finally{r(!1)}})()},[s]),C.useEffect(()=>{i&&!n&&s("/recreuter",{state:{message:"Please login as a recruiter to access this page"}})},[i,n,s]),n?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):p.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:p.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-16",children:[p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[p.jsxs("div",{className:"flex items-center mb-8",children:[p.jsx("div",{className:"bg-blue-100 rounded-full p-3 mr-4",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),p.jsxs("div",{children:[p.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["Welcome, ",(t==null?void 0:t.name)||"Recruiter","!"]}),p.jsx("p",{className:"text-gray-500",children:(t==null?void 0:t.company)||"Your Company"})]})]}),p.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Your Recruiter Dashboard"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-2 text-blue-800",children:"Post New Internship"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Create a new internship listing to find the best talent for your company."}),p.jsx(De,{className:"w-full",children:"Create Listing"})]}),p.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-2 text-green-800",children:"Browse Student Profiles"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Find talented students that match your requirements."}),p.jsx(De,{className:"w-full bg-green-600 hover:bg-green-700",children:"Browse Students"})]})]}),p.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Stats"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),p.jsx("div",{className:"text-gray-500 text-sm",children:"Active Listings"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),p.jsx("div",{className:"text-gray-500 text-sm",children:"Applications"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),p.jsx("div",{className:"text-gray-500 text-sm",children:"Interviews"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"0"}),p.jsx("div",{className:"text-gray-500 text-sm",children:"Offers Sent"})]})]})]})]}),p.jsxs("div",{className:"text-center text-gray-500 text-sm",children:[p.jsx("p",{children:"This is a protected page only accessible to recruiters."}),p.jsx("button",{className:"text-blue-500 hover:underline mt-2",onClick:()=>{localStorage.removeItem("authToken"),s("/")},children:"Log out"})]})]})})}const ki=[["https://images.unsplash.com/photo-1684563983781-ce52a026f139","https://images.unsplash.com/photo-1564531718001-9813bc3fd35d","https://images.unsplash.com/photo-1607615896122-6c919f897e55","https://images.unsplash.com/photo-1683893519004-addd9f9d1dde","https://images.unsplash.com/photo-1683893519004-addd9f9d1dde","https://images.unsplash.com/photo-1607615896122-6c919f897e55"],["https://images.unsplash.com/photo-1607615896122-6c919f897e55","https://images.unsplash.com/photo-1683893519004-addd9f9d1dde","https://images.unsplash.com/photo-1684563983781-ce52a026f139","https://images.unsplash.com/photo-1564531718001-9813bc3fd35d","https://images.unsplash.com/photo-1564531718001-9813bc3fd35d","https://images.unsplash.com/photo-1684563983781-ce52a026f139"]];function cH(){const[t,e]=C.useState(!1),n=C.useRef(null),r=hD(),[i,o]=C.useState(!1),[s,a]=C.useState(!1),[l,c]=C.useState(!1),u=g=>{if(!n.current)return;const{left:v,top:S,width:w,height:y}=n.current.getBoundingClientRect(),m=(g.clientX-v)/w-.5,T=(g.clientY-S)/y-.5;r.start({rotateY:-m*6,rotateX:T*6,x:-m*5,y:-T*5,scale:1.03,transition:{type:"spring",stiffness:80,damping:12}})},d=()=>{r.start({rotateY:0,rotateX:0,transition:{type:"spring",stiffness:100,damping:10}}),o(!1)},h=()=>{o(!0)},f=()=>{a(!0)};return p.jsxs(p.Fragment,{children:[p.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-white/90 backdrop-blur-md z-50 border-b",children:[p.jsxs("div",{className:"container mx-auto px-4 h-14 sm:h-16 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs(xn,{to:"/",className:"flex items-center gap-2 group",style:{textDecoration:"none"},children:[p.jsx("img",{alt:"StageQuest Logo",className:"h-8 w-auto transition-transform group-hover:scale-105",src:"https://images.unsplash.com/photo-1532759238051-32b615b1efb8",style:{minWidth:32}}),p.jsx("span",{className:"font-bold text-xl text-black group-hover:text-blue-700 transition-colors",children:"StageQuest"})]}),p.jsxs("nav",{className:"hidden md:flex items-center gap-8 ml-8",children:[p.jsx(xn,{to:"#services",className:"text-foreground/80 hover:text-foreground",children:"Our Services"}),p.jsx(xn,{to:"/recreuter",className:"text-foreground/80 hover:text-foreground",children:"recreuter space"}),p.jsx(xn,{to:"/student",className:"text-foreground/80 hover:text-foreground",children:"students space"})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(De,{onClick:()=>e(!0),className:"button-gradient hidden sm:flex",children:"Get Started"}),p.jsx("button",{className:"md:hidden p-2",onClick:()=>c(!l),children:l?p.jsx(cU,{className:"h-6 w-6"}):p.jsx(aU,{className:"h-6 w-6"})})]})]}),p.jsx(Qs,{children:l&&p.jsx(xt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t bg-white",children:p.jsxs("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[p.jsx(xn,{to:"#services",className:"text-foreground/80 hover:text-foreground p-2",onClick:()=>c(!1),children:"Our Services"}),p.jsx(xn,{to:"/recreuter",className:"text-foreground/80 hover:text-foreground p-2",onClick:()=>c(!1),children:"Recruiter Space"}),p.jsx(xn,{to:"/student",className:"text-foreground/80 hover:text-foreground p-2",onClick:()=>c(!1),children:"Student Space"}),p.jsx(De,{onClick:()=>{e(!0),c(!1)},className:"button-gradient w-full sm:hidden",children:"Get Started"})]})})})]}),p.jsxs("main",{className:"min-h-screen pb-8",children:[p.jsxs(sI,{children:[p.jsx(qn,{path:"/",element:p.jsxs(p.Fragment,{children:[p.jsxs("section",{className:"container mx-auto px-4 pt-20 sm:pt-28 pb-8 sm:pb-16 text-center",children:[p.jsxs(xt.h1,{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:["Leave it to ",p.jsx("span",{className:"gradient-text",children:"StageQuest"})]}),p.jsx(xt.p,{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto mb-6 sm:mb-8 px-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:"We don't offer listings—we place you inside. Real internships, real companies, real experience. You're not browsing. You're building."}),p.jsx(xt.div,{className:"youtube-container mb-8",ref:n,onMouseMove:u,onMouseLeave:d,onMouseEnter:h,animate:r,style:{transformStyle:"preserve-3d",willChange:"transform"},children:s?p.jsx("iframe",{src:"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1",title:"StageQuest Introduction",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full rounded-2xl"}):p.jsxs("div",{className:"relative w-full h-full cursor-pointer rounded-2xl overflow-hidden",onClick:f,children:[p.jsx("img",{src:"https://img.youtube.com/vi/K27diMbCsuw/maxresdefault.jpg",alt:"Video Thumbnail",className:"w-full h-full object-cover rounded-2xl"}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsxs("svg",{className:"w-20 h-20 text-white hover:text-gray-300 transition-colors",fill:"currentColor",viewBox:"0 0 84 84",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("rect",{x:"18",y:"18",width:"48",height:"48",fill:"white",rx:"12",ry:"12"}),p.jsx("circle",{opacity:"0.9",cx:"42",cy:"42",r:"36",fill:"black"}),p.jsx("polygon",{points:"35,25 58,42 35,59",fill:"white",rx:"4",ry:"4"})]})})]})}),p.jsx(xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:p.jsxs(De,{onClick:()=>e(!0),className:"button-gradient text-lg px-8 py-6 rounded-full",children:["Start Your Journey ",p.jsx(tU,{className:"ml-2 h-5 w-5"})]})})]}),p.jsxs("section",{className:"py-6 sm:py-16 overflow-hidden",children:[p.jsx("h2",{className:"text-base sm:text-xl text-center text-muted-foreground mb-4 sm:mb-8",children:"Trusted by Leading Companies"}),p.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[p.jsx("div",{className:"overflow-hidden relative w-full",children:p.jsx("div",{className:"flex",children:p.jsx("div",{className:"partners-scroll",children:[...ki[0],...ki[0],...ki[0]].map((g,v)=>p.jsx("img",{alt:`Partner company ${v+1}`,src:g,className:"h-8 sm:h-12 w-auto max-w-full rounded-lg opacity-60 hover:opacity-100 transition-opacity mx-4 sm:mx-8"},v))})})}),p.jsx("div",{className:"overflow-hidden relative w-full mt-8",children:p.jsx("div",{className:"flex",children:p.jsx("div",{className:"partners-scroll-reverse",children:[...ki[1],...ki[1],...ki[1]].map((g,v)=>p.jsx("img",{alt:`Partner company ${v+6}`,src:g,className:"h-8 sm:h-12 w-auto max-w-full rounded-lg opacity-60 hover:opacity-100 transition-opacity mx-4 sm:mx-8"},v))})})})]})]}),p.jsxs("section",{className:"container mx-auto px-4 py-8 sm:py-16 text-center",children:[p.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4 sm:mb-6",children:"About StageQuest"}),p.jsx("p",{className:"max-w-2xl mx-auto text-base sm:text-lg mb-6 sm:mb-8 px-2",children:"We're on a mission to connect passionate students with meaningful internship opportunities. Our team of dedicated mentors and industry experts work tirelessly to match you with companies that share your values and vision."})]}),p.jsxs("section",{className:"container mx-auto px-4 py-8 sm:py-16",children:[p.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-8 sm:mb-12",children:"FAQ"}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 sm:gap-8 max-w-4xl mx-auto",children:[p.jsx(ei,{children:p.jsxs(ti,{className:"p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-2",children:"What if I don't know what field to choose?"}),p.jsx("p",{children:"That's completely normal! Our mentors will help you explore different fields based on your interests and strengths."})]})}),p.jsx(ei,{children:p.jsxs(ti,{className:"p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Do I need experience to get an internship?"}),p.jsx("p",{children:"Not at all! Many companies value enthusiasm and potential over experience. We'll help you showcase your strengths."})]})}),p.jsx(ei,{children:p.jsxs(ti,{className:"p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Will StageQuest help me prepare for interviews?"}),p.jsx("p",{children:"Absolutely! We provide interview preparation, resume reviews, and personalized coaching to help you succeed."})]})})]})]})]})}),p.jsx(qn,{path:"/recreuter",element:p.jsx(nH,{})}),p.jsx(qn,{path:"/student",element:p.jsx(sH,{})}),p.jsx(qn,{path:"/hello",element:p.jsx(cw,{children:p.jsx(rH,{})})}),p.jsx(qn,{path:"/dashboard",element:p.jsx(cw,{requiredRole:"recruiter",children:p.jsx(zF,{})})}),p.jsx(qn,{path:"/helloS",element:p.jsx(aH,{})}),p.jsx(qn,{path:"/helloR",element:p.jsx(lH,{})})]}),p.jsx(VF,{}),p.jsx(Qs,{children:t&&p.jsx(kF,{isVisible:t,onClose:()=>e(!1)})})]})]})}const K=t=>typeof t=="string",qo=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},gw=t=>t==null?"":""+t,uH=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},dH=/###/g,mw=t=>t&&t.indexOf("###")>-1?t.replace(dH,"."):t,yw=t=>!t||K(t),Es=(t,e,n)=>{const r=K(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(yw(t))return{};const o=mw(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return yw(t)?{}:{obj:t,k:mw(r[i])}},vw=(t,e,n)=>{const{obj:r,k:i}=Es(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],s=e.slice(0,e.length-1),a=Es(t,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=Es(t,s,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},hH=(t,e,n,r)=>{const{obj:i,k:o}=Es(t,e,Object);i[o]=i[o]||[],i[o].push(n)},fc=(t,e)=>{const{obj:n,k:r}=Es(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},fH=(t,e,n)=>{const r=fc(t,n);return r!==void 0?r:fc(e,n)},kk=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?K(t[r])||t[r]instanceof String||K(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):kk(t[r],e[r],n):t[r]=e[r]);return t},_i=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var pH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gH=t=>K(t)?t.replace(/[&<>"'\/]/g,e=>pH[e]):t;class mH{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const yH=[" ",",","?","!",";"],vH=new mH(20),wH=(t,e,n)=>{e=e||"",n=n||"";const r=yH.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=vH.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(t);if(!o){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(o=!0)}return o},af=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let l=o;l<r.length;++l)if(l!==o&&(a+=n),a+=r[l],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;o+=l-o+1;break}i=s}return i},pc=t=>t==null?void 0:t.replace("_","-"),CH={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class gc{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||CH,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(K(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new gc(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new gc(this.logger,e)}}var yn=new gc;class gu{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[a,l]=s;for(let c=0;c<l;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,l]=s;for(let c=0;c<l;c++)a.apply(a,[e,...r])})}}class ww extends gu{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){var c,u;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):K(r)&&o?a.push(...r.split(o)):a.push(r)));const l=fc(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!s||!K(r)?l:af((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,o)}addResource(e,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),vw(this.data,a,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(K(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=fc(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?kk(l,r,o):l={...l,...r},vw(this.data,a,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var _k={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{var s;e=((s=this.processors[o])==null?void 0:s.process(e,n,r,i))??e}),e}};const Cw={},Sw=t=>!K(t)&&typeof t!="boolean"&&typeof t!="number";class mc extends gu{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),uH(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=yn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const r={...arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!wH(e,r,i);if(s&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:K(o)?[o]:o};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(i)}return{key:e,namespaces:K(o)?[o]:o}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1],u=i.lng||this.language,d=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(d){const L=i.nsSeparator||this.options.nsSeparator;return o?{res:`${c}${L}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${L}${a}`}return o?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:a}const h=this.resolve(e,i);let f=h==null?void 0:h.res;const g=(h==null?void 0:h.usedKey)||a,v=(h==null?void 0:h.exactUsedKey)||a,S=["[object Number]","[object Function]","[object RegExp]"],w=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,m=i.count!==void 0&&!K(i.count),T=mc.hasDefaultValue(i),x=m?this.pluralResolver.getSuffix(u,i.count,i):"",I=i.ordinal&&m?this.pluralResolver.getSuffix(u,i.count,{ordinal:!1}):"",_=m&&!i.ordinal&&i.count===0,k=_&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${x}`]||i[`defaultValue${I}`]||i.defaultValue;let R=f;y&&!f&&T&&(R=k);const O=Sw(R),G=Object.prototype.toString.apply(R);if(y&&R&&O&&S.indexOf(G)<0&&!(K(w)&&Array.isArray(R))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,R,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return o?(h.res=L,h.usedParams=this.getUsedParamsDetails(i),h):L}if(s){const L=Array.isArray(R),Q=L?[]:{},ee=L?v:g;for(const ie in R)if(Object.prototype.hasOwnProperty.call(R,ie)){const V=`${ee}${s}${ie}`;T&&!f?Q[ie]=this.translate(V,{...i,defaultValue:Sw(k)?k[ie]:void 0,joinArrays:!1,ns:l}):Q[ie]=this.translate(V,{...i,joinArrays:!1,ns:l}),Q[ie]===V&&(Q[ie]=R[ie])}f=Q}}else if(y&&K(w)&&Array.isArray(f))f=f.join(w),f&&(f=this.extendTranslation(f,e,i,r));else{let L=!1,Q=!1;!this.isValidLookup(f)&&T&&(L=!0,f=k),this.isValidLookup(f)||(Q=!0,f=a);const ie=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Q?void 0:f,V=T&&k!==f&&this.options.updateMissing;if(Q||L||V){if(this.logger.log(V?"updateKey":"missingKey",u,c,a,V?k:f),s){const D=this.resolve(a,{...i,keySeparator:!1});D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let oe=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let D=0;D<M.length;D++)oe.push(M[D]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(i.lng||this.language):oe.push(i.lng||this.language);const j=(D,B,te)=>{var wt;const me=T&&te!==f?te:ie;this.options.missingKeyHandler?this.options.missingKeyHandler(D,c,B,me,V,i):(wt=this.backendConnector)!=null&&wt.saveMissing&&this.backendConnector.saveMissing(D,c,B,me,V,i),this.emit("missingKey",D,c,B,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&m?oe.forEach(D=>{const B=this.pluralResolver.getSuffixes(D,i);_&&i[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(te=>{j([D],a+te,i[`defaultValue${te}`]||k)})}):j(oe,a,k))}f=this.extendTranslation(f,e,i,h,r),Q&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${c}:${a}`),(Q||L)&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,L?f:void 0,i))}return o?(h.res=f,h.usedParams=this.getUsedParamsDetails(i),h):f}extendTranslation(e,n,r,i,o){var c,u;var s=this;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=K(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const g=e.match(this.interpolator.nestingRegexp);h=g&&g.length}let f=r.replace&&!K(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),d){const g=e.match(this.interpolator.nestingRegexp),v=g&&g.length;h<v&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,v=new Array(g),S=0;S<g;S++)v[S]=arguments[S];return(o==null?void 0:o[0])===v[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):s.translate(...v,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=K(a)?[a]:a;return e!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(e=_k.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return K(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!K(n.count),f=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(K(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(S=>{var w,y;this.isValidLookup(r)||(a=S,!Cw[`${v[0]}-${S}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((y=this.utils)!=null&&y.hasLoadedNamespace(a))&&(Cw[`${v[0]}-${S}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(m=>{var I;if(this.isValidLookup(r))return;s=m;const T=[u];if((I=this.i18nFormat)!=null&&I.addLookupKeys)this.i18nFormat.addLookupKeys(T,u,m,S,n);else{let _;h&&(_=this.pluralResolver.getSuffix(m,n.count,n));const k=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(T.push(u+_),n.ordinal&&_.indexOf(R)===0&&T.push(u+_.replace(R,this.options.pluralSeparator)),f&&T.push(u+k)),g){const O=`${u}${this.options.contextSeparator}${n.context}`;T.push(O),h&&(T.push(O+_),n.ordinal&&_.indexOf(R)===0&&T.push(O+_.replace(R,this.options.pluralSeparator)),f&&T.push(O+k))}}let x;for(;x=T.pop();)this.isValidLookup(r)||(o=x,r=this.getResource(m,S,x,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){var o;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!K(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Tw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yn.create("languageUtils")}getScriptPartFromCode(e){if(e=pc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=pc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(K(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(s=>{if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&(s.indexOf("-")>0&&o.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===o||s.indexOf(o)===0&&o.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),K(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return K(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):K(e)&&o(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}const Ew={zero:0,one:1,two:2,few:3,many:4,other:5},xw={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class SH{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=yn.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=pc(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),xw;if(!e.match(/-|_/))return xw;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[o]=s,s}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>Ew[i]-Ew[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const kw=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=fH(t,e,n);return!o&&i&&K(n)&&(o=af(t,n,r),o===void 0&&(o=af(e,n,r))),o},yd=t=>t.replace(/\$/g,"$$$$");class TH{constructor(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=yn.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:v,nestingOptionsSeparator:S,maxReplaces:w,alwaysFormat:y}=e.interpolation;this.escape=n!==void 0?n:gH,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?_i(o):s||"{{",this.suffix=a?_i(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?_i(h):f||_i("$t("),this.nestingSuffix=g?_i(g):v||_i(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=w||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var f;let o,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const y=kw(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:g}):y}const v=g.split(this.formatSeparator),S=v.shift().trim(),w=v.join(this.formatSeparator).trim();return this.format(kw(n,l,S,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:S})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((f=i==null?void 0:i.interpolation)==null?void 0:f.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>yd(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?yd(this.escape(g)):yd(g)}].forEach(g=>{for(a=0;o=g.regex.exec(e);){const v=o[1].trim();if(s=c(v),s===void 0)if(typeof u=="function"){const w=u(e,o,i);s=K(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))s="";else if(d){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),s="";else!K(s)&&!this.useRawValueToEscape&&(s=gw(s));const S=g.safeValue(s);if(e=e.replace(o[0],S),d?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,s);const f=h.match(/'/g),g=h.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${u}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!K(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=u.shift(),l=u,c=!0}if(o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===e&&!K(o))return o;K(o)||(o=gw(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),c&&(o=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const EH=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},bi=t=>{const e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=e[s];return a||(a=t(pc(r),i),e[s]=a),a(n)}};class xH{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=yn.create("formatter"),this.options=e,this.formats={number:bi((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:bi((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:bi((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:bi((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:bi((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=bi(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(l=>l.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,l)=>{var d;const{formatName:c,formatOptions:u}=EH(l);if(this.formats[c]){let h=a;try{const f=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},g=f.locale||f.lng||i.locale||i.lng||r;h=this.formats[c](a,g,{...u,...i,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const kH=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class _H extends gu{constructor(e,n,r){var o,s;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=yn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(o=this.backend)==null?void 0:o.init)==null||s.call(o,r,i.backend,i)}queueLoad(e,n,r,i){const o={},s={},a={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,u=!1,s[h]===void 0&&(s[h]=!0),o[h]===void 0&&(o[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(a[c]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),!n&&r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{hH(l.loaded,[o],s),kH(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{a[c][d]===void 0&&(a[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,s)},o);return}s(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();K(e)&&(e=this.languageUtils.toResolveHierarchy(e)),K(n)&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(e,s,a)})}saveMissing(e,n,r,i,o){var l,c,u,d,h;let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const f={...s,isUpdate:o},g=this.backend.create.bind(this.backend);if(g.length<6)try{let v;g.length===5?v=g(e,n,r,i,f):v=g(e,n,r,i),v&&typeof v.then=="function"?v.then(S=>a(null,S)).catch(a):a(null,v)}catch(v){a(v)}else g(e,n,r,i,a,f)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const _w=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),K(t[1])&&(e.defaultValue=t[1]),K(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),bw=t=>{var e,n;return K(t.ns)&&(t.ns=[t.ns]),K(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),K(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Xa=()=>{},bH=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Js extends gu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=bw(e),this.services={},this.logger=yn,this.modules={external:[]},bH(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(K(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=_w();this.options={...i,...this.options,...bw(n)},this.options.interpolation={...i.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?yn.init(o(this.modules.logger),this.options):yn.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=xH;const d=new Tw(this.options);this.store=new ww(this.options.resources,this.options);const h=this.services;h.logger=yn,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new SH(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=o(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new TH(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new _H(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(f){for(var g=arguments.length,v=new Array(g>1?g-1:0),S=1;S<g;S++)v[S-1]=arguments[S];e.emit(f,...v)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new mc(this.services,this.options),this.translator.on("*",function(f){for(var g=arguments.length,v=new Array(g>1?g-1:0),S=1;S<g;S++)v[S-1]=arguments[S];e.emit(f,...v)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Xa),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=qo(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e){var o,s;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xa;const i=K(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(s=(o=this.options.preload)==null?void 0:o.forEach)==null||s.call(o,c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=qo();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Xa),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&_k.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=qo();this.emit("languageChanging",e);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===e&&(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{var d,h;!e&&!l&&this.services.languageDetector&&(l=[]);const c=K(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(K(l)?[l]:l);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,u)),this.loadResources(u,f=>{s(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const o=function(s,a){let l;if(typeof a!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([s,a].concat(u))}else l={...a};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||o.keyPrefix);const h=i.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(s)?f=s.map(g=>`${l.keyPrefix}${h}${g}`):f=l.keyPrefix?`${l.keyPrefix}${h}${s}`:s,i.t(f,l)};return K(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=r,o}t(){var i;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=this.translator)==null?void 0:i.translate(...n)}exists(){var i;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=this.translator)==null?void 0:i.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}loadNamespaces(e,n){const r=qo();return this.options.ns?(K(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=qo();K(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,o;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new Tw(_w());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Js(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xa;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new Js(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});o.store=new ww(a,i),o.services.resourceStore=o.store}return o.translator=new mc(o.services,i),o.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];o.emit(a,...c)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const tt=Js.createInstance();tt.createInstance=Js.createInstance;tt.createInstance;tt.dir;tt.init;tt.loadResources;tt.reloadResources;tt.use;tt.changeLanguage;tt.getFixedT;tt.t;tt.exists;tt.setDefaultNamespace;tt.hasLoadedNamespace;tt.loadNamespaces;tt.loadLanguages;tt.use(DF).init({resources:{en:{translation:{"We don't offer listings—we place you inside. \n Real internships, real companies, real experience. \n You're not browsing. You're building.":`We don't offer listings—we place you inside. 
 Real internships, real companies, real experience. 
 You're not browsing. You're building.`}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});vd.createRoot(document.getElementById("root")).render(p.jsx(je.StrictMode,{children:p.jsx(zN,{instance:WN,children:p.jsx(PI,{children:p.jsx(cH,{})})})}));export{Ak as g};
